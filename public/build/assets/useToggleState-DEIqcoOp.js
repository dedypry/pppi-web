import{aM as m,l as f,k as x,b as c,n as h}from"./index-DRKi_ZKH.js";import{e as y}from"./chunk-SLABUSGS-DJ7WWWAp.js";import{$ as R}from"./useControlledState-DZ8hS4K2.js";function k(e,a){if(e!=null){if(m(e)){e(a);return}try{e.current=a}catch{throw new Error(`Cannot assign value '${a}' to ref '${e}'`)}}}function I(...e){return a=>{e.forEach(t=>k(t,a))}}function _(e,a,t){let{isDisabled:r=!1,isReadOnly:i=!1,value:s,name:d,children:C,"aria-label":D,"aria-labelledby":L,validationState:n="valid",isInvalid:o}=e,b=l=>{l.stopPropagation(),a.setSelected(l.target.checked)},{pressProps:$,isPressed:u}=f({isDisabled:r}),{pressProps:g,isPressed:S}=f({onPress(){var l;a.toggle(),(l=t.current)===null||l===void 0||l.focus()},isDisabled:r||i}),{focusableProps:p}=x(e,t),v=c($,p),P=h(e,{labelable:!0});return y(t,a.isSelected,a.setSelected),{labelProps:c(g,{onClick:l=>l.preventDefault()}),inputProps:c(P,{"aria-invalid":o||n==="invalid"||void 0,"aria-errormessage":e["aria-errormessage"],"aria-controls":e["aria-controls"],"aria-readonly":i||void 0,onChange:b,disabled:r,...s==null?{}:{value:s},name:d,type:"checkbox",...v}),isSelected:a.isSelected,isPressed:u||S,isDisabled:r,isReadOnly:i,isInvalid:o||n==="invalid"}}function F(e={}){let{isReadOnly:a}=e,[t,r]=R(e.isSelected,e.defaultSelected||!1,e.onChange);function i(d){a||r(d)}function s(){a||r(!t)}return{isSelected:t,setSelected:i,toggle:s}}export{_ as $,F as a,I as m};
