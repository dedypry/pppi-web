import{a as g}from"./context-4x7w5JDY.js";import{r as f,R as h}from"./index-Br2k6vyu.js";import{c as d}from"./FocusScope-Dqv2N7f4.js";import{b as m,z as y}from"./index-DRKi_ZKH.js";const w=Symbol.for("react-aria.i18n.locale"),S=Symbol.for("react-aria.i18n.strings");let o;class s{getStringForLocale(e,t){let a=this.getStringsForLocale(t)[e];if(!a)throw new Error(`Could not find intl message ${e} in ${t} locale`);return a}getStringsForLocale(e){let t=this.strings[e];return t||(t=v(e,this.strings,this.defaultLocale),this.strings[e]=t),t}static getGlobalDictionaryForPackage(e){if(typeof window>"u")return null;let t=window[w];if(o===void 0){let a=window[S];if(!a)return null;o={};for(let i in a)o[i]=new s({[t]:a[i]},t)}let r=o==null?void 0:o[e];if(!r)throw new Error(`Strings for package "${e}" were not included by LocalizedStringProvider. Please add it to the list passed to createLocalizedStringDictionary.`);return r}constructor(e,t="en-US"){this.strings=Object.fromEntries(Object.entries(e).filter(([,r])=>r)),this.defaultLocale=t}}function v(n,e,t="en-US"){if(e[n])return e[n];let r=F(n);if(e[r])return e[r];for(let a in e)if(a.startsWith(r+"-"))return e[a];return e[t]}function F(n){return Intl.Locale?new Intl.Locale(n).language:n.split("-")[0]}const u=new Map,$=new Map;class x{format(e,t){let r=this.strings.getStringForLocale(e,this.locale);return typeof r=="function"?r(t,this):r}plural(e,t,r="cardinal"){let a=t["="+e];if(a)return typeof a=="function"?a():a;let i=this.locale+":"+r,l=u.get(i);l||(l=new Intl.PluralRules(this.locale,{type:r}),u.set(i,l));let c=l.select(e);return a=t[c]||t.other,typeof a=="function"?a():a}number(e){let t=$.get(this.locale);return t||(t=new Intl.NumberFormat(this.locale),$.set(this.locale,t)),t.format(e)}select(e,t){let r=e[t]||e.other;return typeof r=="function"?r():r}constructor(e,t){this.locale=e,this.strings=t}}const b=new WeakMap;function L(n){let e=b.get(n);return e||(e=new s(n),b.set(n,e)),e}function P(n,e){return e&&s.getGlobalDictionaryForPackage(e)||L(n)}function W(n,e){let{locale:t}=g(),r=P(n,e);return f.useMemo(()=>new x(t,r),[t,r])}function I(n,e){let t=n;for(d(t,e)&&(t=t.parentElement);t&&!d(t,e);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}const p={border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"};function E(n={}){let{style:e,isFocusable:t}=n,[r,a]=f.useState(!1),{focusWithinProps:i}=y({isDisabled:!t,onFocusWithinChange:c=>a(c)}),l=f.useMemo(()=>r?e:e?{...p,...e}:p,[r]);return{visuallyHiddenProps:{...i,style:l}}}function k(n){let{children:e,elementType:t="div",isFocusable:r,style:a,...i}=n,{visuallyHiddenProps:l}=E(n);return h.createElement(t,m(i,l),e)}export{W as $,I as a,k as b,P as c,s as d,x as e,E as f};
