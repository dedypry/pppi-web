import{a1 as _,i as z,u as A,o as D,f as j}from"./index-DRKi_ZKH.js";import{s as $}from"./chunk-OBFX2YGI-CL3YCrV8.js";import{r as w}from"./index-Br2k6vyu.js";import{j as H}from"./jsx-runtime-D_zvdyIk.js";function L(u={}){const{domRef:c,isEnabled:f=!0,overflowCheck:e="vertical",visibility:l="auto",offset:v=0,onVisibilityChange:p,updateDeps:m=[]}=u,b=w.useRef(l);w.useEffect(()=>{const t=c==null?void 0:c.current;if(!t||!f)return;const y=(r,a,n,o,s)=>{if(l==="auto"){const i=`${o}${_(s)}Scroll`;a&&n?(t.dataset[i]="true",t.removeAttribute(`data-${o}-scroll`),t.removeAttribute(`data-${s}-scroll`)):(t.dataset[`${o}Scroll`]=a.toString(),t.dataset[`${s}Scroll`]=n.toString(),t.removeAttribute(`data-${o}-${s}-scroll`))}else{const i=a&&n?"both":a?o:n?s:"none";i!==b.current&&(p==null||p(i),b.current=i)}},h=()=>{var r,a;const n=[{type:"vertical",prefix:"top",suffix:"bottom"},{type:"horizontal",prefix:"left",suffix:"right"}],o=t.querySelector('ul[data-slot="list"]'),s=+((r=o==null?void 0:o.getAttribute("data-virtual-scroll-height"))!=null?r:t.scrollHeight),i=+((a=o==null?void 0:o.getAttribute("data-virtual-scroll-top"))!=null?a:t.scrollTop);for(const{type:d,prefix:g,suffix:R}of n)if(e===d||e==="both"){const x=d==="vertical"?i>v:t.scrollLeft>v,C=d==="vertical"?i+t.clientHeight+v<s:t.scrollLeft+t.clientWidth+v<t.scrollWidth;y(d,x,C,g,R)}},S=()=>{["top","bottom","top-bottom","left","right","left-right"].forEach(r=>{t.removeAttribute(`data-${r}-scroll`)})};return h(),t.addEventListener("scroll",h,!0),l!=="auto"&&(S(),l==="both"?(t.dataset.topBottomScroll=String(e==="vertical"),t.dataset.leftRightScroll=String(e==="horizontal")):(t.dataset.topBottomScroll="false",t.dataset.leftRightScroll="false",["top","bottom","left","right"].forEach(r=>{t.dataset[`${r}Scroll`]=String(l===r)}))),()=>{t.removeEventListener("scroll",h,!0),S()}},[...m,f,l,e,p,c])}function O(u){var c;const[f,e]=z(u,$.variantKeys),{ref:l,as:v,children:p,className:m,style:b,size:t=40,offset:y=0,visibility:h="auto",isEnabled:S=!0,onVisibilityChange:r,...a}=f,n=v||"div",o=A(l);L({domRef:o,offset:y,visibility:h,isEnabled:S,onVisibilityChange:r,updateDeps:[p],overflowCheck:(c=u.orientation)!=null?c:"vertical"});const s=w.useMemo(()=>$({...e,className:m}),[D(e),m]);return{Component:n,styles:s,domRef:o,children:p,getBaseProps:(d={})=>{var g;return{ref:o,className:s,"data-orientation":(g=u.orientation)!=null?g:"vertical",style:{"--scroll-shadow-size":`${t}px`,...b,...d.style},...a,...d}}}}var E=j((u,c)=>{const{Component:f,children:e,getBaseProps:l}=O({...u,ref:c});return H.jsx(f,{...l(),children:e})});E.displayName="HeroUI.ScrollShadow";var T=E;export{T as s};
