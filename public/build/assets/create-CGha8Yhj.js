import{j as a}from"./jsx-runtime-D_zvdyIk.js";import{C as m}from"./custom-input-BXut3MJ7.js";import{C as s}from"./custom-select-DSMOB1PW.js";import{I as b}from"./input-password-DC5OnUZF.js";import{m as x}from"./index.esm-ByNbkwyk.js";import{r as v}from"./index-Br2k6vyu.js";import{m as C,a as S,b as M,c as I,d as w}from"./chunk-3BLMMOBU-D8o3ebAF.js";import{l as d}from"./chunk-OBFX2YGI-CL3YCrV8.js";import{b as _}from"./chunk-GT2IF6NJ-BTWKXWuZ.js";import"./chunk-HJTJQZF3-CNhMJ5mL.js";import"./index-DRKi_ZKH.js";import"./index-_tZa__md.js";import"./useControlledState-DZ8hS4K2.js";import"./chunk-6VC6TS2O-B3iksFJf.js";import"./chunk-SLABUSGS-DJ7WWWAp.js";import"./mergeRefs-DmiLXYt3.js";import"./useLabel-B4BjcDWr.js";import"./chunk-M3MASYO7-BJmKlK-9.js";import"./useMenuTriggerState-6breljWh.js";import"./useDialog-DWysrGHo.js";import"./FocusScope-Dqv2N7f4.js";import"./VisuallyHidden-D21Owd9S.js";import"./context-4x7w5JDY.js";import"./useCollator-Cqx0QUhy.js";import"./useMenuTrigger-DKnkbyPy.js";import"./SelectionManager-DVXmuDWl.js";import"./chunk-6JWJ7CFW-_Kan1Sv2.js";import"./chunk-GQT3YUX3-FQ1U8E7v.js";import"./getItemCount-B1PudtaV.js";import"./chunk-XPO5AVRM-CK8zi_F2.js";import"./chunk-7F3ZLNJ6-DjDYQXym.js";import"./chunk-4EXC76WE-GsHGN1t1.js";import"./eye-xUoZoy3d.js";import"./createLucideIcon-DnjXlRGJ.js";import"./lock-keyhole-DVXKx3_c.js";import"./chunk-3JRSRN3Z-C5pH4duU.js";import"./index-Co3zkiwm.js";import"./chunk-IHO36JMK-YlB-SltU.js";function y({superiors:g,department:c,roles:h,isOpen:p,setOpen:n,user:o}){const{data:i,setData:t,errors:r,post:f,processing:j}=x({id:"",name:"",email:"",job_title:"",parent_id:"",role_id:[],department_id:"",password:""});return v.useEffect(()=>{var e,l;o&&(t("id",String(o.id)),t("name",o.name),t("email",o.email),t("job_title",o.job_title),t("parent_id",(e=o.parent_id)==null?void 0:e.toString()),t("role_id",o.roles.map(u=>u.id.toString())),t("department_id",(l=o.department_id)==null?void 0:l.toString()))},[o]),a.jsx(C,{isOpen:p,onOpenChange:()=>n(!p),children:a.jsxs(S,{children:[a.jsx(M,{children:"Tambah Anggota"}),a.jsxs(I,{className:"flex flex-col gap-4",children:[a.jsx(m,{isInvalid:!!r.name,errorMessage:r.name,label:"Nama",placeholder:"Masukan Nama",value:i.name,onChange:e=>t("name",e.target.value)}),a.jsx(m,{label:"Email",isInvalid:!!r.email,errorMessage:r.email,placeholder:"Masukan Email",value:i.email,onChange:e=>t("email",e.target.value)}),a.jsx(m,{isInvalid:!!r.job_title,errorMessage:r.job_title,label:"Tugas dan tanggung jawab",placeholder:"Masukan Tugas dan tanggung jawab",value:i.job_title,onChange:e=>t("job_title",e.target.value)}),a.jsx(s,{isInvalid:!!r.parent_id,errorMessage:r.parent_id,selectedKeys:[i.parent_id],label:"Atasan",placeholder:"Pilih Atasan",onChange:e=>t("parent_id",e.target.value),children:g.filter(e=>e.id!==(o==null?void 0:o.id)).map(e=>a.jsx(d,{children:e.name},e.id))}),a.jsx(s,{selectedKeys:[i.department_id],isInvalid:!!r.department_id,errorMessage:r.department_id,label:"Department",placeholder:"Pilih Department",onChange:e=>t("department_id",e.target.value),children:c.map(e=>a.jsx(d,{children:e.name},e.id))}),a.jsx(s,{selectionMode:"multiple",isInvalid:!!r.role_id,errorMessage:r.role_id,selectedKeys:new Set(i.role_id.map(String)),label:"Role",placeholder:"Pilih Role",onSelectionChange:e=>{const l=Array.from(e).map(String);t("role_id",l)},children:h.map(e=>a.jsx(d,{children:e.name},e.id))}),a.jsx(b,{isInvalid:!!r.password,errorMessage:r.password,value:i.password,onChange:e=>t("password",e.target.value)})]}),a.jsxs(w,{children:[a.jsx(_,{variant:"bordered",onPress:()=>n(!1),children:"Batal"}),a.jsx(_,{color:"primary",isLoading:j,onPress:()=>f(route("user.management.store"),{onSuccess:()=>{n(!1)}}),children:"Simpan"})]})]})})}const _e=Object.freeze(Object.defineProperty({__proto__:null,default:y},Symbol.toStringTag,{value:"Module"}));export{y as C,_e as _};
