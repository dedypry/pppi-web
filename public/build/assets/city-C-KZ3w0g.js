import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{C as d}from"./custom-input-BXut3MJ7.js";import{d as f}from"./debounce-BKcLhO47.js";import{S as n}from"./index.esm-ByNbkwyk.js";import{r as o}from"./index-Br2k6vyu.js";import{L as K}from"./layout-BXw06zCn.js";import{S as U}from"./search-BEYiS1oC.js";import{m as k,a as N,b as O,c as B,d as E}from"./chunk-3BLMMOBU-D8o3ebAF.js";import{b as m}from"./chunk-GT2IF6NJ-BTWKXWuZ.js";import{c as L}from"./chunk-MW56SEHC-D5Mc3PVB.js";import{c as M}from"./chunk-D5XJWRAV-B6AjnR7K.js";import{c as R}from"./chunk-LGSBTEIA-CfeOkWuF.js";import{t as V,a as W,b as h,c as A,d as q,e as _}from"./chunk-F3UDT23P-zl-nI4w0.js";import{c as D}from"./chunk-TE6SZS6W-Cul9Hul7.js";import{p as H}from"./chunk-YHY32LNM-CQt_Ujk1.js";import"./chunk-HJTJQZF3-CNhMJ5mL.js";import"./index-DRKi_ZKH.js";import"./index-_tZa__md.js";import"./useControlledState-DZ8hS4K2.js";import"./chunk-6VC6TS2O-B3iksFJf.js";import"./chunk-SLABUSGS-DJ7WWWAp.js";import"./mergeRefs-DmiLXYt3.js";import"./useLabel-B4BjcDWr.js";import"./chunk-M3MASYO7-BJmKlK-9.js";import"./chunk-OBFX2YGI-CL3YCrV8.js";import"./getItemCount-B1PudtaV.js";import"./SelectionManager-DVXmuDWl.js";import"./useCollator-Cqx0QUhy.js";import"./FocusScope-Dqv2N7f4.js";import"./context-4x7w5JDY.js";import"./index-Co3zkiwm.js";import"./chunk-IHO36JMK-YlB-SltU.js";import"./chunk-ANTZPR32-CUmUgRZ4.js";import"./createLucideIcon-DnjXlRGJ.js";import"./useDialog-DWysrGHo.js";import"./VisuallyHidden-D21Owd9S.js";import"./chunk-3JRSRN3Z-C5pH4duU.js";import"./chunk-GQT3YUX3-FQ1U8E7v.js";import"./chunk-MZRCPRP2-B7SO_ydv.js";import"./useToggleState-DEIqcoOp.js";import"./LiveAnnouncer-BJqD_NPU.js";import"./useHasTabbableChild-CAnyjWNS.js";import"./chunk-7F3ZLNJ6-DjDYQXym.js";import"./index-CokAva9Y.js";import"./chunk-BU32PI3O-BD2zGhcl.js";function I({cities:a}){const[s,x]=o.useState(new Set([])),[p,l]=o.useState(!1),[u,j]=o.useState(""),[c,g]=o.useState(1),S=new URLSearchParams(window.location.search),[i,b]=o.useState(S.get("search"));function y(r,t){n.patch(route("city.update",r),{code:t},{preserveState:!0,replace:!0,preserveScroll:!0})}o.useEffect(()=>{v()},[c]);function v(r=""){n.get(route("region.city"),{page:c,search:r||i},{preserveState:!0,preserveScroll:!0,replace:!0})}function C(r){n.get(route("region.city"),{search:r},{preserveState:!0,replace:!0,preserveScroll:!0})}function w(){const r=s==="all"?a==null?void 0:a.data.map(t=>t.id):Array.from(s);n.post(route("city.bulk.update"),{ids:r,code:u},{preserveState:!1,replace:!0,preserveScroll:!0,onSuccess:()=>{l(!1)}})}const z=f(r=>C(r),500),P=f((r,t)=>y(r,t),500);return e.jsxs(K,{children:[e.jsx(k,{isOpen:p,onOpenChange:()=>l(!p),size:"sm",children:e.jsxs(N,{children:[e.jsx(O,{children:"Ubah Semua Kode"}),e.jsx(B,{children:e.jsx(d,{label:"Kode",placeholder:"Masukan Kode",value:u,onChange:r=>{j(r.target.value)},description:"Hal ini akan mengubah kode yang anda pilih"})}),e.jsxs(E,{children:[e.jsx(m,{variant:"shadow",size:"sm",onPress:()=>l(!1),children:"Batal"}),e.jsxs(m,{color:"primary",variant:"shadow",size:"sm",onPress:w,children:["Ubah Kode"," "]})]})]})}),e.jsxs(L,{children:[e.jsxs(M,{className:"flex justify-between gap-4",children:[e.jsx(d,{defaultValue:i||"",placeholder:"Search",size:"sm",endContent:e.jsx(U,{size:20,className:"text-gray-400"}),onChange:r=>{b(r.target.value),z(r.target.value)},fullWidth:!0}),Array.from(s).length>0&&e.jsx("div",{className:"flex gap-2",children:e.jsx(m,{color:"primary",size:"sm",fullWidth:!0,onPress:()=>l(!0),children:"Bulk Update"})})]}),e.jsx(R,{children:e.jsxs(V,{removeWrapper:!0,selectionMode:"multiple",selectedKeys:s,onSelectionChange:r=>x(r),children:[e.jsxs(W,{children:[e.jsx(h,{children:"Nama"}),e.jsx(h,{children:"Kode"})]}),e.jsx(A,{children:a==null?void 0:a.data.map(r=>e.jsxs(q,{children:[e.jsx(_,{children:r.name}),e.jsx(_,{children:e.jsx(d,{defaultValue:r.code,size:"sm",onChange:t=>P(r.id,t.target.value)})})]},r.id))})]})}),e.jsx(D,{className:"flex justify-center",children:e.jsx(H,{radius:"full",initialPage:a==null?void 0:a.from,total:a==null?void 0:a.last_page,isCompact:!0,showControls:!0,onChange:g})})]})]})}const Me=Object.freeze(Object.defineProperty({__proto__:null,default:I},Symbol.toStringTag,{value:"Module"}));export{Me as _};
