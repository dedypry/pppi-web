import{r as y}from"./index-Br2k6vyu.js";import{Z as Xe,E as pe,x as De,t as Be,d as qe,b as oe,h as Ve,i as Ke,u as Ue,a as We,o as Ze,c as ne,e as Z}from"./index-DRKi_ZKH.js";import{a as je}from"./context-4x7w5JDY.js";import{g as Ge,b as Je,a as Qe,c as et}from"./useDialog-DWysrGHo.js";import{u as tt}from"./index-_tZa__md.js";import{$ as ot}from"./mergeRefs-DmiLXYt3.js";import{c as j}from"./chunk-GQT3YUX3-FQ1U8E7v.js";function rt(){return typeof window.ResizeObserver<"u"}function he(t){const{ref:e,box:o,onResize:r}=t;y.useEffect(()=>{let l=e==null?void 0:e.current;if(l)if(rt()){const n=new window.ResizeObserver(c=>{c.length&&r()});return n.observe(l,{box:o}),()=>{l&&n.unobserve(l)}}else return window.addEventListener("resize",r,!1),()=>{window.removeEventListener("resize",r,!1)}},[r,e,o])}function fe(t,e=-1/0,o=1/0){return Math.min(Math.max(t,e),o)}const X={top:"top",bottom:"top",left:"left",right:"left"},ie={top:"bottom",bottom:"top",left:"right",right:"left"},lt={top:"left",left:"top"},ue={top:"height",left:"width"},Te={width:"totalWidth",height:"totalHeight"},ae={};let T=typeof document<"u"?window.visualViewport:null;function $e(t){let e=0,o=0,r=0,l=0,n=0,c=0,a={};var d;let s=((d=T==null?void 0:T.scale)!==null&&d!==void 0?d:1)>1;if(t.tagName==="BODY"){let m=document.documentElement;r=m.clientWidth,l=m.clientHeight;var i;e=(i=T==null?void 0:T.width)!==null&&i!==void 0?i:r;var g;o=(g=T==null?void 0:T.height)!==null&&g!==void 0?g:l,a.top=m.scrollTop||t.scrollTop,a.left=m.scrollLeft||t.scrollLeft,T&&(n=T.offsetTop,c=T.offsetLeft)}else({width:e,height:o,top:n,left:c}=G(t)),a.top=t.scrollTop,a.left=t.scrollLeft,r=e,l=o;if(Xe()&&(t.tagName==="BODY"||t.tagName==="HTML")&&s){a.top=0,a.left=0;var f;n=(f=T==null?void 0:T.pageTop)!==null&&f!==void 0?f:0;var p;c=(p=T==null?void 0:T.pageLeft)!==null&&p!==void 0?p:0}return{width:e,height:o,totalWidth:r,totalHeight:l,scroll:a,top:n,left:c}}function nt(t){return{top:t.scrollTop,left:t.scrollLeft,width:t.scrollWidth,height:t.scrollHeight}}function xe(t,e,o,r,l,n,c){var a;let d=(a=l.scroll[t])!==null&&a!==void 0?a:0,s=r[ue[t]],i=r.scroll[X[t]]+n,g=s+r.scroll[X[t]]-n,f=e-d+c[t]-r[X[t]],p=e-d+o+c[t]-r[X[t]];return f<i?i-f:p>g?Math.max(g-p,i-f):0}function at(t){let e=window.getComputedStyle(t);return{top:parseInt(e.marginTop,10)||0,bottom:parseInt(e.marginBottom,10)||0,left:parseInt(e.marginLeft,10)||0,right:parseInt(e.marginRight,10)||0}}function we(t){if(ae[t])return ae[t];let[e,o]=t.split(" "),r=X[e]||"right",l=lt[r];X[o]||(o="center");let n=ue[r],c=ue[l];return ae[t]={placement:e,crossPlacement:o,axis:r,crossAxis:l,size:n,crossSize:c},ae[t]}function de(t,e,o,r,l,n,c,a,d,s){let{placement:i,crossPlacement:g,axis:f,crossAxis:p,size:m,crossSize:$}=r,u={};var b;u[p]=(b=t[p])!==null&&b!==void 0?b:0;var v,x,R,w;g==="center"?u[p]+=(((v=t[$])!==null&&v!==void 0?v:0)-((x=o[$])!==null&&x!==void 0?x:0))/2:g!==p&&(u[p]+=((R=t[$])!==null&&R!==void 0?R:0)-((w=o[$])!==null&&w!==void 0?w:0)),u[p]+=n;const h=t[p]-o[$]+d+s,A=t[p]+t[$]-d-s;if(u[p]=fe(u[p],h,A),i===f){const I=a?c[m]:e[Te[m]];u[ie[f]]=Math.floor(I-t[f]+l)}else u[f]=Math.floor(t[f]+t[m]+l);return u}function it(t,e,o,r,l,n,c,a){const d=r?o.height:e[Te.height];var s;let i=t.top!=null?o.top+t.top:o.top+(d-((s=t.bottom)!==null&&s!==void 0?s:0)-c);var g,f,p,m,$,u;let b=a!=="top"?Math.max(0,e.height+e.top+((g=e.scroll.top)!==null&&g!==void 0?g:0)-i-(((f=l.top)!==null&&f!==void 0?f:0)+((p=l.bottom)!==null&&p!==void 0?p:0)+n)):Math.max(0,i+c-(e.top+((m=e.scroll.top)!==null&&m!==void 0?m:0))-((($=l.top)!==null&&$!==void 0?$:0)+((u=l.bottom)!==null&&u!==void 0?u:0)+n));return Math.min(e.height-n*2,b)}function Ee(t,e,o,r,l,n){let{placement:c,axis:a,size:d}=n;var s,i;if(c===a)return Math.max(0,o[a]-t[a]-((s=t.scroll[a])!==null&&s!==void 0?s:0)+e[a]-((i=r[a])!==null&&i!==void 0?i:0)-r[ie[a]]-l);var g;return Math.max(0,t[d]+t[a]+t.scroll[a]-e[a]-o[a]-o[d]-((g=r[a])!==null&&g!==void 0?g:0)-r[ie[a]]-l)}function st(t,e,o,r,l,n,c,a,d,s,i,g,f,p,m,$){let u=we(t),{size:b,crossAxis:v,crossSize:x,placement:R,crossPlacement:w}=u,h=de(e,a,o,u,i,g,s,f,m,$),A=i,I=Ee(a,s,e,l,n+i,u);if(c&&r[b]>I){let Y=we(`${ie[R]} ${w}`),ce=de(e,a,o,Y,i,g,s,f,m,$);Ee(a,s,e,l,n+i,Y)>I&&(u=Y,h=ce,A=i)}let P="bottom";u.axis==="top"?u.placement==="top"?P="top":u.placement==="bottom"&&(P="bottom"):u.crossAxis==="top"&&(u.crossPlacement==="top"?P="bottom":u.crossPlacement==="bottom"&&(P="top"));let E=xe(v,h[v],o[x],a,d,n,s);h[v]+=E;let C=it(h,a,s,f,l,n,o.height,P);p&&p<C&&(C=p),o.height=Math.min(o.height,C),h=de(e,a,o,u,A,g,s,f,m,$),E=xe(v,h[v],o[x],a,d,n,s),h[v]+=E;let L={},M=e[v]+.5*e[x]-h[v]-l[X[v]];const k=m/2+$;var D,B,F,O;const q=X[v]==="left"?((D=l.left)!==null&&D!==void 0?D:0)+((B=l.right)!==null&&B!==void 0?B:0):((F=l.top)!==null&&F!==void 0?F:0)+((O=l.bottom)!==null&&O!==void 0?O:0),N=o[x]-q-m/2-$,re=e[v]+m/2-(h[v]+l[X[v]]),le=e[v]+e[x]-m/2-(h[v]+l[X[v]]),se=fe(M,re,le);return L[v]=fe(se,k,N),{position:h,maxHeight:C,arrowOffsetLeft:L.left,arrowOffsetTop:L.top,placement:u.placement}}function ct(t){let{placement:e,targetNode:o,overlayNode:r,scrollNode:l,padding:n,shouldFlip:c,boundaryElement:a,offset:d,crossOffset:s,maxHeight:i,arrowSize:g=0,arrowBoundaryOffset:f=0}=t,p=r instanceof HTMLElement?dt(r):document.documentElement,m=p===document.documentElement;const $=window.getComputedStyle(p).position;let u=!!$&&$!=="static",b=m?G(o):Pe(o,p);if(!m){let{marginTop:L,marginLeft:M}=window.getComputedStyle(o);b.top+=parseInt(L,10)||0,b.left+=parseInt(M,10)||0}let v=G(r),x=at(r);var R,w;v.width+=((R=x.left)!==null&&R!==void 0?R:0)+((w=x.right)!==null&&w!==void 0?w:0);var h,A;v.height+=((h=x.top)!==null&&h!==void 0?h:0)+((A=x.bottom)!==null&&A!==void 0?A:0);let I=nt(l),P=$e(a),E=$e(p),C=a.tagName==="BODY"?G(p):Pe(p,a);return p.tagName==="HTML"&&a.tagName==="BODY"&&(E.scroll.top=0,E.scroll.left=0),st(e,b,v,I,x,n,c,P,E,C,d,s,u,i,g,f)}function G(t){let{top:e,left:o,width:r,height:l}=t.getBoundingClientRect(),{scrollTop:n,scrollLeft:c,clientTop:a,clientLeft:d}=document.documentElement;return{top:e+n-a,left:o+c-d,width:r,height:l}}function Pe(t,e){let o=window.getComputedStyle(t),r;if(o.position==="fixed"){let{top:l,left:n,width:c,height:a}=t.getBoundingClientRect();r={top:l,left:n,width:c,height:a}}else{r=G(t);let l=G(e),n=window.getComputedStyle(e);l.top+=(parseInt(n.borderTopWidth,10)||0)-e.scrollTop,l.left+=(parseInt(n.borderLeftWidth,10)||0)-e.scrollLeft,r.top-=l.top,r.left-=l.left}return r.top-=parseInt(o.marginTop,10)||0,r.left-=parseInt(o.marginLeft,10)||0,r}function dt(t){let e=t.offsetParent;if(e&&e===document.body&&window.getComputedStyle(e).position==="static"&&!Ce(e)&&(e=document.documentElement),e==null)for(e=t.parentElement;e&&!Ce(e);)e=e.parentElement;return e||document.documentElement}function Ce(t){let e=window.getComputedStyle(t);return e.transform!=="none"||/transform|perspective/.test(e.willChange)||e.filter!=="none"||e.contain==="paint"||"backdropFilter"in e&&e.backdropFilter!=="none"||"WebkitBackdropFilter"in e&&e.WebkitBackdropFilter!=="none"}const Re=new WeakMap;function pt(t){let{triggerRef:e,isOpen:o,onClose:r}=t;y.useEffect(()=>{if(!o||r===null)return;let l=n=>{let c=n.target;if(!e.current||c instanceof Node&&!c.contains(e.current)||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement)return;let a=r||Re.get(e.current);a&&a()};return window.addEventListener("scroll",l,!0),()=>{window.removeEventListener("scroll",l,!0)}},[o,r,e])}let _=typeof document<"u"?window.visualViewport:null;function ft(t){let{direction:e}=je(),{arrowSize:o=0,targetRef:r,overlayRef:l,scrollRef:n=l,placement:c="bottom",containerPadding:a=12,shouldFlip:d=!0,boundaryElement:s=typeof document<"u"?document.body:null,offset:i=0,crossOffset:g=0,shouldUpdatePosition:f=!0,isOpen:p=!0,onClose:m,maxHeight:$,arrowBoundaryOffset:u=0}=t,[b,v]=y.useState(null),x=[f,c,l.current,r.current,n.current,a,d,s,i,g,p,e,$,u,o],R=y.useRef(_==null?void 0:_.scale);y.useEffect(()=>{p&&(R.current=_==null?void 0:_.scale)},[p]);let w=y.useCallback(()=>{if(f===!1||!p||!l.current||!r.current||!s||(_==null?void 0:_.scale)!==R.current)return;let E=null;if(n.current&&n.current.contains(document.activeElement)){var C;let O=(C=document.activeElement)===null||C===void 0?void 0:C.getBoundingClientRect(),q=n.current.getBoundingClientRect();var L;if(E={type:"top",offset:((L=O==null?void 0:O.top)!==null&&L!==void 0?L:0)-q.top},E.offset>q.height/2){E.type="bottom";var M;E.offset=((M=O==null?void 0:O.bottom)!==null&&M!==void 0?M:0)-q.bottom}}let k=l.current;if(!$&&l.current){var D;k.style.top="0px",k.style.bottom="";var B;k.style.maxHeight=((B=(D=window.visualViewport)===null||D===void 0?void 0:D.height)!==null&&B!==void 0?B:window.innerHeight)+"px"}let F=ct({placement:mt(c,e),overlayNode:l.current,targetNode:r.current,scrollNode:n.current||l.current,padding:a,shouldFlip:d,boundaryElement:s,offset:i,crossOffset:g,maxHeight:$,arrowSize:o,arrowBoundaryOffset:u});if(F.position){if(k.style.top="",k.style.bottom="",k.style.left="",k.style.right="",Object.keys(F.position).forEach(O=>k.style[O]=F.position[O]+"px"),k.style.maxHeight=F.maxHeight!=null?F.maxHeight+"px":"",E&&document.activeElement&&n.current){let O=document.activeElement.getBoundingClientRect(),q=n.current.getBoundingClientRect(),N=O[E.type]-q[E.type];n.current.scrollTop+=N-E.offset}v(F)}},x);pe(w,x),ut(w),he({ref:l,onResize:w}),he({ref:r,onResize:w});let h=y.useRef(!1);pe(()=>{let E,C=()=>{h.current=!0,clearTimeout(E),E=setTimeout(()=>{h.current=!1},500),w()},L=()=>{h.current&&C()};return _==null||_.addEventListener("resize",C),_==null||_.addEventListener("scroll",L),()=>{_==null||_.removeEventListener("resize",C),_==null||_.removeEventListener("scroll",L)}},[w]);let A=y.useCallback(()=>{h.current||m==null||m()},[m,h]);pt({triggerRef:r,isOpen:p,onClose:m&&A});var I,P;return{overlayProps:{style:{position:"absolute",zIndex:1e5,...b==null?void 0:b.position,maxHeight:(I=b==null?void 0:b.maxHeight)!==null&&I!==void 0?I:"100vh"}},placement:(P=b==null?void 0:b.placement)!==null&&P!==void 0?P:null,arrowProps:{"aria-hidden":"true",role:"presentation",style:{left:b==null?void 0:b.arrowOffsetLeft,top:b==null?void 0:b.arrowOffsetTop}},updatePosition:w}}function ut(t){pe(()=>(window.addEventListener("resize",t,!1),()=>{window.removeEventListener("resize",t,!1)}),[t])}function mt(t,e){return e==="rtl"?t.replace("start","right").replace("end","left"):t.replace("start","left").replace("end","right")}function gt(t,e,o){let{type:r}=t,{isOpen:l}=e;y.useEffect(()=>{o&&o.current&&Re.set(o.current,e.close)});let n;r==="menu"?n=!0:r==="listbox"&&(n="listbox");let c=De();return{triggerProps:{"aria-haspopup":n,"aria-expanded":l,"aria-controls":l?c:void 0,onPress:e.toggle},overlayProps:{id:c}}}var _e=Be({slots:{base:["z-0","relative","bg-transparent","before:content-['']","before:hidden","before:z-[-1]","before:absolute","before:rotate-45","before:w-2.5","before:h-2.5","before:rounded-sm","data-[arrow=true]:before:block","data-[placement=top]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=top]:before:left-1/2","data-[placement=top]:before:-translate-x-1/2","data-[placement=top-start]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=top-start]:before:left-3","data-[placement=top-end]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=top-end]:before:right-3","data-[placement=bottom]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=bottom]:before:left-1/2","data-[placement=bottom]:before:-translate-x-1/2","data-[placement=bottom-start]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=bottom-start]:before:left-3","data-[placement=bottom-end]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=bottom-end]:before:right-3","data-[placement=left]:before:-right-[calc(theme(spacing.5)/4_-_2px)]","data-[placement=left]:before:top-1/2","data-[placement=left]:before:-translate-y-1/2","data-[placement=left-start]:before:-right-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=left-start]:before:top-1/4","data-[placement=left-end]:before:-right-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=left-end]:before:bottom-1/4","data-[placement=right]:before:-left-[calc(theme(spacing.5)/4_-_2px)]","data-[placement=right]:before:top-1/2","data-[placement=right]:before:-translate-y-1/2","data-[placement=right-start]:before:-left-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=right-start]:before:top-1/4","data-[placement=right-end]:before:-left-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=right-end]:before:bottom-1/4",...qe],content:["z-10","px-2.5","py-1","w-full","inline-flex","flex-col","items-center","justify-center","box-border","subpixel-antialiased","outline-none","box-border"],trigger:["z-10"],backdrop:["hidden"],arrow:[]},variants:{size:{sm:{content:"text-tiny"},md:{content:"text-small"},lg:{content:"text-medium"}},color:{default:{base:"before:bg-content1 before:shadow-small",content:"bg-content1"},foreground:{base:"before:bg-foreground",content:j.solid.foreground},primary:{base:"before:bg-primary",content:j.solid.primary},secondary:{base:"before:bg-secondary",content:j.solid.secondary},success:{base:"before:bg-success",content:j.solid.success},warning:{base:"before:bg-warning",content:j.solid.warning},danger:{base:"before:bg-danger",content:j.solid.danger}},radius:{none:{content:"rounded-none"},sm:{content:"rounded-small"},md:{content:"rounded-medium"},lg:{content:"rounded-large"},full:{content:"rounded-full"}},shadow:{none:{content:"shadow-none"},sm:{content:"shadow-small"},md:{content:"shadow-medium"},lg:{content:"shadow-large"}},backdrop:{transparent:{},opaque:{backdrop:"bg-overlay/50 backdrop-opacity-disabled"},blur:{backdrop:"backdrop-blur-sm backdrop-saturate-150 bg-overlay/30"}},triggerScaleOnOpen:{true:{trigger:["aria-expanded:scale-[0.97]","aria-expanded:opacity-70","subpixel-antialiased"]},false:{}},disableAnimation:{true:{base:"animate-none"}},isTriggerDisabled:{true:{trigger:"opacity-disabled pointer-events-none"},false:{}}},defaultVariants:{color:"default",radius:"lg",size:"md",shadow:"md",backdrop:"transparent",triggerScaleOnOpen:!0},compoundVariants:[{backdrop:["opaque","blur"],class:{backdrop:"block w-full h-full fixed inset-0 -z-30"}}]}),St=t=>{const e={top:{originY:1},bottom:{originY:0},left:{originX:1},right:{originX:0},"top-start":{originX:0,originY:1},"top-end":{originX:1,originY:1},"bottom-start":{originX:0,originY:0},"bottom-end":{originX:1,originY:0},"right-start":{originX:0,originY:0},"right-end":{originX:0,originY:1},"left-start":{originX:1,originY:0},"left-end":{originX:1,originY:1}};return(e==null?void 0:e[t])||{}},bt=t=>({top:"top",bottom:"bottom",left:"left",right:"right","top-start":"top start","top-end":"top end","bottom-start":"bottom start","bottom-end":"bottom end","left-start":"left top","left-end":"left bottom","right-start":"right top","right-end":"right bottom"})[t],vt=(t,e)=>{if(e.includes("-")){const[o]=e.split("-");if(o.includes(t))return!1}return!0},ye=(t,e)=>{if(e.includes("-")){const[,o]=e.split("-");return`${t}-${o}`}return t},te=new WeakMap,H=[];function ht(t,e=document.body){let o=new Set(t),r=new Set,l=d=>{for(let f of d.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))o.add(f);let s=f=>{if(o.has(f)||f.parentElement&&r.has(f.parentElement)&&f.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let p of o)if(f.contains(p))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},i=document.createTreeWalker(d,NodeFilter.SHOW_ELEMENT,{acceptNode:s}),g=s(d);if(g===NodeFilter.FILTER_ACCEPT&&n(d),g!==NodeFilter.FILTER_REJECT){let f=i.nextNode();for(;f!=null;)n(f),f=i.nextNode()}},n=d=>{var s;let i=(s=te.get(d))!=null?s:0;d.getAttribute("aria-hidden")==="true"&&i===0||(i===0&&d.setAttribute("aria-hidden","true"),r.add(d),te.set(d,i+1))};H.length&&H[H.length-1].disconnect(),l(e);let c=new MutationObserver(d=>{for(let s of d)if(!(s.type!=="childList"||s.addedNodes.length===0)&&![...o,...r].some(i=>i.contains(s.target))){for(let i of s.removedNodes)i instanceof Element&&(o.delete(i),r.delete(i));for(let i of s.addedNodes)(i instanceof HTMLElement||i instanceof SVGElement)&&(i.dataset.liveAnnouncer==="true"||i.dataset.reactAriaTopLayer==="true")?o.add(i):i instanceof Element&&l(i)}});c.observe(e,{childList:!0,subtree:!0});let a={visibleNodes:o,hiddenNodes:r,observe(){c.observe(e,{childList:!0,subtree:!0})},disconnect(){c.disconnect()}};return H.push(a),()=>{c.disconnect();for(let d of r){let s=te.get(d);s!=null&&(s===1?(d.removeAttribute("aria-hidden"),te.delete(d)):te.set(d,s-1))}a===H[H.length-1]?(H.pop(),H.length&&H[H.length-1].observe()):H.splice(H.indexOf(a),1)}}function $t(t){let e=H[H.length-1];if(e&&!e.visibleNodes.has(t))return e.visibleNodes.add(t),()=>{e.visibleNodes.delete(t)}}var xt=(t,e,o)=>{const r=e==null?void 0:e.current;if(!r||!r.contains(t)){const l=document.querySelectorAll("body > span[data-focus-scope-start]");let n=[];if(l.forEach(c=>{n.push(c.nextElementSibling)}),n.length===1)return o.close(),!1}return!r||!r.contains(t)};function wt(t,e){const{groupRef:o,triggerRef:r,popoverRef:l,showArrow:n,offset:c=7,crossOffset:a=0,scrollRef:d,shouldFlip:s,boundaryElement:i,isDismissable:g=!0,shouldCloseOnBlur:f=!0,shouldCloseOnScroll:p=!0,placement:m="top",containerPadding:$,shouldCloseOnInteractOutside:u,isNonModal:b,isKeyboardDismissDisabled:v,updatePositionDeps:x=[],...R}=t,w=b??!0,h=R.trigger==="SubmenuTrigger",{overlayProps:A,underlayProps:I}=Ge({isOpen:e.isOpen,onClose:e.close,shouldCloseOnBlur:f,isDismissable:g||h,isKeyboardDismissDisabled:v,shouldCloseOnInteractOutside:u||(M=>xt(M,r,e))},l),{overlayProps:P,arrowProps:E,placement:C,updatePosition:L}=ft({...R,shouldFlip:s,crossOffset:a,targetRef:r,overlayRef:l,isOpen:e.isOpen,scrollRef:d,boundaryElement:i,containerPadding:$,placement:bt(m),offset:n?c+3:c,onClose:w&&!h&&p?e.close:()=>{}});return tt(()=>{x.length&&L()},x),y.useEffect(()=>{var M,k;if(e.isOpen&&l.current)return w?$t((M=o==null?void 0:o.current)!=null?M:l.current):ht([(k=o==null?void 0:o.current)!=null?k:l.current])},[w,e.isOpen,l,o]),{popoverProps:oe(A,P),arrowProps:E,underlayProps:I,placement:C}}var Et="top";function Lt(t){var e,o,r;const l=Ve(),[n,c]=Ke(t,_e.variantKeys),{as:a,ref:d,children:s,state:i,triggerRef:g,scrollRef:f,defaultOpen:p,onOpenChange:m,isOpen:$,isNonModal:u=!0,shouldFlip:b=!0,containerPadding:v=12,shouldBlockScroll:x=!1,isDismissable:R=!0,shouldCloseOnBlur:w,portalContainer:h,updatePositionDeps:A,dialogProps:I,placement:P=Et,triggerType:E="dialog",showArrow:C=!1,offset:L=7,crossOffset:M=0,boundaryElement:k,isKeyboardDismissDisabled:D,shouldCloseOnInteractOutside:B,shouldCloseOnScroll:F,motionProps:O,className:q,classNames:N,onClose:re,...le}=n,se=a||"div",Y=Ue(d),ce=y.useRef(null),J=y.useRef(!1),Q=g||ce,Oe=(o=(e=t.disableAnimation)!=null?e:l==null?void 0:l.disableAnimation)!=null?o:!1,Se=Je({isOpen:$,defaultOpen:p,onOpenChange:S=>{m==null||m(S),S||re==null||re()}}),z=i||Se,{popoverProps:me,underlayProps:ge,placement:V}=wt({triggerRef:Q,isNonModal:u,popoverRef:Y,placement:P,offset:L,scrollRef:f,isDismissable:R,shouldCloseOnBlur:w,boundaryElement:k,crossOffset:M,shouldFlip:b,containerPadding:v,updatePositionDeps:A,isKeyboardDismissDisabled:D,shouldCloseOnScroll:F,shouldCloseOnInteractOutside:B},z),be=y.useMemo(()=>V?vt(V,P)?V:P:null,[V,P]),{triggerProps:K}=gt({type:E},z,Q),{isFocusVisible:Le,isFocused:ke,focusProps:Ne}=We(),U=y.useMemo(()=>_e({...c}),[Ze(c)]),Ae=ne(N==null?void 0:N.base,q);Qe({isDisabled:!(x&&z.isOpen)});const Ie=(S={})=>({ref:Y,...oe(me,le,S),style:oe(me.style,le.style,S.style)}),Me=(S={})=>({"data-slot":"base","data-open":Z(z.isOpen),"data-focus":Z(ke),"data-arrow":Z(C),"data-focus-visible":Z(Le),"data-placement":V?ye(V,P):void 0,...oe(Ne,I,S),className:U.base({class:ne(Ae)}),style:{outline:"none"}}),ze=y.useCallback((S={})=>({"data-slot":"content","data-open":Z(z.isOpen),"data-arrow":Z(C),"data-placement":V?ye(V,P):void 0,className:U.content({class:ne(N==null?void 0:N.content,S.className)})}),[U,z.isOpen,C,be,P,N,V]),ve=y.useCallback(S=>{var W;let ee;return S.pointerType==="touch"&&((t==null?void 0:t.backdrop)==="blur"||(t==null?void 0:t.backdrop)==="opaque")?ee=setTimeout(()=>{J.current=!0},100):J.current=!0,(W=K.onPress)==null||W.call(K,S),()=>{clearTimeout(ee)}},[K==null?void 0:K.onPress]),He=y.useCallback((S={},W=null)=>{const{isDisabled:ee,...Ye}=S;return{"data-slot":"trigger",...oe({"aria-haspopup":"dialog"},K,Ye),onPress:ve,isDisabled:ee,className:U.trigger({class:ne(N==null?void 0:N.trigger,S.className),isTriggerDisabled:ee}),ref:ot(W,Q)}},[z,K,ve,Q]),Fe=y.useCallback((S={})=>({"data-slot":"backdrop",className:U.backdrop({class:N==null?void 0:N.backdrop}),onClick:W=>{if(!J.current){W.preventDefault();return}z.close(),J.current=!1},...ge,...S}),[U,z.isOpen,N,ge]);return y.useEffect(()=>{if(z.isOpen&&(Y!=null&&Y.current))return et([Y==null?void 0:Y.current])},[z.isOpen,Y]),{state:z,Component:se,children:s,classNames:N,showArrow:C,triggerRef:Q,placement:be,isNonModal:u,popoverRef:Y,portalContainer:h,isOpen:z.isOpen,onClose:z.close,disableAnimation:Oe,shouldBlockScroll:x,backdrop:(r=t.backdrop)!=null?r:"transparent",motionProps:O,getBackdropProps:Fe,getPopoverProps:Ie,getTriggerProps:He,getDialogProps:Me,getContentProps:ze}}export{he as $,xt as a,gt as b,St as g,Lt as u};
