import{$ as _e,c as Te,b as Fe,m as De,d as te,e as Ae}from"./getItemCount-B1PudtaV.js";import{t as je,n as ae,z as Re,x as ce,b as _,D as se,Y as Ke,Z as Be,v as Le,J as oe,q as Ve,h as de,u as ue,c as N,i as he,l as Ne,a as He,o as fe,a0 as We,e as D,f as pe,C as Ue,j as qe,a1 as Ye}from"./index-DRKi_ZKH.js";import{$ as Je}from"./useLabel-B4BjcDWr.js";import{d as Ze,e as Ge,f as Qe,$ as Xe}from"./SelectionManager-DVXmuDWl.js";import{r as z}from"./index-Br2k6vyu.js";import{$ as me,f as Y}from"./chunk-6VC6TS2O-B3iksFJf.js";import{j as S}from"./jsx-runtime-D_zvdyIk.js";import{u as et}from"./index-Co3zkiwm.js";import{d as tt}from"./chunk-IHO36JMK-YlB-SltU.js";var st=["data-[top-scroll=true]:[mask-image:linear-gradient(0deg,#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]","data-[bottom-scroll=true]:[mask-image:linear-gradient(180deg,#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]","data-[top-bottom-scroll=true]:[mask-image:linear-gradient(#000,#000,transparent_0,#000_var(--scroll-shadow-size),#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]"],ot=["data-[left-scroll=true]:[mask-image:linear-gradient(270deg,#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]","data-[right-scroll=true]:[mask-image:linear-gradient(90deg,#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]","data-[left-right-scroll=true]:[mask-image:linear-gradient(to_right,#000,#000,transparent_0,#000_var(--scroll-shadow-size),#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]"],ie=je({base:[],variants:{orientation:{vertical:["overflow-y-auto",...st],horizontal:["overflow-x-auto",...ot]},hideScrollBar:{true:"scrollbar-hide",false:""}},defaultVariants:{orientation:"vertical",hideScrollBar:!1}});class ne{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(n){let e=this.keyMap.get(n);var t;return e&&(t=e.prevKey)!==null&&t!==void 0?t:null}getKeyAfter(n){let e=this.keyMap.get(n);var t;return e&&(t=e.nextKey)!==null&&t!==void 0?t:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(n){var e;return(e=this.keyMap.get(n))!==null&&e!==void 0?e:null}at(n){const e=[...this.getKeys()];return this.getItem(e[n])}getChildren(n){let e=this.keyMap.get(n);return(e==null?void 0:e.childNodes)||[]}constructor(n){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=n;let e=i=>{if(this.keyMap.set(i.key,i),i.childNodes&&i.type==="section")for(let r of i.childNodes)e(r)};for(let i of n)e(i);let t=null,s=0;for(let[i,r]of this.keyMap)t?(t.nextKey=i,r.prevKey=t.key):(this.firstKey=i,r.prevKey=void 0),r.type==="item"&&(r.index=s++),t=r,t.nextKey=void 0;var l;this.lastKey=(l=t==null?void 0:t.key)!==null&&l!==void 0?l:null}}function it(o){let{filter:n,layoutDelegate:e}=o,t=Ze(o),s=z.useMemo(()=>o.disabledKeys?new Set(o.disabledKeys):new Set,[o.disabledKeys]),l=z.useCallback(a=>n?new ne(n(a)):new ne(a),[n]),i=z.useMemo(()=>({suppressTextValueWarning:o.suppressTextValueWarning}),[o.suppressTextValueWarning]),r=Ge(o,l,i),c=z.useMemo(()=>new Qe(r,t,{layoutDelegate:e}),[r,t,e]);return nt(r,c),{collection:r,disabledKeys:s,selectionManager:c}}function nt(o,n){const e=z.useRef(null);z.useEffect(()=>{if(n.focusedKey!=null&&!o.getItem(n.focusedKey)&&e.current){const d=e.current.getItem(n.focusedKey),b=[...e.current.getKeys()].map(u=>{const p=e.current.getItem(u);return(p==null?void 0:p.type)==="item"?p:null}).filter(u=>u!==null),v=[...o.getKeys()].map(u=>{const p=o.getItem(u);return(p==null?void 0:p.type)==="item"?p:null}).filter(u=>u!==null);var t,s;const m=((t=b==null?void 0:b.length)!==null&&t!==void 0?t:0)-((s=v==null?void 0:v.length)!==null&&s!==void 0?s:0);var l,i,r;let f=Math.min(m>1?Math.max(((l=d==null?void 0:d.index)!==null&&l!==void 0?l:0)-m+1,0):(i=d==null?void 0:d.index)!==null&&i!==void 0?i:0,((r=v==null?void 0:v.length)!==null&&r!==void 0?r:0)-1),h=null,g=!1;for(;f>=0;){if(!n.isDisabled(v[f].key)){h=v[f];break}if(f<v.length-1&&!g)f++;else{g=!0;var c,a;f>((c=d==null?void 0:d.index)!==null&&c!==void 0?c:0)&&(f=(a=d==null?void 0:d.index)!==null&&a!==void 0?a:0),f--}}n.setFocusedKey(h?h.key:null)}e.current=o},[o,n])}var lt=_e,Ht=lt;const J=new WeakMap;function rt(o){return typeof o=="string"?o.replace(/\s*/g,""):""+o}function at(o,n){let e=J.get(o);if(!e)throw new Error("Unknown list");return`${e.id}-option-${rt(n)}`}function ct(o,n,e){let t=ae(o,{labelable:!0}),s=o.selectionBehavior||"toggle",l=o.linkBehavior||(s==="replace"?"action":"override");s==="toggle"&&l==="action"&&(l="override");let{listProps:i}=Te({...o,ref:e,selectionManager:n.selectionManager,collection:n.collection,disabledKeys:n.disabledKeys,linkBehavior:l}),{focusWithinProps:r}=Re({onFocusWithin:o.onFocus,onBlurWithin:o.onBlur,onFocusWithinChange:o.onFocusChange}),c=ce(o.id);J.set(n,{id:c,shouldUseVirtualFocus:o.shouldUseVirtualFocus,shouldSelectOnPressUp:o.shouldSelectOnPressUp,shouldFocusOnHover:o.shouldFocusOnHover,isVirtualized:o.isVirtualized,onAction:o.onAction,linkBehavior:l});let{labelProps:a,fieldProps:d}=Je({...o,id:c,labelElementType:"span"});return{labelProps:a,listBoxProps:_(t,r,n.selectionManager.selectionMode==="multiple"?{"aria-multiselectable":"true"}:{},{role:"listbox",..._(d,i)})}}function dt(o,n,e){var t,s;let{key:l}=o,i=J.get(n);var r;let c=(r=o.isDisabled)!==null&&r!==void 0?r:n.selectionManager.isDisabled(l);var a;let d=(a=o.isSelected)!==null&&a!==void 0?a:n.selectionManager.isSelected(l);var b;let v=(b=o.shouldSelectOnPressUp)!==null&&b!==void 0?b:i==null?void 0:i.shouldSelectOnPressUp;var m;let f=(m=o.shouldFocusOnHover)!==null&&m!==void 0?m:i==null?void 0:i.shouldFocusOnHover;var h;let g=(h=o.shouldUseVirtualFocus)!==null&&h!==void 0?h:i==null?void 0:i.shouldUseVirtualFocus;var u;let p=(u=o.isVirtualized)!==null&&u!==void 0?u:i==null?void 0:i.isVirtualized,w=se(),M=se(),$={role:"option","aria-disabled":c||void 0,"aria-selected":n.selectionManager.selectionMode!=="none"?d:void 0};Ke()&&Be()||($["aria-label"]=o["aria-label"],$["aria-labelledby"]=w,$["aria-describedby"]=M);let x=n.collection.getItem(l);if(p){let y=Number(x==null?void 0:x.index);$["aria-posinset"]=Number.isNaN(y)?void 0:y+1,$["aria-setsize"]=Fe(n.collection)}let C=i!=null&&i.onAction?()=>{var y;return i==null||(y=i.onAction)===null||y===void 0?void 0:y.call(i,l)}:void 0,I=at(n,l),{itemProps:k,isPressed:O,isFocused:T,hasAction:E,allowsSelection:A}=Xe({selectionManager:n.selectionManager,key:l,ref:e,shouldSelectOnPressUp:v,allowsDifferentPressOrigin:v&&f,isVirtualized:p,shouldUseVirtualFocus:g,isDisabled:c,onAction:C||!(x==null||(t=x.props)===null||t===void 0)&&t.onAction?Le(x==null||(s=x.props)===null||s===void 0?void 0:s.onAction,C):void 0,linkBehavior:i==null?void 0:i.linkBehavior,id:I}),{hoverProps:B}=me({isDisabled:c||!f,onHoverStart(){oe()||(n.selectionManager.setFocused(!0),n.selectionManager.setFocusedKey(l))}}),P=ae(x==null?void 0:x.props);delete P.id;let j=Ve(x==null?void 0:x.props);return{optionProps:{...$,..._(P,k,B,j),id:I},labelProps:{id:w},descriptionProps:{id:M},isFocused:T,isFocusVisible:T&&n.selectionManager.isFocused&&oe(),isSelected:d,isDisabled:c,isPressed:O,allowsSelection:A,hasAction:E}}function ut(o){let{heading:n,"aria-label":e}=o,t=ce();return{itemProps:{role:"presentation"},headingProps:n?{id:t,role:"presentation"}:{},groupProps:{role:"group","aria-label":e,"aria-labelledby":n?t:void 0}}}function ht(o){var n;const e=de(),{ref:t,as:s,state:l,variant:i,color:r,onAction:c,children:a,onSelectionChange:d,disableAnimation:b=(n=e==null?void 0:e.disableAnimation)!=null?n:!1,itemClasses:v,className:m,topContent:f,bottomContent:h,emptyContent:g="No items.",hideSelectedIcon:u=!1,hideEmptyContent:p=!1,shouldHighlightOnFocus:w=!1,classNames:M,...$}=o,x=s||"ul",C=typeof x=="string",I=ue(t),k=it({...o,children:a,onSelectionChange:d}),O=l||k,{listBoxProps:T}=ct({...o,onAction:c},O,I),E=z.useMemo(()=>De(),[]),A=N(M==null?void 0:M.base,m);return{Component:x,state:O,variant:i,color:r,slots:E,classNames:M,topContent:f,bottomContent:h,emptyContent:g,hideEmptyContent:p,shouldHighlightOnFocus:w,hideSelectedIcon:u,disableAnimation:b,className:m,itemClasses:v,getBaseProps:(y={})=>({ref:I,"data-slot":"base",className:E.base({class:A}),...Y($,{enabled:C}),...y}),getListProps:(y={})=>({"data-slot":"list",className:E.list({class:M==null?void 0:M.list}),...T,...y}),getEmptyContentProps:(y={})=>({"data-slot":"empty-content",children:g,className:E.emptyContent({class:M==null?void 0:M.emptyContent}),...y})}}function ft(o){const{isSelected:n,disableAnimation:e,...t}=o;return S.jsx("svg",{"aria-hidden":"true","data-selected":n,role:"presentation",viewBox:"0 0 17 18",...t,children:S.jsx("polyline",{fill:"none",points:"1 9 7 14 15 4",stroke:"currentColor",strokeDasharray:22,strokeDashoffset:n?44:66,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,style:e?{}:{transition:"stroke-dashoffset 200ms ease"}})})}function pt(o){var n,e;const t=de(),[s,l]=he(o,te.variantKeys),{as:i,item:r,state:c,description:a,startContent:d,endContent:b,isVirtualized:v,selectedIcon:m,className:f,classNames:h,autoFocus:g,onPress:u,onPressUp:p,onPressStart:w,onPressEnd:M,onPressChange:$,onClick:x,shouldHighlightOnFocus:C,hideSelectedIcon:I=!1,isReadOnly:k=!1,...O}=s,T=(e=(n=o.disableAnimation)!=null?n:t==null?void 0:t.disableAnimation)!=null?e:!1,E=z.useRef(null),A=i||(o.href?"a":"li"),B=typeof A=="string",{rendered:P,key:j}=r,y=c.disabledKeys.has(j)||o.isDisabled,R=c.selectionManager.selectionMode!=="none",H=et(),{pressProps:V,isPressed:G}=Ne({ref:E,isDisabled:y,onClick:x,onPress:u,onPressUp:p,onPressStart:w,onPressEnd:M,onPressChange:$}),{isHovered:Q,hoverProps:xe}=me({isDisabled:y}),{isFocusVisible:X,focusProps:Se}=He({autoFocus:g}),{isFocused:W,isSelected:ee,optionProps:$e,labelProps:we,descriptionProps:Me}=dt({key:j,isDisabled:y,"aria-label":s["aria-label"],isVirtualized:v},c,E);let U=$e;const K=z.useMemo(()=>te({...l,isDisabled:y,disableAnimation:T,hasTitleTextChild:typeof P=="string",hasDescriptionTextChild:typeof a=="string"}),[fe(l),y,T,P,a]),ze=N(h==null?void 0:h.base,f);k&&(U=We(U));const Ce=C&&W||(H?Q||G:Q||W&&!X),Pe=(F={})=>({ref:E,..._(U,k?{}:_(Se,V),xe,Y(O,{enabled:B}),F),"data-selectable":D(R),"data-focus":D(W),"data-hover":D(Ce),"data-disabled":D(y),"data-selected":D(ee),"data-pressed":D(G),"data-focus-visible":D(X),className:K.base({class:N(ze,F.className)})}),Ie=(F={})=>({..._(we,F),"data-label":D(!0),className:K.title({class:h==null?void 0:h.title})}),Oe=(F={})=>({..._(Me,F),className:K.description({class:h==null?void 0:h.description})}),Ee=(F={})=>({..._(F),className:K.wrapper({class:h==null?void 0:h.wrapper})}),ke=z.useCallback((F={})=>({"aria-hidden":D(!0),"data-disabled":D(y),className:K.selectedIcon({class:h==null?void 0:h.selectedIcon}),...F}),[y,K,h]);return{Component:A,domRef:E,slots:K,classNames:h,isSelectable:R,isSelected:ee,isDisabled:y,rendered:P,description:a,startContent:d,endContent:b,selectedIcon:m,hideSelectedIcon:I,disableAnimation:T,getItemProps:Pe,getLabelProps:Ie,getWrapperProps:Ee,getDescriptionProps:Oe,getSelectedIconProps:ke}}var ge=o=>{const{Component:n,rendered:e,description:t,isSelectable:s,isSelected:l,isDisabled:i,selectedIcon:r,startContent:c,endContent:a,hideSelectedIcon:d,disableAnimation:b,getItemProps:v,getLabelProps:m,getWrapperProps:f,getDescriptionProps:h,getSelectedIconProps:g}=pt(o),u=z.useMemo(()=>{const p=S.jsx(ft,{disableAnimation:b,isSelected:l});return typeof r=="function"?r({icon:p,isSelected:l,isDisabled:i}):r||p},[r,l,i,b]);return S.jsxs(n,{...v(),children:[c,t?S.jsxs("div",{...f(),children:[S.jsx("span",{...m(),children:e}),S.jsx("span",{...h(),children:t})]}):S.jsx("span",{...m(),children:e}),s&&!d&&S.jsx("span",{...g(),children:u}),a]})};ge.displayName="HeroUI.ListboxItem";var Z=ge,ve=pe(({item:o,state:n,as:e,variant:t,color:s,disableAnimation:l,className:i,classNames:r,hideSelectedIcon:c,showDivider:a=!1,dividerProps:d={},itemClasses:b,title:v,items:m,...f},h)=>{const g=e||"li",u=z.useMemo(()=>Ae(),[]),p=N(r==null?void 0:r.base,i),w=N(r==null?void 0:r.divider,d==null?void 0:d.className),{itemProps:M,headingProps:$,groupProps:x}=ut({heading:o.rendered,"aria-label":o["aria-label"]});return S.jsxs(g,{"data-slot":"base",..._(M,f),className:u.base({class:p}),children:[o.rendered&&S.jsx("span",{...$,className:u.heading({class:r==null?void 0:r.heading}),"data-slot":"heading",children:o.rendered}),S.jsxs("ul",{...x,className:u.group({class:r==null?void 0:r.group}),"data-has-title":!!o.rendered,"data-slot":"group",children:[[...o.childNodes].map(C=>{const{key:I,props:k}=C;let O=S.jsx(Z,{classNames:b,color:s,disableAnimation:l,hideSelectedIcon:c,item:C,state:n,variant:t,...k},I);return C.wrapper&&(O=C.wrapper(O)),O}),a&&S.jsx(tt,{as:"li",className:u.divider({class:w}),...d})]})]},o.key)});ve.displayName="HeroUI.ListboxSection";var be=ve;function L(o,n,e){let t=e.initialDeps??[],s;return()=>{var l,i,r,c;let a;e.key&&((l=e.debug)!=null&&l.call(e))&&(a=Date.now());const d=o();if(!(d.length!==t.length||d.some((m,f)=>t[f]!==m)))return s;t=d;let v;if(e.key&&((i=e.debug)!=null&&i.call(e))&&(v=Date.now()),s=n(...d),e.key&&((r=e.debug)!=null&&r.call(e))){const m=Math.round((Date.now()-a)*100)/100,f=Math.round((Date.now()-v)*100)/100,h=f/16,g=(u,p)=>{for(u=String(u);u.length<p;)u=" "+u;return u};console.info(`%c⏱ ${g(f,5)} /${g(m,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*h,120))}deg 100% 31%);`,e==null?void 0:e.key)}return(c=e==null?void 0:e.onChange)==null||c.call(e,s),s}}function q(o,n){if(o===void 0)throw new Error("Unexpected undefined");return o}const mt=(o,n)=>Math.abs(o-n)<1,gt=(o,n,e)=>{let t;return function(...s){o.clearTimeout(t),t=o.setTimeout(()=>n.apply(this,s),e)}},vt=o=>o,bt=o=>{const n=Math.max(o.startIndex-o.overscan,0),e=Math.min(o.endIndex+o.overscan,o.count-1),t=[];for(let s=n;s<=e;s++)t.push(s);return t},yt=(o,n)=>{const e=o.scrollElement;if(!e)return;const t=o.targetWindow;if(!t)return;const s=i=>{const{width:r,height:c}=i;n({width:Math.round(r),height:Math.round(c)})};if(s(e.getBoundingClientRect()),!t.ResizeObserver)return()=>{};const l=new t.ResizeObserver(i=>{const r=i[0];if(r!=null&&r.borderBoxSize){const c=r.borderBoxSize[0];if(c){s({width:c.inlineSize,height:c.blockSize});return}}s(e.getBoundingClientRect())});return l.observe(e,{box:"border-box"}),()=>{l.unobserve(e)}},le={passive:!0},xt=typeof window>"u"?!0:"onscrollend"in window,St=(o,n)=>{const e=o.scrollElement;if(!e)return;const t=o.targetWindow;if(!t)return;let s=0;const l=o.options.useScrollendEvent&&xt?()=>{}:gt(t,()=>{n(s,!1)},o.options.isScrollingResetDelay),i=a=>()=>{const{horizontal:d,isRtl:b}=o.options;s=d?e.scrollLeft*(b&&-1||1):e.scrollTop,l(),n(s,a)},r=i(!0),c=i(!1);return c(),e.addEventListener("scroll",r,le),e.addEventListener("scrollend",c,le),()=>{e.removeEventListener("scroll",r),e.removeEventListener("scrollend",c)}},$t=(o,n,e)=>{if(n!=null&&n.borderBoxSize){const t=n.borderBoxSize[0];if(t)return Math.round(t[e.options.horizontal?"inlineSize":"blockSize"])}return Math.round(o.getBoundingClientRect()[e.options.horizontal?"width":"height"])},wt=(o,{adjustments:n=0,behavior:e},t)=>{var s,l;const i=o+n;(l=(s=t.scrollElement)==null?void 0:s.scrollTo)==null||l.call(s,{[t.options.horizontal?"left":"top"]:i,behavior:e})};class Mt{constructor(n){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let e=null;const t=()=>e||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:e=new this.targetWindow.ResizeObserver(s=>{s.forEach(l=>{this._measureElement(l.target,l)})}));return{disconnect:()=>{var s;(s=t())==null||s.disconnect(),e=null},observe:s=>{var l;return(l=t())==null?void 0:l.observe(s,{box:"border-box"})},unobserve:s=>{var l;return(l=t())==null?void 0:l.unobserve(s)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach(([t,s])=>{typeof s>"u"&&delete e[t]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:vt,rangeExtractor:bt,onChange:()=>{},measureElement:$t,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!0,...e}},this.notify=e=>{var t,s;(s=(t=this.options).onChange)==null||s.call(t,this,e)},this.maybeNotify=L(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),e=>{this.notify(e)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(e=>e()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var e;const t=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==t){if(this.cleanup(),!t){this.maybeNotify();return}this.scrollElement=t,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((e=this.scrollElement)==null?void 0:e.window)??null,this.elementsCache.forEach(s=>{this.observer.observe(s)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,s=>{this.scrollRect=s,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(s,l)=>{this.scrollAdjustments=0,this.scrollDirection=l?this.getScrollOffset()<s?"forward":"backward":null,this.scrollOffset=s,this.isScrolling=l,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(e,t)=>{const s=new Map,l=new Map;for(let i=t-1;i>=0;i--){const r=e[i];if(s.has(r.lane))continue;const c=l.get(r.lane);if(c==null||r.end>c.end?l.set(r.lane,r):r.end<c.end&&s.set(r.lane,!0),s.size===this.options.lanes)break}return l.size===this.options.lanes?Array.from(l.values()).sort((i,r)=>i.end===r.end?i.index-r.index:i.end-r.end)[0]:void 0},this.getMeasurementOptions=L(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(e,t,s,l,i)=>(this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:t,scrollMargin:s,getItemKey:l,enabled:i}),{key:!1}),this.getMeasurements=L(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:e,paddingStart:t,scrollMargin:s,getItemKey:l,enabled:i},r)=>{if(!i)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(d=>{this.itemSizeCache.set(d.key,d.size)}));const c=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const a=this.measurementsCache.slice(0,c);for(let d=c;d<e;d++){const b=l(d),v=this.options.lanes===1?a[d-1]:this.getFurthestMeasurement(a,d),m=v?v.end+this.options.gap:t+s,f=r.get(b),h=typeof f=="number"?f:this.options.estimateSize(d),g=m+h,u=v?v.lane:d%this.options.lanes;a[d]={index:d,start:m,size:h,end:g,key:b,lane:u}}return this.measurementsCache=a,a},{key:!1,debug:()=>this.options.debug}),this.calculateRange=L(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(e,t,s)=>this.range=e.length>0&&t>0?zt({measurements:e,outerSize:t,scrollOffset:s}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=L(()=>{let e=null,t=null;const s=this.calculateRange();return s&&(e=s.startIndex,t=s.endIndex),[this.options.rangeExtractor,this.options.overscan,this.options.count,e,t]},(e,t,s,l,i)=>l===null||i===null?[]:e({startIndex:l,endIndex:i,overscan:t,count:s}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=e=>{const t=this.options.indexAttribute,s=e.getAttribute(t);return s?parseInt(s,10):(console.warn(`Missing attribute name '${t}={index}' on measured element.`),-1)},this._measureElement=(e,t)=>{const s=this.indexFromElement(e),l=this.measurementsCache[s];if(!l)return;const i=l.key,r=this.elementsCache.get(i);r!==e&&(r&&this.observer.unobserve(r),this.observer.observe(e),this.elementsCache.set(i,e)),e.isConnected&&this.resizeItem(s,this.options.measureElement(e,t,this))},this.resizeItem=(e,t)=>{const s=this.measurementsCache[e];if(!s)return;const l=this.itemSizeCache.get(s.key)??s.size,i=t-l;i!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(s,i,this):s.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=i,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(s.index),this.itemSizeCache=new Map(this.itemSizeCache.set(s.key,t)),this.notify(!1))},this.measureElement=e=>{if(!e){this.elementsCache.forEach((t,s)=>{t.isConnected||(this.observer.unobserve(t),this.elementsCache.delete(s))});return}this._measureElement(e,void 0)},this.getVirtualItems=L(()=>[this.getIndexes(),this.getMeasurements()],(e,t)=>{const s=[];for(let l=0,i=e.length;l<i;l++){const r=e[l],c=t[r];s.push(c)}return s},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{const t=this.getMeasurements();if(t.length!==0)return q(t[ye(0,t.length-1,s=>q(t[s]).start,e)])},this.getOffsetForAlignment=(e,t)=>{const s=this.getSize(),l=this.getScrollOffset();t==="auto"&&e>=l+s&&(t="end"),t==="end"&&(e-=s);const i=this.options.horizontal?"scrollWidth":"scrollHeight",c=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[i]:this.scrollElement[i]:0)-s;return Math.max(Math.min(c,e),0)},this.getOffsetForIndex=(e,t="auto")=>{e=Math.max(0,Math.min(e,this.options.count-1));const s=this.measurementsCache[e];if(!s)return;const l=this.getSize(),i=this.getScrollOffset();if(t==="auto")if(s.end>=i+l-this.options.scrollPaddingEnd)t="end";else if(s.start<=i+this.options.scrollPaddingStart)t="start";else return[i,t];const r=s.start-this.options.scrollPaddingStart+(s.size-l)/2;switch(t){case"center":return[this.getOffsetForAlignment(r,t),t];case"end":return[this.getOffsetForAlignment(s.end+this.options.scrollPaddingEnd,t),t];default:return[this.getOffsetForAlignment(s.start-this.options.scrollPaddingStart,t),t]}},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(e,{align:t="start",behavior:s}={})=>{this.cancelScrollToIndex(),s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(e,t),{adjustments:void 0,behavior:s})},this.scrollToIndex=(e,{align:t="auto",behavior:s}={})=>{e=Math.max(0,Math.min(e,this.options.count-1)),this.cancelScrollToIndex(),s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const l=this.getOffsetForIndex(e,t);if(!l)return;const[i,r]=l;this._scrollToOffset(i,{adjustments:void 0,behavior:s}),s!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(e))){const[a]=q(this.getOffsetForIndex(e,r));mt(a,this.getScrollOffset())||this.scrollToIndex(e,{align:r,behavior:s})}else this.scrollToIndex(e,{align:r,behavior:s})}))},this.scrollBy=(e,{behavior:t}={})=>{this.cancelScrollToIndex(),t==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+e,{adjustments:void 0,behavior:t})},this.getTotalSize=()=>{var e;const t=this.getMeasurements();let s;return t.length===0?s=this.options.paddingStart:s=this.options.lanes===1?((e=t[t.length-1])==null?void 0:e.end)??0:Math.max(...t.slice(-this.options.lanes).map(l=>l.end)),Math.max(s-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(e,{adjustments:t,behavior:s})=>{this.options.scrollToFn(e,{behavior:s,adjustments:t},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(n)}}const ye=(o,n,e,t)=>{for(;o<=n;){const s=(o+n)/2|0,l=e(s);if(l<t)o=s+1;else if(l>t)n=s-1;else return s}return o>0?o-1:0};function zt({measurements:o,outerSize:n,scrollOffset:e}){const t=o.length-1,l=ye(0,t,r=>o[r].start,e);let i=l;for(;i<t&&o[i].end<e+n;)i++;return{startIndex:l,endIndex:i}}const re=typeof document<"u"?z.useLayoutEffect:z.useEffect;function Ct(o){const n=z.useReducer(()=>({}),{})[1],e={...o,onChange:(s,l)=>{var i;l?Ue.flushSync(n):n(),(i=o.onChange)==null||i.call(o,s,l)}},[t]=z.useState(()=>new Mt(e));return t.setOptions(e),re(()=>t._didMount(),[]),re(()=>t._willUpdate()),t}function Pt(o){return Ct({observeElementRect:yt,observeElementOffset:St,scrollToFn:wt,...o})}function It(o={}){const{domRef:n,isEnabled:e=!0,overflowCheck:t="vertical",visibility:s="auto",offset:l=0,onVisibilityChange:i,updateDeps:r=[]}=o,c=z.useRef(s);z.useEffect(()=>{const a=n==null?void 0:n.current;if(!a||!e)return;const d=(m,f,h,g,u)=>{if(s==="auto"){const p=`${g}${Ye(u)}Scroll`;f&&h?(a.dataset[p]="true",a.removeAttribute(`data-${g}-scroll`),a.removeAttribute(`data-${u}-scroll`)):(a.dataset[`${g}Scroll`]=f.toString(),a.dataset[`${u}Scroll`]=h.toString(),a.removeAttribute(`data-${g}-${u}-scroll`))}else{const p=f&&h?"both":f?g:h?u:"none";p!==c.current&&(i==null||i(p),c.current=p)}},b=()=>{var m,f;const h=[{type:"vertical",prefix:"top",suffix:"bottom"},{type:"horizontal",prefix:"left",suffix:"right"}],g=a.querySelector('ul[data-slot="list"]'),u=+((m=g==null?void 0:g.getAttribute("data-virtual-scroll-height"))!=null?m:a.scrollHeight),p=+((f=g==null?void 0:g.getAttribute("data-virtual-scroll-top"))!=null?f:a.scrollTop);for(const{type:w,prefix:M,suffix:$}of h)if(t===w||t==="both"){const x=w==="vertical"?p>l:a.scrollLeft>l,C=w==="vertical"?p+a.clientHeight+l<u:a.scrollLeft+a.clientWidth+l<a.scrollWidth;d(w,x,C,M,$)}},v=()=>{["top","bottom","top-bottom","left","right","left-right"].forEach(m=>{a.removeAttribute(`data-${m}-scroll`)})};return b(),a.addEventListener("scroll",b,!0),s!=="auto"&&(v(),s==="both"?(a.dataset.topBottomScroll=String(t==="vertical"),a.dataset.leftRightScroll=String(t==="horizontal")):(a.dataset.topBottomScroll="false",a.dataset.leftRightScroll="false",["top","bottom","left","right"].forEach(m=>{a.dataset[`${m}Scroll`]=String(s===m)}))),()=>{a.removeEventListener("scroll",b,!0),v()}},[...r,e,s,t,i,n])}function Ot(o){var n;const[e,t]=he(o,ie.variantKeys),{ref:s,as:l,children:i,className:r,style:c,size:a=40,offset:d=0,visibility:b="auto",isEnabled:v=!0,onVisibilityChange:m,...f}=e,h=l||"div",g=ue(s);It({domRef:g,offset:d,visibility:b,isEnabled:v,onVisibilityChange:m,updateDeps:[i],overflowCheck:(n=o.orientation)!=null?n:"vertical"});const u=z.useMemo(()=>ie({...t,className:r}),[fe(t),r]);return{Component:h,styles:u,domRef:g,children:i,getBaseProps:(w={})=>{var M;return{ref:g,className:u,"data-orientation":(M=o.orientation)!=null?M:"vertical",style:{"--scroll-shadow-size":`${a}px`,...c,...w.style},...f,...w}}}}var Et=(o,n)=>{const e=[];for(const t of o)t.type==="section"?e.push(([...t.childNodes].length+1)*n):e.push(n);return e},kt=o=>{if(!o||o.scrollTop===void 0||o.clientHeight===void 0||o.scrollHeight===void 0)return{isTop:!1,isBottom:!1,isMiddle:!1};const n=o.scrollTop===0,e=Math.ceil(o.scrollTop+o.clientHeight)>=o.scrollHeight;return{isTop:n,isBottom:e,isMiddle:!n&&!e}},_t=o=>{var n;const{Component:e,state:t,color:s,variant:l,itemClasses:i,getBaseProps:r,topContent:c,bottomContent:a,hideEmptyContent:d,hideSelectedIcon:b,shouldHighlightOnFocus:v,disableAnimation:m,getEmptyContentProps:f,getListProps:h,scrollShadowProps:g}=o,{virtualization:u}=o;if(!u||!qe(u)&&!u.maxListboxHeight&&!u.itemHeight)throw new Error("You are using a virtualized listbox. VirtualizedListbox requires 'virtualization' props with 'maxListboxHeight' and 'itemHeight' properties. This error might have originated from autocomplete components that use VirtualizedListbox. Please provide these props to use the virtualized listbox.");const{maxListboxHeight:p,itemHeight:w}=u,M=Math.min(p,w*t.collection.size),$=z.useRef(null),x=z.useMemo(()=>Et([...t.collection],w),[t.collection,w]),C=Pt({count:[...t.collection].length,getScrollElement:()=>$.current,estimateSize:P=>x[P]}),I=C.getVirtualItems(),k=C.getTotalSize(),{getBaseProps:O}=Ot({...g}),T=P=>{var j;const y=[...t.collection][P.index];if(!y)return null;const R={color:s,item:y,state:t,variant:l,disableAnimation:m,hideSelectedIcon:b,...y.props},H={position:"absolute",top:0,left:0,width:"100%",height:`${P.size}px`,transform:`translateY(${P.start}px)`};if(y.type==="section")return S.jsx(be,{...R,itemClasses:i,style:{...H,...R.style}},y.key);let V=S.jsx(Z,{...R,classNames:_(i,(j=y.props)==null?void 0:j.classNames),shouldHighlightOnFocus:v,style:{...H,...R.style}},y.key);return y.wrapper&&(V=y.wrapper(V)),V},[E,A]=z.useState({isTop:!1,isBottom:!0,isMiddle:!1}),B=S.jsxs(e,{...h(),"data-virtual-scroll-height":k,"data-virtual-scroll-top":(n=$==null?void 0:$.current)==null?void 0:n.scrollTop,children:[!t.collection.size&&!d&&S.jsx("li",{children:S.jsx("div",{...f()})}),S.jsx("div",{...Y(O()),ref:$,style:{height:p,overflow:"auto"},onScroll:P=>{A(kt(P.target))},children:M>0&&w>0&&S.jsx("div",{style:{height:`${k}px`,width:"100%",position:"relative"},children:I.map(P=>T(P))})})]});return S.jsxs("div",{...r(),children:[c,B,a]})},Tt=_t,Ft=pe(function(n,e){const{isVirtualized:t,...s}=n,l=ht({...s,ref:e}),{Component:i,state:r,color:c,variant:a,itemClasses:d,getBaseProps:b,topContent:v,bottomContent:m,hideEmptyContent:f,hideSelectedIcon:h,shouldHighlightOnFocus:g,disableAnimation:u,getEmptyContentProps:p,getListProps:w}=l;if(t)return S.jsx(Tt,{...n,...l});const M=S.jsxs(i,{...w(),children:[!r.collection.size&&!f&&S.jsx("li",{children:S.jsx("div",{...p()})}),[...r.collection].map($=>{var x;const C={color:c,item:$,state:r,variant:a,disableAnimation:u,hideSelectedIcon:h,...$.props};if($.type==="section")return S.jsx(be,{...C,itemClasses:d},$.key);let I=S.jsx(Z,{...C,classNames:_(d,(x=$.props)==null?void 0:x.classNames),shouldHighlightOnFocus:g},$.key);return $.wrapper&&(I=$.wrapper(I)),I})]});return S.jsxs("div",{...b(),children:[v,M,m]})}),Wt=Ft;export{it as $,Wt as a,ne as b,J as c,at as d,Ht as l,ie as s};
