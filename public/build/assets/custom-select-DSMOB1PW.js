import{j as c}from"./jsx-runtime-D_zvdyIk.js";import{$ as oa,u as ia}from"./chunk-HJTJQZF3-CNhMJ5mL.js";import{t as da,d as ca,n as ua,b as K,x as fa,v as ba,am as ga,h as pa,i as ma,u as We,Q as va,a as xa,c as S,o as ha,e as _,f as ya,A as _a}from"./index-DRKi_ZKH.js";import{$ as Sa,f as je}from"./chunk-6VC6TS2O-B3iksFJf.js";import{r as s}from"./index-Br2k6vyu.js";import{$ as wa,a as Pa}from"./chunk-OBFX2YGI-CL3YCrV8.js";import{$ as Ca}from"./useMenuTriggerState-6breljWh.js";import{c as $a,u as Ia,F as Ma,e as za,f as Ka}from"./chunk-SLABUSGS-DJ7WWWAp.js";import{b as Da}from"./useCollator-Cqx0QUhy.js";import{$ as ka}from"./useMenuTrigger-DKnkbyPy.js";import{a as Wa}from"./getItemCount-B1PudtaV.js";import{k as ja}from"./SelectionManager-DVXmuDWl.js";import{u as Oa}from"./index-_tZa__md.js";import{a as Ra}from"./chunk-6JWJ7CFW-_Kan1Sv2.js";import{a as Na}from"./useDialog-DWysrGHo.js";import{f as Ba,b as Fa}from"./VisuallyHidden-D21Owd9S.js";import{f as La}from"./chunk-XPO5AVRM-CK8zi_F2.js";import{C as Va}from"./chunk-7F3ZLNJ6-DjDYQXym.js";import{s as Aa}from"./chunk-GT2IF6NJ-BTWKXWuZ.js";import{s as Ea}from"./chunk-4EXC76WE-GsHGN1t1.js";var Oe=da({slots:{base:["group inline-flex flex-col relative"],label:["block","absolute","z-10","origin-top-left","flex-shrink-0","rtl:origin-top-right","subpixel-antialiased","text-small","text-foreground-500","pointer-events-none","group-data-[has-label-outside=true]:pointer-events-auto"],mainWrapper:"w-full flex flex-col",trigger:"relative px-3 gap-3 w-full inline-flex flex-row items-center shadow-sm outline-none tap-highlight-transparent",innerWrapper:"inline-flex h-fit w-[calc(100%_-_theme(spacing.6))] min-h-4 items-center gap-1.5 box-border",selectorIcon:"absolute end-3 w-4 h-4",spinner:"absolute end-3",value:["text-foreground-500","font-normal","w-full","text-start"],listboxWrapper:"scroll-py-6 w-full",listbox:"",popoverContent:"w-full p-1 overflow-hidden",helperWrapper:"p-1 flex relative flex-col gap-1.5 group-data-[has-helper=true]:flex",description:"text-tiny text-foreground-400",errorMessage:"text-tiny text-danger"},variants:{variant:{flat:{trigger:["bg-default-100","data-[hover=true]:bg-default-200","group-data-[focus=true]:bg-default-200"]},faded:{trigger:["bg-default-100","border-medium","border-default-200","data-[hover=true]:border-default-400 data-[focus=true]:border-default-400 data-[open=true]:border-default-400"],value:"group-data-[has-value=true]:text-default-foreground"},bordered:{trigger:["border-medium","border-default-200","data-[hover=true]:border-default-400","data-[open=true]:border-default-foreground","data-[focus=true]:border-default-foreground"],value:"group-data-[has-value=true]:text-default-foreground"},underlined:{trigger:["!px-1","!pb-0","!gap-0","relative","box-border","border-b-medium","shadow-[0_1px_0px_0_rgba(0,0,0,0.05)]","border-default-200","!rounded-none","hover:border-default-300","after:content-['']","after:w-0","after:origin-center","after:bg-default-foreground","after:absolute","after:left-1/2","after:-translate-x-1/2","after:-bottom-[2px]","after:h-[2px]","data-[open=true]:after:w-full","data-[focus=true]:after:w-full"],value:"group-data-[has-value=true]:text-default-foreground"}},color:{default:{},primary:{selectorIcon:"text-primary"},secondary:{selectorIcon:"text-secondary"},success:{selectorIcon:"text-success"},warning:{selectorIcon:"text-warning"},danger:{selectorIcon:"text-danger"}},size:{sm:{label:"text-tiny",trigger:"h-8 min-h-8 px-2 rounded-small",value:"text-small"},md:{trigger:"h-10 min-h-10 rounded-medium",value:"text-small"},lg:{trigger:"h-12 min-h-12 rounded-large",value:"text-medium"}},radius:{none:{trigger:"rounded-none"},sm:{trigger:"rounded-small"},md:{trigger:"rounded-medium"},lg:{trigger:"rounded-large"},full:{trigger:"rounded-full"}},labelPlacement:{outside:{base:"flex flex-col"},"outside-left":{base:"flex-row items-center flex-nowrap data-[has-helper=true]:items-start",label:"relative pe-2 text-foreground"},inside:{label:"text-tiny cursor-pointer",trigger:"flex-col items-start justify-center gap-0"}},fullWidth:{true:{base:"w-full"},false:{base:"min-w-40"}},isDisabled:{true:{base:"opacity-disabled pointer-events-none",trigger:"pointer-events-none"}},isInvalid:{true:{label:"!text-danger",value:"!text-danger",selectorIcon:"text-danger"}},isRequired:{true:{label:"after:content-['*'] after:text-danger after:ms-0.5"}},isMultiline:{true:{label:"relative",trigger:"!h-auto"},false:{value:"truncate"}},disableAnimation:{true:{trigger:"after:transition-none",base:"transition-none",label:"transition-none",selectorIcon:"transition-none"},false:{base:"transition-background motion-reduce:transition-none !duration-150",label:["will-change-auto","origin-top-left","rtl:origin-top-right","!duration-200","!ease-out","transition-[transform,color,left,opacity]","motion-reduce:transition-none"],selectorIcon:"transition-transform duration-150 ease motion-reduce:transition-none"}},disableSelectorIconRotation:{true:{},false:{selectorIcon:"data-[open=true]:rotate-180"}}},defaultVariants:{variant:"flat",color:"default",size:"md",fullWidth:!0,isDisabled:!1,isMultiline:!1,disableSelectorIconRotation:!1},compoundVariants:[{variant:"flat",color:"default",class:{value:"group-data-[has-value=true]:text-default-foreground",trigger:["bg-default-100","data-[hover=true]:bg-default-200"]}},{variant:"flat",color:"primary",class:{trigger:["bg-primary-100","text-primary","data-[hover=true]:bg-primary-50","group-data-[focus=true]:bg-primary-50"],value:"text-primary",label:"text-primary"}},{variant:"flat",color:"secondary",class:{trigger:["bg-secondary-100","text-secondary","data-[hover=true]:bg-secondary-50","group-data-[focus=true]:bg-secondary-50"],value:"text-secondary",label:"text-secondary"}},{variant:"flat",color:"success",class:{trigger:["bg-success-100","text-success-600","dark:text-success","data-[hover=true]:bg-success-50","group-data-[focus=true]:bg-success-50"],value:"text-success-600 dark:text-success",label:"text-success-600 dark:text-success"}},{variant:"flat",color:"warning",class:{trigger:["bg-warning-100","text-warning-600","dark:text-warning","data-[hover=true]:bg-warning-50","group-data-[focus=true]:bg-warning-50"],value:"text-warning-600 dark:text-warning",label:"text-warning-600 dark:text-warning"}},{variant:"flat",color:"danger",class:{trigger:["bg-danger-100","text-danger","dark:text-danger-500","data-[hover=true]:bg-danger-50","group-data-[focus=true]:bg-danger-50"],value:"text-danger dark:text-danger-500",label:"text-danger dark:text-danger-500"}},{variant:"faded",color:"primary",class:{trigger:"data-[hover=true]:border-primary data-[focus=true]:border-primary data-[open=true]:border-primary",label:"text-primary"}},{variant:"faded",color:"secondary",class:{trigger:"data-[hover=true]:border-secondary data-[focus=true]:border-secondary data-[open=true]:border-secondary",label:"text-secondary"}},{variant:"faded",color:"success",class:{trigger:"data-[hover=true]:border-success data-[focus=true]:border-success data-[open=true]:border-success",label:"text-success"}},{variant:"faded",color:"warning",class:{trigger:"data-[hover=true]:border-warning data-[focus=true]:border-warning data-[open=true]:border-warning",label:"text-warning"}},{variant:"faded",color:"danger",class:{trigger:"data-[hover=true]:border-danger data-[focus=true]:border-danger data-[open=true]:border-danger",label:"text-danger"}},{variant:"underlined",color:"default",class:{value:"group-data-[has-value=true]:text-foreground"}},{variant:"underlined",color:"primary",class:{trigger:"after:bg-primary",label:"text-primary"}},{variant:"underlined",color:"secondary",class:{trigger:"after:bg-secondary",label:"text-secondary"}},{variant:"underlined",color:"success",class:{trigger:"after:bg-success",label:"text-success"}},{variant:"underlined",color:"warning",class:{trigger:"after:bg-warning",label:"text-warning"}},{variant:"underlined",color:"danger",class:{trigger:"after:bg-danger",label:"text-danger"}},{variant:"bordered",color:"primary",class:{trigger:["data-[open=true]:border-primary","data-[focus=true]:border-primary"],label:"text-primary"}},{variant:"bordered",color:"secondary",class:{trigger:["data-[open=true]:border-secondary","data-[focus=true]:border-secondary"],label:"text-secondary"}},{variant:"bordered",color:"success",class:{trigger:["data-[open=true]:border-success","data-[focus=true]:border-success"],label:"text-success"}},{variant:"bordered",color:"warning",class:{trigger:["data-[open=true]:border-warning","data-[focus=true]:border-warning"],label:"text-warning"}},{variant:"bordered",color:"danger",class:{trigger:["data-[open=true]:border-danger","data-[focus=true]:border-danger"],label:"text-danger"}},{labelPlacement:"inside",color:"default",class:{label:"group-data-[filled=true]:text-default-600"}},{labelPlacement:"outside",color:"default",class:{label:"group-data-[filled=true]:text-foreground"}},{radius:"full",size:["sm"],class:{trigger:"px-3"}},{radius:"full",size:"md",class:{trigger:"px-4"}},{radius:"full",size:"lg",class:{trigger:"px-5"}},{disableAnimation:!1,variant:["faded","bordered"],class:{trigger:"transition-colors motion-reduce:transition-none"}},{disableAnimation:!1,variant:"underlined",class:{trigger:"after:transition-width motion-reduce:after:transition-none"}},{variant:["flat","faded"],class:{trigger:[...ca]}},{isInvalid:!0,variant:"flat",class:{trigger:["bg-danger-50","data-[hover=true]:bg-danger-100","group-data-[focus=true]:bg-danger-50"]}},{isInvalid:!0,variant:"bordered",class:{trigger:"!border-danger group-data-[focus=true]:border-danger"}},{isInvalid:!0,variant:"underlined",class:{trigger:"after:bg-danger"}},{labelPlacement:"inside",size:"sm",class:{trigger:"h-12 min-h-12 py-1.5 px-3"}},{labelPlacement:"inside",size:"md",class:{trigger:"h-14 min-h-14 py-2"}},{labelPlacement:"inside",size:"lg",class:{label:"text-medium",trigger:"h-16 min-h-16 py-2.5 gap-0"}},{labelPlacement:"outside",isMultiline:!1,class:{base:"group relative justify-end",label:["pb-0","z-20","top-1/2","-translate-y-1/2","group-data-[filled=true]:start-0"]}},{labelPlacement:["inside"],class:{label:"group-data-[filled=true]:scale-85"}},{labelPlacement:"inside",size:["sm","md"],class:{label:"text-small"}},{labelPlacement:"inside",isMultiline:!1,size:"sm",class:{label:["group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_8px)]"],innerWrapper:"group-data-[has-label=true]:pt-4"}},{labelPlacement:"inside",isMultiline:!1,size:"md",class:{label:["group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_6px)]"],innerWrapper:"group-data-[has-label=true]:pt-4"}},{labelPlacement:"inside",isMultiline:!1,size:"lg",class:{label:["text-medium","group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_8px)]"],innerWrapper:"group-data-[has-label=true]:pt-5"}},{labelPlacement:"inside",variant:["faded","bordered"],isMultiline:!1,size:"sm",class:{label:["group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_8px_-_theme(borderWidth.medium))]"]}},{labelPlacement:"inside",variant:["faded","bordered"],isMultiline:!1,size:"md",class:{label:["group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_6px_-_theme(borderWidth.medium))]"]}},{labelPlacement:"inside",variant:["faded","bordered"],isMultiline:!1,size:"lg",class:{label:["text-medium","group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_8px_-_theme(borderWidth.medium))]"]}},{labelPlacement:"inside",variant:"underlined",isMultiline:!1,size:"sm",class:{label:["group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_5px)]"]}},{labelPlacement:"inside",variant:"underlined",isMultiline:!1,size:"md",class:{label:["group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_3.5px)]"]}},{labelPlacement:"inside",variant:"underlined",isMultiline:!1,size:"lg",class:{label:["text-medium","group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_4px)]"]}},{labelPlacement:"outside",size:"sm",isMultiline:!1,class:{label:["start-2","text-tiny","group-data-[filled=true]:-translate-y-[calc(100%_+_theme(fontSize.tiny)/2_+_16px)]","group-data-[has-helper=true]:-translate-y-[calc(100%_+_theme(fontSize.small)/2_+_26px)]"],base:"data-[has-label=true]:mt-[calc(theme(fontSize.small)_+_8px)]"}},{labelPlacement:"outside",isMultiline:!1,size:"md",class:{label:["start-3","text-small","group-data-[filled=true]:-translate-y-[calc(100%_+_theme(fontSize.small)/2_+_20px)]","group-data-[has-helper=true]:-translate-y-[calc(100%_+_theme(fontSize.small)/2_+_30px)]"],base:"data-[has-label=true]:mt-[calc(theme(fontSize.small)_+_10px)]"}},{labelPlacement:"outside",isMultiline:!1,size:"lg",class:{label:["start-3","text-medium","group-data-[filled=true]:-translate-y-[calc(100%_+_theme(fontSize.small)/2_+_24px)]","group-data-[has-helper=true]:-translate-y-[calc(100%_+_theme(fontSize.small)/2_+_34px)]"],base:"data-[has-label=true]:mt-[calc(theme(fontSize.small)_+_12px)]"}},{labelPlacement:"outside-left",size:"sm",class:{label:"group-data-[has-helper=true]:pt-2"}},{labelPlacement:"outside-left",size:"md",class:{label:"group-data-[has-helper=true]:pt-3"}},{labelPlacement:"outside-left",size:"lg",class:{label:"group-data-[has-helper=true]:pt-4"}},{labelPlacement:"outside",isMultiline:!0,class:{label:"pb-1.5"}},{labelPlacement:["inside","outside"],class:{label:["pe-2","max-w-full","text-ellipsis","overflow-hidden"]}}]});function Ha(e){const{collection:l,disabledKeys:n,selectionManager:h,selectionManager:{setSelectedKeys:d,selectedKeys:f,selectionMode:b}}=wa(e),u=s.useMemo(()=>!e.isLoading&&f.size!==0?Array.from(f).filter(Boolean).filter(g=>!l.getItem(g)):[],[f,l]),m=f.size!==0?Array.from(f).map(g=>l.getItem(g)).filter(Boolean):null;return u.length&&console.warn(`Select: Keys "${u.join(", ")}" passed to "selectedKeys" are not present in the collection.`),{collection:l,disabledKeys:n,selectionManager:h,selectionMode:b,selectedKeys:f,setSelectedKeys:d.bind(h),selectedItems:m}}function qa({validate:e,validationBehavior:l,...n}){const[h,d]=s.useState(!1),[f,b]=s.useState(null),u=Ca(n),m=Ha({...n,onSelectionChange:o=>{n.onSelectionChange!=null&&(o==="all"?n.onSelectionChange(new Set(m.collection.getKeys())):n.onSelectionChange(o)),n.selectionMode==="single"&&u.close()}}),g=$a({...n,validationBehavior:l,validate:o=>{if(!e)return;const x=Array.from(o);return e(n.selectionMode==="single"?x[0]:x)},value:m.selectedKeys}),v=m.collection.size===0&&n.hideEmptyContent;return{...g,...m,...u,focusStrategy:f,close(){u.close()},open(o=null){v||(b(o),u.open())},toggle(o=null){v||(b(o),u.toggle())},isFocused:h,setFocused:d}}function Ta(e,l,n){const{disallowEmptySelection:h,isDisabled:d}=e,f=Da({usage:"search",sensitivity:"base"}),b=s.useMemo(()=>new Wa(l.collection,l.disabledKeys,null,f),[l.collection,l.disabledKeys,f]),{menuTriggerProps:u,menuProps:m}=ka({isDisabled:d,type:"listbox"},l,n),g=p=>{if(l.selectionMode==="single")switch(p.key){case"ArrowLeft":{p.preventDefault();const $=l.selectedKeys.size>0?b.getKeyAbove(l.selectedKeys.values().next().value):b.getFirstKey();$&&l.setSelectedKeys([$]);break}case"ArrowRight":{p.preventDefault();const $=l.selectedKeys.size>0?b.getKeyBelow(l.selectedKeys.values().next().value):b.getFirstKey();$&&l.setSelectedKeys([$]);break}}},{typeSelectProps:v}=ja({keyboardDelegate:b,selectionManager:l.selectionManager,onTypeSelect(p){l.setSelectedKeys([p])}}),{isInvalid:o,validationErrors:x,validationDetails:j}=l.displayValidation,{labelProps:P,fieldProps:y,descriptionProps:D,errorMessageProps:V}=oa({...e,labelElementType:"span",isInvalid:o,errorMessage:e.errorMessage||x});v.onKeyDown=v.onKeyDownCapture,delete v.onKeyDownCapture;const k=ua(e,{labelable:!0}),C=K(v,u,y),O=fa();return{labelProps:{...P,onClick:()=>{var p;e.isDisabled||((p=n.current)==null||p.focus(),ga("keyboard"))}},triggerProps:K(k,{...C,onKeyDown:ba(C.onKeyDown,g,e.onKeyDown),onKeyUp:e.onKeyUp,"aria-labelledby":[O,k["aria-label"]!==void 0?k["aria-labelledby"]!==void 0?k["aria-labelledby"]:C.id:C["aria-labelledby"]].join(" "),onFocus(p){l.isFocused||(e.onFocus&&e.onFocus(p),l.setFocused(!0))},onBlur(p){l.isOpen||(e.onBlur&&e.onBlur(p),l.setFocused(!1))}}),valueProps:{id:O},menuProps:{...m,disallowEmptySelection:h,autoFocus:l.focusStrategy||!0,shouldSelectOnPressUp:!0,shouldFocusOnHover:!0,onBlur:p=>{p.currentTarget.contains(p.relatedTarget)||(e.onBlur&&e.onBlur(p),l.setFocused(!1))},onFocus:m==null?void 0:m.onFocus,"aria-labelledby":[y["aria-labelledby"],C["aria-label"]&&!y["aria-labelledby"]?C.id:null].filter(Boolean).join(" ")},descriptionProps:D,errorMessageProps:V,isInvalid:o,validationErrors:x,validationDetails:j}}var Re=new WeakMap;function Ua(e){var l,n,h,d,f,b;const u=pa(),{validationBehavior:m}=Ia(Ma)||{},[g,v]=ma(e,Oe.variantKeys),o=(n=(l=e.disableAnimation)!=null?l:u==null?void 0:u.disableAnimation)!=null?n:!1,{ref:x,as:j,label:P,name:y,isLoading:D,selectorIcon:V,isOpen:k,defaultOpen:C,onOpenChange:O,startContent:p,endContent:$,description:E,renderValue:T,onSelectionChange:H,placeholder:U,isVirtualized:Q,itemHeight:te=36,maxListboxHeight:R=256,children:G,disallowEmptySelection:q=!1,selectionMode:N="single",spinnerRef:J,scrollRef:X,popoverProps:Y={},scrollShadowProps:le={},listboxProps:re={},spinnerProps:Z={},validationState:ee,onChange:I,onClose:B,className:M,classNames:t,validationBehavior:ce=(h=m??(u==null?void 0:u.validationBehavior))!=null?h:"native",hideEmptyContent:Ne=!1,...ue}=g,Be=We(X),W={popoverProps:K({placement:"bottom",triggerScaleOnOpen:!1,offset:5,disableAnimation:o},Y),scrollShadowProps:K({ref:Be,isEnabled:(d=e.showScrollIndicators)!=null?d:!0,hideScrollBar:!0,offset:15},le),listboxProps:K({disableAnimation:o},re)},fe=j||"button",be=typeof fe=="string",z=We(x),w=s.useRef(null),ge=s.useRef(null),se=s.useRef(null);let r=qa({...g,isOpen:k,selectionMode:N,disallowEmptySelection:q,validationBehavior:ce,children:G,isRequired:e.isRequired,isDisabled:e.isDisabled,isInvalid:e.isInvalid,defaultOpen:C,hideEmptyContent:Ne,onOpenChange:a=>{O==null||O(a),a||B==null||B()},onSelectionChange:a=>{H==null||H(a),I&&typeof I=="function"&&I({target:{...z.current&&{...z.current,name:z.current.name},value:Array.from(a).join(",")}}),r.commitValidation()}});r={...r,...e.isDisabled&&{disabledKeys:new Set([...r.collection.getKeys()])}},Oa(()=>{var a;(a=z.current)!=null&&a.value&&r.setSelectedKeys(new Set([...r.selectedKeys,z.current.value]))},[z.current]);const{labelProps:pe,triggerProps:Fe,valueProps:me,menuProps:Le,descriptionProps:Ve,errorMessageProps:ve,isInvalid:Ae,validationErrors:ne,validationDetails:Ee}=Ta({...g,disallowEmptySelection:q,isDisabled:e.isDisabled},r,w),A=e.isInvalid||ee==="invalid"||Ae,{isPressed:xe,buttonProps:he}=va(Fe,w),{focusProps:ye,isFocused:_e,isFocusVisible:Se}=xa(),{isHovered:we,hoverProps:Pe}=Sa({isDisabled:e.isDisabled}),F=ia({labelPlacement:e.labelPlacement,label:P}),oe=!!U,Ce=F==="outside-left"||F==="outside",He=F==="inside",$e=F==="outside-left",Ie=r.isOpen||oe||!!((f=r.selectedItems)!=null&&f.length)||!!p||!!$||!!e.isMultiline,Me=!!((b=r.selectedItems)!=null&&b.length),ie=!!P,ze=ie&&($e||Ce&&oe),Ke=S(t==null?void 0:t.base,M),i=s.useMemo(()=>Oe({...v,isInvalid:A,labelPlacement:F,disableAnimation:o}),[ha(v),A,F,o]);Na({isDisabled:!r.isOpen});const De=typeof g.errorMessage=="function"?g.errorMessage({isInvalid:A,validationErrors:ne,validationDetails:Ee}):g.errorMessage||(ne==null?void 0:ne.join(" ")),de=!!E||!!De;s.useEffect(()=>{if(r.isOpen&&se.current&&w.current){let a=w.current.getBoundingClientRect(),L=se.current;L.style.width=a.width+"px"}},[r.isOpen]);const qe=s.useCallback((a={})=>({"data-slot":"base","data-filled":_(Ie),"data-has-value":_(Me),"data-has-label":_(ie),"data-has-helper":_(de),"data-invalid":_(A),"data-has-label-outside":_(ze),className:i.base({class:S(Ke,a.className)}),...a}),[i,de,Me,ie,ze,Ie,Ke]),Te=s.useCallback((a={})=>({ref:w,"data-slot":"trigger","data-open":_(r.isOpen),"data-disabled":_(e==null?void 0:e.isDisabled),"data-focus":_(_e),"data-pressed":_(xe),"data-focus-visible":_(Se),"data-hover":_(we),className:i.trigger({class:t==null?void 0:t.trigger}),...K(he,ye,Pe,je(ue,{enabled:be}),je(a))}),[i,w,r.isOpen,t==null?void 0:t.trigger,e==null?void 0:e.isDisabled,_e,xe,Se,we,he,ye,Pe,ue,be]),Ue=s.useCallback((a={})=>({state:r,triggerRef:w,selectRef:z,selectionMode:N,label:e==null?void 0:e.label,name:e==null?void 0:e.name,isRequired:e==null?void 0:e.isRequired,autoComplete:e==null?void 0:e.autoComplete,isDisabled:e==null?void 0:e.isDisabled,form:e==null?void 0:e.form,onChange:I,...a}),[r,N,e==null?void 0:e.label,e==null?void 0:e.autoComplete,e==null?void 0:e.name,e==null?void 0:e.isDisabled,w]),Qe=s.useCallback((a={})=>({"data-slot":"label",className:i.label({class:S(t==null?void 0:t.label,a.className)}),...pe,...a}),[i,t==null?void 0:t.label,pe]),Ge=s.useCallback((a={})=>({"data-slot":"value",className:i.value({class:S(t==null?void 0:t.value,a.className)}),...me,...a}),[i,t==null?void 0:t.value,me]),Je=s.useCallback((a={})=>({"data-slot":"listboxWrapper",className:i.listboxWrapper({class:S(t==null?void 0:t.listboxWrapper,a==null?void 0:a.className)}),style:{maxHeight:R??256,...a.style},...K(W.scrollShadowProps,a)}),[i.listboxWrapper,t==null?void 0:t.listboxWrapper,W.scrollShadowProps,R]),Xe=(a={})=>{const L=Q??r.collection.size>50;return{state:r,ref:ge,isVirtualized:L,virtualization:L?{maxListboxHeight:R,itemHeight:te}:void 0,"data-slot":"listbox",className:i.listbox({class:S(t==null?void 0:t.listbox,a==null?void 0:a.className)}),scrollShadowProps:W.scrollShadowProps,...K(W.listboxProps,a,Le)}},Ye=s.useCallback((a={})=>{var L,ke;const ae=K(W.popoverProps,a);return{state:r,triggerRef:w,ref:se,"data-slot":"popover",scrollRef:ge,triggerType:"listbox",classNames:{content:i.popoverContent({class:S(t==null?void 0:t.popoverContent,a.className)})},...ae,offset:r.selectedItems&&r.selectedItems.length>0?r.selectedItems.length*1e-8+(((L=W.popoverProps)==null?void 0:L.offset)||0):(ke=W.popoverProps)==null?void 0:ke.offset,shouldCloseOnInteractOutside:ae!=null&&ae.shouldCloseOnInteractOutside?ae.shouldCloseOnInteractOutside:na=>Ra(na,z,r)}},[i,t==null?void 0:t.popoverContent,W.popoverProps,w,r,r.selectedItems]),Ze=s.useCallback(()=>({"data-slot":"selectorIcon","aria-hidden":_(!0),"data-open":_(r.isOpen),className:i.selectorIcon({class:t==null?void 0:t.selectorIcon})}),[i,t==null?void 0:t.selectorIcon,r.isOpen]),ea=s.useCallback((a={})=>({...a,"data-slot":"innerWrapper",className:i.innerWrapper({class:S(t==null?void 0:t.innerWrapper,a==null?void 0:a.className)})}),[i,t==null?void 0:t.innerWrapper]),aa=s.useCallback((a={})=>({...a,"data-slot":"helperWrapper",className:i.helperWrapper({class:S(t==null?void 0:t.helperWrapper,a==null?void 0:a.className)})}),[i,t==null?void 0:t.helperWrapper]),ta=s.useCallback((a={})=>({...a,...Ve,"data-slot":"description",className:i.description({class:S(t==null?void 0:t.description,a==null?void 0:a.className)})}),[i,t==null?void 0:t.description]),la=s.useCallback((a={})=>({...a,"data-slot":"mainWrapper",className:i.mainWrapper({class:S(t==null?void 0:t.mainWrapper,a==null?void 0:a.className)})}),[i,t==null?void 0:t.mainWrapper]),ra=s.useCallback((a={})=>({...a,...ve,"data-slot":"error-message",className:i.errorMessage({class:S(t==null?void 0:t.errorMessage,a==null?void 0:a.className)})}),[i,ve,t==null?void 0:t.errorMessage]),sa=s.useCallback((a={})=>({"aria-hidden":_(!0),"data-slot":"spinner",color:"current",size:"sm",...Z,...a,ref:J,className:i.spinner({class:S(t==null?void 0:t.spinner,a==null?void 0:a.className)})}),[i,J,Z,t==null?void 0:t.spinner]);return Re.set(r,{isDisabled:e==null?void 0:e.isDisabled,isRequired:e==null?void 0:e.isRequired,name:e==null?void 0:e.name,isInvalid:A,validationBehavior:ce}),{Component:fe,domRef:z,state:r,label:P,name:y,triggerRef:w,isLoading:D,placeholder:U,startContent:p,endContent:$,description:E,selectorIcon:V,hasHelper:de,labelPlacement:F,hasPlaceholder:oe,renderValue:T,selectionMode:N,disableAnimation:o,isOutsideLeft:$e,shouldLabelBeOutside:Ce,shouldLabelBeInside:He,isInvalid:A,errorMessage:De,getBaseProps:qe,getTriggerProps:Te,getLabelProps:Qe,getValueProps:Ge,getListboxProps:Xe,getPopoverProps:Ye,getSpinnerProps:sa,getMainWrapperProps:la,getListboxWrapperProps:Je,getHiddenSelectProps:Ue,getInnerWrapperProps:ea,getHelperWrapperProps:aa,getDescriptionProps:ta,getErrorMessageProps:ra,getSelectorIconProps:Ze}}function Qa(e,l,n){var h;let d=Re.get(l)||{},{autoComplete:f,name:b=d.name,isDisabled:u=d.isDisabled,selectionMode:m,onChange:g,form:v}=e,{validationBehavior:o,isRequired:x,isInvalid:j}=d,{visuallyHiddenProps:P}=Ba();return za(e.selectRef,l.selectedKeys,l.setSelectedKeys),Ka({validationBehavior:o,focus:()=>{var y;return(y=n.current)==null?void 0:y.focus()}},l,e.selectRef),{containerProps:{...P,"aria-hidden":!0,"data-a11y-ignore":"aria-hidden-focus"},inputProps:{style:{display:"none"}},selectProps:{form:v,autoComplete:f,disabled:u,"aria-invalid":j||void 0,"aria-required":x&&o==="aria"||void 0,required:x&&o==="native",name:b,tabIndex:-1,value:m==="multiple"?[...l.selectedKeys].map(y=>String(y)):(h=[...l.selectedKeys][0])!=null?h:"",multiple:m==="multiple",onChange:y=>{l.setSelectedKeys(y.target.value),g==null||g(y)}}}}function Ga(e){var l;let{state:n,triggerRef:h,selectRef:d,label:f,name:b,isDisabled:u,form:m}=e,{containerProps:g,selectProps:v}=Qa({...e,selectRef:d},n,h);return n.collection.size<=300?c.jsx("div",{...g,"data-testid":"hidden-select-container",children:c.jsxs("label",{children:[f,c.jsxs("select",{...v,ref:d,children:[c.jsx("option",{}),[...n.collection.getKeys()].map(o=>{let x=n.collection.getItem(o);if((x==null?void 0:x.type)==="item")return c.jsx("option",{value:x.key,children:x.textValue},x.key)})]})]})}):b?c.jsx("input",{autoComplete:v.autoComplete,disabled:u,form:m,name:b,type:"hidden",value:(l=[...n.selectedKeys].join(","))!=null?l:""}):null}var Ja=ya(function(l,n){const{Component:h,state:d,label:f,hasHelper:b,isLoading:u,triggerRef:m,selectorIcon:g=c.jsx(Va,{}),description:v,errorMessage:o,isInvalid:x,startContent:j,endContent:P,placeholder:y,renderValue:D,shouldLabelBeOutside:V,disableAnimation:k,getBaseProps:C,getLabelProps:O,getTriggerProps:p,getValueProps:$,getListboxProps:E,getPopoverProps:T,getSpinnerProps:H,getMainWrapperProps:U,getInnerWrapperProps:Q,getHiddenSelectProps:te,getHelperWrapperProps:R,getListboxWrapperProps:G,getDescriptionProps:q,getErrorMessageProps:N,getSelectorIconProps:J}=Ua({...l,ref:n}),X=f?c.jsx("label",{...O(),children:f}):null,Y=s.cloneElement(g,J()),le=s.useMemo(()=>{const I=x&&o;return!b||!(I||v)?null:c.jsx("div",{...R(),children:I?c.jsx("div",{...N(),children:o}):c.jsx("div",{...q(),children:v})})},[b,x,o,v,R,N,q]),re=s.useMemo(()=>{var I;if(!((I=d.selectedItems)!=null&&I.length))return y;if(D&&typeof D=="function"){const B=[...d.selectedItems].map(M=>({key:M.key,data:M.value,type:M.type,props:M.props,textValue:M.textValue,rendered:M.rendered,"aria-label":M["aria-label"]}));return D(B)}return d.selectedItems.map(B=>B.textValue).join(", ")},[d.selectedItems,D,y]),Z=s.useMemo(()=>u?c.jsx(Aa,{...H()}):Y,[u,Y,H]),ee=s.useMemo(()=>d.isOpen?c.jsx(La,{...T(),children:c.jsx(Ea,{...G(),children:c.jsx(Pa,{...E()})})}):null,[d.isOpen,T,d,m,G,E]);return c.jsxs("div",{...C(),children:[c.jsx(Ga,{...te()}),V?X:null,c.jsxs("div",{...U(),children:[c.jsxs(h,{...p(),children:[V?null:X,c.jsxs("div",{...Q(),children:[j,c.jsx("span",{...$(),children:re}),P&&d.selectedItems&&c.jsx(Fa,{elementType:"span",children:","}),P]}),Z]}),le]}),k?ee:c.jsx(_a,{children:ee})]})}),Xa=Ja;function xt({...e}){return c.jsx(Xa,{variant:"bordered",labelPlacement:"outside",color:"primary",classNames:{label:"text-gray-800",description:"text-gray-400 italic text-xs"},...e})}export{xt as C};
