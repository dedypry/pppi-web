var Vl=Object.defineProperty;var Gl=(n,t,e)=>t in n?Vl(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var F=(n,t,e)=>Gl(n,typeof t!="symbol"?t+"":t,e);import{j as Zr}from"./jsx-runtime-D_zvdyIk.js";import{h as Wl}from"./axios-CoKnjbki.js";import{g as qr,c as ur,d as Kl,r as Be}from"./index-Br2k6vyu.js";import{r as Ls}from"./index.esm-ByNbkwyk.js";var Yr={exports:{}},vi;function Zl(){return vi||(vi=1,function(n,t){(function(e,r){n.exports=r()})(window,function(){return function(e){var r={};function i(s){if(r[s])return r[s].exports;var o=r[s]={i:s,l:!1,exports:{}};return e[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=e,i.c=r,i.d=function(s,o,l){i.o(s,o)||Object.defineProperty(s,o,{enumerable:!0,get:l})},i.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.t=function(s,o){if(1&o&&(s=i(s)),8&o||4&o&&typeof s=="object"&&s&&s.__esModule)return s;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:s}),2&o&&typeof s!="string")for(var a in s)i.d(l,a,(function(c){return s[c]}).bind(null,a));return l},i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,"a",o),o},i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},i.p="",i(i.s=17)}([function(e,r,i){var s=i(7),o=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",l=Object.prototype.toString,a=Array.prototype.concat,c=Object.defineProperty,u=i(25)(),f=c&&u,h=function(p,g,y,w){var v;(!(g in p)||typeof(v=w)=="function"&&l.call(v)==="[object Function]"&&w())&&(f?c(p,g,{configurable:!0,enumerable:!1,value:y,writable:!0}):p[g]=y)},d=function(p,g){var y=arguments.length>2?arguments[2]:{},w=s(g);o&&(w=a.call(w,Object.getOwnPropertySymbols(g)));for(var v=0;v<w.length;v+=1)h(p,w[v],g[w[v]],y[w[v]])};d.supportsDescriptors=!!f,e.exports=d},function(e,r,i){var s=i(9);e.exports=function(){return s()&&!!Symbol.toStringTag}},function(e,r,i){var s=SyntaxError,o=Function,l=TypeError,a=function(A){try{return o('"use strict"; return ('+A+").constructor;")()}catch{}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch{c=null}var u=function(){throw new l},f=c?function(){try{return u}catch{try{return c(arguments,"callee").get}catch{return u}}}():u,h=i(21)(),d=Object.getPrototypeOf||function(A){return A.__proto__},p={},g=typeof Uint8Array>"u"?void 0:d(Uint8Array),y={"%AggregateError%":typeof AggregateError>"u"?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":h?d([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":typeof Atomics>"u"?void 0:Atomics,"%BigInt%":typeof BigInt>"u"?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?void 0:Float32Array,"%Float64Array%":typeof Float64Array>"u"?void 0:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?void 0:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":p,"%Int8Array%":typeof Int8Array>"u"?void 0:Int8Array,"%Int16Array%":typeof Int16Array>"u"?void 0:Int16Array,"%Int32Array%":typeof Int32Array>"u"?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h?d(d([][Symbol.iterator]())):void 0,"%JSON%":typeof JSON=="object"?JSON:void 0,"%Map%":typeof Map>"u"?void 0:Map,"%MapIteratorPrototype%":typeof Map<"u"&&h?d(new Map()[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?void 0:Promise,"%Proxy%":typeof Proxy>"u"?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?void 0:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?void 0:Set,"%SetIteratorPrototype%":typeof Set<"u"&&h?d(new Set()[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h?d(""[Symbol.iterator]()):void 0,"%Symbol%":h?Symbol:void 0,"%SyntaxError%":s,"%ThrowTypeError%":f,"%TypedArray%":g,"%TypeError%":l,"%Uint8Array%":typeof Uint8Array>"u"?void 0:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?void 0:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?void 0:WeakMap,"%WeakRef%":typeof WeakRef>"u"?void 0:WeakRef,"%WeakSet%":typeof WeakSet>"u"?void 0:WeakSet},w={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=i(3),N=i(23),x=v.call(Function.call,Array.prototype.concat),S=v.call(Function.apply,Array.prototype.splice),E=v.call(Function.call,String.prototype.replace),C=v.call(Function.call,String.prototype.slice),O=v.call(Function.call,RegExp.prototype.exec),z=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Z=/\\(\\)?/g,m=function(A){var k=C(A,0,1),I=C(A,-1);if(k==="%"&&I!=="%")throw new s("invalid intrinsic syntax, expected closing `%`");if(I==="%"&&k!=="%")throw new s("invalid intrinsic syntax, expected opening `%`");var L=[];return E(A,z,function(_,j,M,R){L[L.length]=M?E(R,Z,"$1"):j||_}),L},T=function(A,k){var I,L=A;if(N(w,L)&&(L="%"+(I=w[L])[0]+"%"),N(y,L)){var _=y[L];if(_===p&&(_=function j(M){var R;if(M==="%AsyncFunction%")R=a("async function () {}");else if(M==="%GeneratorFunction%")R=a("function* () {}");else if(M==="%AsyncGeneratorFunction%")R=a("async function* () {}");else if(M==="%AsyncGenerator%"){var H=j("%AsyncGeneratorFunction%");H&&(R=H.prototype)}else if(M==="%AsyncIteratorPrototype%"){var $=j("%AsyncGenerator%");$&&(R=d($.prototype))}return y[M]=R,R}(L)),_===void 0&&!k)throw new l("intrinsic "+A+" exists, but is not available. Please file an issue!");return{alias:I,name:L,value:_}}throw new s("intrinsic "+A+" does not exist!")};e.exports=function(A,k){if(typeof A!="string"||A.length===0)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof k!="boolean")throw new l('"allowMissing" argument must be a boolean');if(O(/^%?[^%]*%?$/g,A)===null)throw new s("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var I=m(A),L=I.length>0?I[0]:"",_=T("%"+L+"%",k),j=_.name,M=_.value,R=!1,H=_.alias;H&&(L=H[0],S(I,x([0,1],H)));for(var $=1,U=!0;$<I.length;$+=1){var V=I[$],D=C(V,0,1),J=C(V,-1);if((D==='"'||D==="'"||D==="`"||J==='"'||J==="'"||J==="`")&&D!==J)throw new s("property names with quotes must have matching quotes");if(V!=="constructor"&&U||(R=!0),N(y,j="%"+(L+="."+V)+"%"))M=y[j];else if(M!=null){if(!(V in M)){if(!k)throw new l("base intrinsic for "+A+" exists, but the property is not available.");return}if(c&&$+1>=I.length){var X=c(M,V);M=(U=!!X)&&"get"in X&&!("originalValue"in X.get)?X.get:M[V]}else U=N(M,V),M=M[V];U&&!R&&(y[j]=M)}}return M}},function(e,r,i){var s=i(22);e.exports=Function.prototype.bind||s},function(e,r,i){var s=i(3),o=i(2),l=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),c=o("%Reflect.apply%",!0)||s.call(a,l),u=o("%Object.getOwnPropertyDescriptor%",!0),f=o("%Object.defineProperty%",!0),h=o("%Math.max%");if(f)try{f({},"a",{value:1})}catch{f=null}e.exports=function(p){var g=c(s,a,arguments);if(u&&f){var y=u(g,"length");y.configurable&&f(g,"length",{value:1+h(0,p.length-(arguments.length-1))})}return g};var d=function(){return c(s,l,arguments)};f?f(e.exports,"apply",{value:d}):e.exports.apply=d},function(e,r,i){var s=i(18),o=i(6),l=i(15),a=i(32),c="\0",u=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};u.prototype.insert=function(f,h){var d={};return f.length===0?this:(d.insert=f,h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(d.attributes=h),this.push(d))},u.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},u.prototype.retain=function(f,h){if(f<=0)return this;var d={retain:f};return h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(d.attributes=h),this.push(d)},u.prototype.push=function(f){var h=this.ops.length,d=this.ops[h-1];if(f=l(!0,{},f),typeof d=="object"){if(typeof f.delete=="number"&&typeof d.delete=="number")return this.ops[h-1]={delete:d.delete+f.delete},this;if(typeof d.delete=="number"&&f.insert!=null&&(h-=1,typeof(d=this.ops[h-1])!="object"))return this.ops.unshift(f),this;if(o(f.attributes,d.attributes)){if(typeof f.insert=="string"&&typeof d.insert=="string")return this.ops[h-1]={insert:d.insert+f.insert},typeof f.attributes=="object"&&(this.ops[h-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof d.retain=="number")return this.ops[h-1]={retain:d.retain+f.retain},typeof f.attributes=="object"&&(this.ops[h-1].attributes=f.attributes),this}}return h===this.ops.length?this.ops.push(f):this.ops.splice(h,0,f),this},u.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},u.prototype.filter=function(f){return this.ops.filter(f)},u.prototype.forEach=function(f){this.ops.forEach(f)},u.prototype.map=function(f){return this.ops.map(f)},u.prototype.partition=function(f){var h=[],d=[];return this.forEach(function(p){(f(p)?h:d).push(p)}),[h,d]},u.prototype.reduce=function(f,h){return this.ops.reduce(f,h)},u.prototype.changeLength=function(){return this.reduce(function(f,h){return h.insert?f+a.length(h):h.delete?f-h.delete:f},0)},u.prototype.length=function(){return this.reduce(function(f,h){return f+a.length(h)},0)},u.prototype.slice=function(f,h){f=f||0,typeof h!="number"&&(h=1/0);for(var d=[],p=a.iterator(this.ops),g=0;g<h&&p.hasNext();){var y;g<f?y=p.next(f-g):(y=p.next(h-g),d.push(y)),g+=a.length(y)}return new u(d)},u.prototype.compose=function(f){var h=a.iterator(this.ops),d=a.iterator(f.ops),p=[],g=d.peek();if(g!=null&&typeof g.retain=="number"&&g.attributes==null){for(var y=g.retain;h.peekType()==="insert"&&h.peekLength()<=y;)y-=h.peekLength(),p.push(h.next());g.retain-y>0&&d.next(g.retain-y)}for(var w=new u(p);h.hasNext()||d.hasNext();)if(d.peekType()==="insert")w.push(d.next());else if(h.peekType()==="delete")w.push(h.next());else{var v=Math.min(h.peekLength(),d.peekLength()),N=h.next(v),x=d.next(v);if(typeof x.retain=="number"){var S={};typeof N.retain=="number"?S.retain=v:S.insert=N.insert;var E=a.attributes.compose(N.attributes,x.attributes,typeof N.retain=="number");if(E&&(S.attributes=E),w.push(S),!d.hasNext()&&o(w.ops[w.ops.length-1],S)){var C=new u(h.rest());return w.concat(C).chop()}}else typeof x.delete=="number"&&typeof N.retain=="number"&&w.push(x)}return w.chop()},u.prototype.concat=function(f){var h=new u(this.ops.slice());return f.ops.length>0&&(h.push(f.ops[0]),h.ops=h.ops.concat(f.ops.slice(1))),h},u.prototype.diff=function(f,h){if(this.ops===f.ops)return new u;var d=[this,f].map(function(v){return v.map(function(N){if(N.insert!=null)return typeof N.insert=="string"?N.insert:c;throw new Error("diff() called "+(v===f?"on":"with")+" non-document")}).join("")}),p=new u,g=s(d[0],d[1],h),y=a.iterator(this.ops),w=a.iterator(f.ops);return g.forEach(function(v){for(var N=v[1].length;N>0;){var x=0;switch(v[0]){case s.INSERT:x=Math.min(w.peekLength(),N),p.push(w.next(x));break;case s.DELETE:x=Math.min(N,y.peekLength()),y.next(x),p.delete(x);break;case s.EQUAL:x=Math.min(y.peekLength(),w.peekLength(),N);var S=y.next(x),E=w.next(x);o(S.insert,E.insert)?p.retain(x,a.attributes.diff(S.attributes,E.attributes)):p.push(E).delete(x)}N-=x}}),p.chop()},u.prototype.eachLine=function(f,h){h=h||`
`;for(var d=a.iterator(this.ops),p=new u,g=0;d.hasNext();){if(d.peekType()!=="insert")return;var y=d.peek(),w=a.length(y)-d.peekLength(),v=typeof y.insert=="string"?y.insert.indexOf(h,w)-w:-1;if(v<0)p.push(d.next());else if(v>0)p.push(d.next(v));else{if(f(p,d.next(1).attributes||{},g)===!1)return;g+=1,p=new u}}p.length()>0&&f(p,{},g)},u.prototype.transform=function(f,h){if(h=!!h,typeof f=="number")return this.transformPosition(f,h);for(var d=a.iterator(this.ops),p=a.iterator(f.ops),g=new u;d.hasNext()||p.hasNext();)if(d.peekType()!=="insert"||!h&&p.peekType()==="insert")if(p.peekType()==="insert")g.push(p.next());else{var y=Math.min(d.peekLength(),p.peekLength()),w=d.next(y),v=p.next(y);if(w.delete)continue;v.delete?g.push(v):g.retain(y,a.attributes.transform(w.attributes,v.attributes,h))}else g.retain(a.length(d.next()));return g.chop()},u.prototype.transformPosition=function(f,h){h=!!h;for(var d=a.iterator(this.ops),p=0;d.hasNext()&&p<=f;){var g=d.peekLength(),y=d.peekType();d.next(),y!=="delete"?(y==="insert"&&(p<f||!h)&&(f+=g),p+=g):f-=Math.min(g,f-p)}return f},e.exports=u},function(e,r,i){var s=i(7),o=i(20),l=i(24),a=i(27),c=i(28),u=i(31),f=Date.prototype.getTime;function h(g,y,w){var v=w||{};return!!(v.strict?l(g,y):g===y)||(!g||!y||typeof g!="object"&&typeof y!="object"?v.strict?l(g,y):g==y:function(N,x,S){var E,C;if(typeof N!=typeof x||d(N)||d(x)||N.prototype!==x.prototype||o(N)!==o(x))return!1;var O=a(N),z=a(x);if(O!==z)return!1;if(O||z)return N.source===x.source&&c(N)===c(x);if(u(N)&&u(x))return f.call(N)===f.call(x);var Z=p(N),m=p(x);if(Z!==m)return!1;if(Z||m){if(N.length!==x.length)return!1;for(E=0;E<N.length;E++)if(N[E]!==x[E])return!1;return!0}if(typeof N!=typeof x)return!1;try{var T=s(N),A=s(x)}catch{return!1}if(T.length!==A.length)return!1;for(T.sort(),A.sort(),E=T.length-1;E>=0;E--)if(T[E]!=A[E])return!1;for(E=T.length-1;E>=0;E--)if(C=T[E],!h(N[C],x[C],S))return!1;return!0}(g,y,v))}function d(g){return g==null}function p(g){return!(!g||typeof g!="object"||typeof g.length!="number")&&typeof g.copy=="function"&&typeof g.slice=="function"&&!(g.length>0&&typeof g[0]!="number")}e.exports=h},function(e,r,i){var s=Array.prototype.slice,o=i(8),l=Object.keys,a=l?function(u){return l(u)}:i(19),c=Object.keys;a.shim=function(){return Object.keys?function(){var u=Object.keys(arguments);return u&&u.length===arguments.length}(1,2)||(Object.keys=function(u){return o(u)?c(s.call(u)):c(u)}):Object.keys=a,Object.keys||a},e.exports=a},function(e,r,i){var s=Object.prototype.toString;e.exports=function(o){var l=s.call(o),a=l==="[object Arguments]";return a||(a=l!=="[object Array]"&&o!==null&&typeof o=="object"&&typeof o.length=="number"&&o.length>=0&&s.call(o.callee)==="[object Function]"),a}},function(e,r,i){e.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var s={},o=Symbol("test"),l=Object(o);if(typeof o=="string"||Object.prototype.toString.call(o)!=="[object Symbol]"||Object.prototype.toString.call(l)!=="[object Symbol]")return!1;for(o in s[o]=42,s)return!1;if(typeof Object.keys=="function"&&Object.keys(s).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(s).length!==0)return!1;var a=Object.getOwnPropertySymbols(s);if(a.length!==1||a[0]!==o||!Object.prototype.propertyIsEnumerable.call(s,o))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(s,o);if(c.value!==42||c.enumerable!==!0)return!1}return!0}},function(e,r,i){var s=i(2),o=i(4),l=o(s("String.prototype.indexOf"));e.exports=function(a,c){var u=s(a,!!c);return typeof u=="function"&&l(a,".prototype.")>-1?o(u):u}},function(e,r,i){var s=function(o){return o!=o};e.exports=function(o,l){return o===0&&l===0?1/o==1/l:o===l||!(!s(o)||!s(l))}},function(e,r,i){var s=i(11);e.exports=function(){return typeof Object.is=="function"?Object.is:s}},function(e,r,i){var s=i(29).functionsHaveConfigurableNames(),o=Object,l=TypeError;e.exports=function(){if(this!=null&&this!==o(this))throw new l("RegExp.prototype.flags getter called on non-object");var a="";return this.hasIndices&&(a+="d"),this.global&&(a+="g"),this.ignoreCase&&(a+="i"),this.multiline&&(a+="m"),this.dotAll&&(a+="s"),this.unicode&&(a+="u"),this.sticky&&(a+="y"),a},s&&Object.defineProperty&&Object.defineProperty(e.exports,"name",{value:"get flags"})},function(e,r,i){var s=i(13),o=i(0).supportsDescriptors,l=Object.getOwnPropertyDescriptor;e.exports=function(){if(o&&/a/gim.flags==="gim"){var a=l(RegExp.prototype,"flags");if(a&&typeof a.get=="function"&&typeof RegExp.prototype.dotAll=="boolean"&&typeof RegExp.prototype.hasIndices=="boolean"){var c="",u={};if(Object.defineProperty(u,"hasIndices",{get:function(){c+="d"}}),Object.defineProperty(u,"sticky",{get:function(){c+="y"}}),c==="dy")return a.get}}return s}},function(e,r,i){var s=Object.prototype.hasOwnProperty,o=Object.prototype.toString,l=Object.defineProperty,a=Object.getOwnPropertyDescriptor,c=function(d){return typeof Array.isArray=="function"?Array.isArray(d):o.call(d)==="[object Array]"},u=function(d){if(!d||o.call(d)!=="[object Object]")return!1;var p,g=s.call(d,"constructor"),y=d.constructor&&d.constructor.prototype&&s.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!g&&!y)return!1;for(p in d);return p===void 0||s.call(d,p)},f=function(d,p){l&&p.name==="__proto__"?l(d,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):d[p.name]=p.newValue},h=function(d,p){if(p==="__proto__"){if(!s.call(d,p))return;if(a)return a(d,p).value}return d[p]};e.exports=function d(){var p,g,y,w,v,N,x=arguments[0],S=1,E=arguments.length,C=!1;for(typeof x=="boolean"&&(C=x,x=arguments[1]||{},S=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});S<E;++S)if((p=arguments[S])!=null)for(g in p)y=h(x,g),x!==(w=h(p,g))&&(C&&w&&(u(w)||(v=c(w)))?(v?(v=!1,N=y&&c(y)?y:[]):N=y&&u(y)?y:{},f(x,{name:g,newValue:d(C,N,w)})):w!==void 0&&f(x,{name:g,newValue:w}));return x}},function(e,r,i){const s=typeof URL>"u"?i(33).URL:URL,o=(a,c)=>c.some(u=>u instanceof RegExp?u.test(a):u===a),l=(a,c)=>{if(c={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...c},Reflect.has(c,"normalizeHttps"))throw new Error("options.normalizeHttps is renamed to options.forceHttp");if(Reflect.has(c,"normalizeHttp"))throw new Error("options.normalizeHttp is renamed to options.forceHttps");if(Reflect.has(c,"stripFragment"))throw new Error("options.stripFragment is renamed to options.stripHash");if(a=a.trim(),/^data:/i.test(a))return((h,{stripHash:d})=>{const p=h.match(/^data:([^,]*?),([^#]*?)(?:#(.*))?$/);if(!p)throw new Error("Invalid URL: "+h);const g=p[1].split(";"),y=p[2],w=d?"":p[3];let v=!1;g[g.length-1]==="base64"&&(g.pop(),v=!0);const N=(g.shift()||"").toLowerCase(),x=[...g.map(S=>{let[E,C=""]=S.split("=").map(O=>O.trim());return E==="charset"&&(C=C.toLowerCase(),C==="us-ascii")?"":`${E}${C?"="+C:""}`}).filter(Boolean)];return v&&x.push("base64"),(x.length!==0||N&&N!=="text/plain")&&x.unshift(N),`data:${x.join(";")},${v?y.trim():y}${w?"#"+w:""}`})(a,c);const u=a.startsWith("//");!u&&/^\.*\//.test(a)||(a=a.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,c.defaultProtocol));const f=new s(a);if(c.forceHttp&&c.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(c.forceHttp&&f.protocol==="https:"&&(f.protocol="http:"),c.forceHttps&&f.protocol==="http:"&&(f.protocol="https:"),c.stripAuthentication&&(f.username="",f.password=""),c.stripHash&&(f.hash=""),f.pathname&&(f.pathname=f.pathname.replace(/((?!:).|^)\/{2,}/g,(h,d)=>/^(?!\/)/g.test(d)?d+"/":"/")),f.pathname&&(f.pathname=decodeURI(f.pathname)),c.removeDirectoryIndex===!0&&(c.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(c.removeDirectoryIndex)&&c.removeDirectoryIndex.length>0){let h=f.pathname.split("/");const d=h[h.length-1];o(d,c.removeDirectoryIndex)&&(h=h.slice(0,h.length-1),f.pathname=h.slice(1).join("/")+"/")}if(f.hostname&&(f.hostname=f.hostname.replace(/\.$/,""),c.stripWWW&&/^www\.([a-z\-\d]{2,63})\.([a-z.]{2,5})$/.test(f.hostname)&&(f.hostname=f.hostname.replace(/^www\./,""))),Array.isArray(c.removeQueryParameters))for(const h of[...f.searchParams.keys()])o(h,c.removeQueryParameters)&&f.searchParams.delete(h);return c.sortQueryParameters&&f.searchParams.sort(),c.removeTrailingSlash&&(f.pathname=f.pathname.replace(/\/$/,"")),a=f.toString(),!c.removeTrailingSlash&&f.pathname!=="/"||f.hash!==""||(a=a.replace(/\/$/,"")),u&&!c.normalizeProtocol&&(a=a.replace(/^http:\/\//,"//")),c.stripProtocol&&(a=a.replace(/^(?:https?:)?\/\//,"")),a};e.exports=l,e.exports.default=l},function(e,r,i){i.r(r),i.d(r,"default",function(){return y});var s=i(5),o=i.n(s),l=i(16),a=i.n(l);function c(w,v){return function(N){if(Array.isArray(N))return N}(w)||function(N,x){var S=N==null?null:typeof Symbol<"u"&&N[Symbol.iterator]||N["@@iterator"];if(S!=null){var E,C,O=[],z=!0,Z=!1;try{for(S=S.call(N);!(z=(E=S.next()).done)&&(O.push(E.value),!x||O.length!==x);z=!0);}catch(m){Z=!0,C=m}finally{try{z||S.return==null||S.return()}finally{if(Z)throw C}}return O}}(w,v)||function(N,x){if(N){if(typeof N=="string")return u(N,x);var S=Object.prototype.toString.call(N).slice(8,-1);if(S==="Object"&&N.constructor&&(S=N.constructor.name),S==="Map"||S==="Set")return Array.from(N);if(S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return u(N,x)}}(w,v)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function u(w,v){(v==null||v>w.length)&&(v=w.length);for(var N=0,x=new Array(v);N<v;N++)x[N]=w[N];return x}function f(w,v){var N=Object.keys(w);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(w);v&&(x=x.filter(function(S){return Object.getOwnPropertyDescriptor(w,S).enumerable})),N.push.apply(N,x)}return N}function h(w){for(var v=1;v<arguments.length;v++){var N=arguments[v]!=null?arguments[v]:{};v%2?f(Object(N),!0).forEach(function(x){d(w,x,N[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(N)):f(Object(N)).forEach(function(x){Object.defineProperty(w,x,Object.getOwnPropertyDescriptor(N,x))})}return w}function d(w,v,N){return v in w?Object.defineProperty(w,v,{value:N,enumerable:!0,configurable:!0,writable:!0}):w[v]=N,w}function p(w,v){for(var N=0;N<v.length;N++){var x=v[N];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(w,x.key,x)}}var g={globalRegularExpression:/(https?:\/\/|www\.)[\w-\.]+\.[\w-\.]+(\/([\S]+)?)?/gi,urlRegularExpression:/(https?:\/\/|www\.)[\w-\.]+\.[\w-\.]+(\/([\S]+)?)?/gi,globalMailRegularExpression:/([\w-\.]+@[\w-\.]+\.[\w-\.]+)/gi,mailRegularExpression:/([\w-\.]+@[\w-\.]+\.[\w-\.]+)/gi,normalizeRegularExpression:/(https?:\/\/|www\.)[\S]+/i,normalizeUrlOptions:{stripWWW:!1}},y=function(){function w(x,S){var E=this;(function(C,O){if(!(C instanceof O))throw new TypeError("Cannot call a class as a function")})(this,w),this.quill=x,S=S||{},this.options=h(h({},g),S),this.urlNormalizer=function(C){return E.normalize(C)},this.mailNormalizer=function(C){return"mailto:".concat(C)},this.registerTypeListener(),this.registerPasteListener(),this.registerBlurListener()}var v,N;return v=w,(N=[{key:"registerPasteListener",value:function(){var x=this;this.quill.clipboard.addMatcher("A",function(S,E){var C,O=S.getAttribute("href"),z=(C=E.ops[0])===null||C===void 0?void 0:C.attributes;return(z==null?void 0:z.link)!=null&&(z.link=O),E}),this.quill.clipboard.addMatcher(Node.TEXT_NODE,function(S,E){if(typeof S.data=="string"){var C=x.options.globalRegularExpression,O=x.options.globalMailRegularExpression;C.lastIndex=0,O.lastIndex=0;for(var z=new o.a,Z=0,m=C.exec(S.data),T=O.exec(S.data),A=function(I,L,_){var j=S.data.substring(Z,I.index);z.insert(j);var M=I[0];return z.insert(M,{link:_(M)}),Z=L.lastIndex,L.exec(S.data)};m!==null||T!==null;)if(m===null)T=A(T,O,x.mailNormalizer);else if(T===null)m=A(m,C,x.urlNormalizer);else if(T.index<=m.index){for(;m!==null&&m.index<O.lastIndex;)m=C.exec(S.data);T=A(T,O,x.mailNormalizer)}else{for(;T!==null&&T.index<C.lastIndex;)T=O.exec(S.data);m=A(m,C,x.urlNormalizer)}if(Z>0){var k=S.data.substring(Z);z.insert(k),E.ops=z.ops}return E}})}},{key:"registerTypeListener",value:function(){var x=this;this.quill.on("text-change",function(S){var E=S.ops;if(!(!E||E.length<1||E.length>2)){var C=E[E.length-1];C.insert&&typeof C.insert=="string"&&C.insert.match(/\s/)&&x.checkTextForUrl(!!C.insert.match(/ |\t/))}})}},{key:"registerBlurListener",value:function(){var x=this;this.quill.root.addEventListener("blur",function(){x.checkTextForUrl()})}},{key:"checkTextForUrl",value:function(){var x=arguments.length>0&&arguments[0]!==void 0&&arguments[0],S=this.quill.getSelection();if(S){var E=this.quill.getLeaf(S.index),C=c(E,1),O=C[0],z=this.quill.getIndex(O);if(O.text){var Z=S.index-z,m=O.text.slice(0,Z);if(m&&O.parent.domNode.localName!=="a"){var T=O.text[Z];if(T==null||!T.match(/\S/)){var A=x?/\s\s$/:/\s$/;if(!m.match(A)){var k=m.match(this.options.urlRegularExpression),I=m.match(this.options.mailRegularExpression);k?this.handleMatches(z,m,k,this.urlNormalizer):I&&this.handleMatches(z,m,I,this.mailNormalizer)}}}}}}},{key:"handleMatches",value:function(x,S,E,C){var O=E.pop(),z=S.lastIndexOf(O);S.split(O).pop().match(/\S/)||this.updateText(x+z,O.trim(),C)}},{key:"updateText",value:function(x,S,E){var C=new o.a().retain(x).retain(S.length,{link:E(S)});this.quill.updateContents(C)}},{key:"normalize",value:function(x){if(this.options.normalizeRegularExpression.test(x))try{return a()(x,this.options.normalizeUrlOptions)}catch(S){console.error(S)}return x}}])&&p(v.prototype,N),Object.defineProperty(v,"prototype",{writable:!1}),w}();window!=null&&window.Quill&&window.Quill.register("modules/magicUrl",y)},function(e,r){function i(u,f,h){if(u==f)return u?[[0,u]]:[];(h<0||u.length<h)&&(h=null);var d=o(u,f),p=u.substring(0,d);d=l(u=u.substring(d),f=f.substring(d));var g=u.substring(u.length-d),y=function(w,v){var N;if(!w)return[[1,v]];if(!v)return[[-1,w]];var x=w.length>v.length?w:v,S=w.length>v.length?v:w,E=x.indexOf(S);if(E!=-1)return N=[[1,x.substring(0,E)],[0,S],[1,x.substring(E+S.length)]],w.length>v.length&&(N[0][0]=N[2][0]=-1),N;if(S.length==1)return[[-1,w],[1,v]];var C=function(I,L){var _=I.length>L.length?I:L,j=I.length>L.length?L:I;if(_.length<4||2*j.length<_.length)return null;function M(rt,et,tt){for(var Q,nt,it,st,ot=rt.substring(tt,tt+Math.floor(rt.length/4)),lt=-1,ut="";(lt=et.indexOf(ot,lt+1))!=-1;){var vt=o(rt.substring(tt),et.substring(lt)),ht=l(rt.substring(0,tt),et.substring(0,lt));ut.length<ht+vt&&(ut=et.substring(lt-ht,lt)+et.substring(lt,lt+vt),Q=rt.substring(0,tt-ht),nt=rt.substring(tt+vt),it=et.substring(0,lt-ht),st=et.substring(lt+vt))}return 2*ut.length>=rt.length?[Q,nt,it,st,ut]:null}var R,H,$,U,V,D=M(_,j,Math.ceil(_.length/4)),J=M(_,j,Math.ceil(_.length/2));if(!D&&!J)return null;R=J?D&&D[4].length>J[4].length?D:J:D,I.length>L.length?(H=R[0],$=R[1],U=R[2],V=R[3]):(U=R[0],V=R[1],H=R[2],$=R[3]);var X=R[4];return[H,$,U,V,X]}(w,v);if(C){var O=C[0],z=C[1],Z=C[2],m=C[3],T=C[4],A=i(O,Z),k=i(z,m);return A.concat([[0,T]],k)}return function(I,L){for(var _=I.length,j=L.length,M=Math.ceil((_+j)/2),R=M,H=2*M,$=new Array(H),U=new Array(H),V=0;V<H;V++)$[V]=-1,U[V]=-1;$[R+1]=0,U[R+1]=0;for(var D=_-j,J=D%2!=0,X=0,rt=0,et=0,tt=0,Q=0;Q<M;Q++){for(var nt=-Q+X;nt<=Q-rt;nt+=2){for(var it=R+nt,st=(ht=nt==-Q||nt!=Q&&$[it-1]<$[it+1]?$[it+1]:$[it-1]+1)-nt;ht<_&&st<j&&I.charAt(ht)==L.charAt(st);)ht++,st++;if($[it]=ht,ht>_)rt+=2;else if(st>j)X+=2;else if(J&&(ut=R+D-nt)>=0&&ut<H&&U[ut]!=-1){var ot=_-U[ut];if(ht>=ot)return s(I,L,ht,st)}}for(var lt=-Q+et;lt<=Q-tt;lt+=2){for(var ut=R+lt,vt=(ot=lt==-Q||lt!=Q&&U[ut-1]<U[ut+1]?U[ut+1]:U[ut-1]+1)-lt;ot<_&&vt<j&&I.charAt(_-ot-1)==L.charAt(j-vt-1);)ot++,vt++;if(U[ut]=ot,ot>_)tt+=2;else if(vt>j)et+=2;else if(!J&&(it=R+D-lt)>=0&&it<H&&$[it]!=-1){var ht=$[it];if(st=R+ht-it,ht>=(ot=_-ot))return s(I,L,ht,st)}}}return[[-1,I],[1,L]]}(w,v)}(u=u.substring(0,u.length-d),f=f.substring(0,f.length-d));return p&&y.unshift([0,p]),g&&y.push([0,g]),function w(v){v.push([0,""]);for(var N,x=0,S=0,E=0,C="",O="";x<v.length;)switch(v[x][0]){case 1:E++,O+=v[x][1],x++;break;case-1:S++,C+=v[x][1],x++;break;case 0:S+E>1?(S!==0&&E!==0&&((N=o(O,C))!==0&&(x-S-E>0&&v[x-S-E-1][0]==0?v[x-S-E-1][1]+=O.substring(0,N):(v.splice(0,0,[0,O.substring(0,N)]),x++),O=O.substring(N),C=C.substring(N)),(N=l(O,C))!==0&&(v[x][1]=O.substring(O.length-N)+v[x][1],O=O.substring(0,O.length-N),C=C.substring(0,C.length-N))),S===0?v.splice(x-E,S+E,[1,O]):E===0?v.splice(x-S,S+E,[-1,C]):v.splice(x-S-E,S+E,[-1,C],[1,O]),x=x-S-E+(S?1:0)+(E?1:0)+1):x!==0&&v[x-1][0]==0?(v[x-1][1]+=v[x][1],v.splice(x,1)):x++,E=0,S=0,C="",O=""}v[v.length-1][1]===""&&v.pop();var z=!1;for(x=1;x<v.length-1;)v[x-1][0]==0&&v[x+1][0]==0&&(v[x][1].substring(v[x][1].length-v[x-1][1].length)==v[x-1][1]?(v[x][1]=v[x-1][1]+v[x][1].substring(0,v[x][1].length-v[x-1][1].length),v[x+1][1]=v[x-1][1]+v[x+1][1],v.splice(x-1,1),z=!0):v[x][1].substring(0,v[x+1][1].length)==v[x+1][1]&&(v[x-1][1]+=v[x+1][1],v[x][1]=v[x][1].substring(v[x+1][1].length)+v[x+1][1],v.splice(x+1,1),z=!0)),x++;z&&w(v)}(y),h!=null&&(y=function(w,v){var N=function(z,Z){if(Z===0)return[0,z];for(var m=0,T=0;T<z.length;T++){var A=z[T];if(A[0]===-1||A[0]===0){var k=m+A[1].length;if(Z===k)return[T+1,z];if(Z<k){z=z.slice();var I=Z-m,L=[A[0],A[1].slice(0,I)],_=[A[0],A[1].slice(I)];return z.splice(T,1,L,_),[T+1,z]}m=k}}throw new Error("cursor_pos is out of bounds!")}(w,v),x=N[1],S=N[0],E=x[S],C=x[S+1];if(E==null||E[0]!==0)return w;if(C!=null&&E[1]+C[1]===C[1]+E[1])return x.splice(S,2,C,E),c(x,S,2);if(C!=null&&C[1].indexOf(E[1])===0){x.splice(S,2,[C[0],E[1]],[0,E[1]]);var O=C[1].slice(E[1].length);return O.length>0&&x.splice(S+2,0,[C[0],O]),c(x,S,3)}return w}(y,h)),y=function(w){for(var v=!1,N=function(C){return C.charCodeAt(0)>=56320&&C.charCodeAt(0)<=57343},x=2;x<w.length;x+=1)w[x-2][0]===0&&(S=w[x-2][1]).charCodeAt(S.length-1)>=55296&&S.charCodeAt(S.length-1)<=56319&&w[x-1][0]===-1&&N(w[x-1][1])&&w[x][0]===1&&N(w[x][1])&&(v=!0,w[x-1][1]=w[x-2][1].slice(-1)+w[x-1][1],w[x][1]=w[x-2][1].slice(-1)+w[x][1],w[x-2][1]=w[x-2][1].slice(0,-1));var S;if(!v)return w;var E=[];for(x=0;x<w.length;x+=1)w[x][1].length>0&&E.push(w[x]);return E}(y)}function s(u,f,h,d){var p=u.substring(0,h),g=f.substring(0,d),y=u.substring(h),w=f.substring(d),v=i(p,g),N=i(y,w);return v.concat(N)}function o(u,f){if(!u||!f||u.charAt(0)!=f.charAt(0))return 0;for(var h=0,d=Math.min(u.length,f.length),p=d,g=0;h<p;)u.substring(g,p)==f.substring(g,p)?g=h=p:d=p,p=Math.floor((d-h)/2+h);return p}function l(u,f){if(!u||!f||u.charAt(u.length-1)!=f.charAt(f.length-1))return 0;for(var h=0,d=Math.min(u.length,f.length),p=d,g=0;h<p;)u.substring(u.length-p,u.length-g)==f.substring(f.length-p,f.length-g)?g=h=p:d=p,p=Math.floor((d-h)/2+h);return p}var a=i;function c(u,f,h){for(var d=f+h-1;d>=0&&d>=f-1;d--)if(d+1<u.length){var p=u[d],g=u[d+1];p[0]===g[1]&&u.splice(d,2,[p[0],p[1]+g[1]])}return u}a.INSERT=1,a.DELETE=-1,a.EQUAL=0,e.exports=a},function(e,r,i){var s;if(!Object.keys){var o=Object.prototype.hasOwnProperty,l=Object.prototype.toString,a=i(8),c=Object.prototype.propertyIsEnumerable,u=!c.call({toString:null},"toString"),f=c.call(function(){},"prototype"),h=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(y){var w=y.constructor;return w&&w.prototype===y},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},g=function(){if(typeof window>"u")return!1;for(var y in window)try{if(!p["$"+y]&&o.call(window,y)&&window[y]!==null&&typeof window[y]=="object")try{d(window[y])}catch{return!0}}catch{return!0}return!1}();s=function(y){var w=y!==null&&typeof y=="object",v=l.call(y)==="[object Function]",N=a(y),x=w&&l.call(y)==="[object String]",S=[];if(!w&&!v&&!N)throw new TypeError("Object.keys called on a non-object");var E=f&&v;if(x&&y.length>0&&!o.call(y,0))for(var C=0;C<y.length;++C)S.push(String(C));if(N&&y.length>0)for(var O=0;O<y.length;++O)S.push(String(O));else for(var z in y)E&&z==="prototype"||!o.call(y,z)||S.push(String(z));if(u)for(var Z=function(T){if(typeof window>"u"||!g)return d(T);try{return d(T)}catch{return!1}}(y),m=0;m<h.length;++m)Z&&h[m]==="constructor"||!o.call(y,h[m])||S.push(h[m]);return S}}e.exports=s},function(e,r,i){var s=i(1)(),o=i(10)("Object.prototype.toString"),l=function(u){return!(s&&u&&typeof u=="object"&&Symbol.toStringTag in u)&&o(u)==="[object Arguments]"},a=function(u){return!!l(u)||u!==null&&typeof u=="object"&&typeof u.length=="number"&&u.length>=0&&o(u)!=="[object Array]"&&o(u.callee)==="[object Function]"},c=function(){return l(arguments)}();l.isLegacyArguments=a,e.exports=c?l:a},function(e,r,i){var s=typeof Symbol<"u"&&Symbol,o=i(9);e.exports=function(){return typeof s=="function"&&typeof Symbol=="function"&&typeof s("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&o()}},function(e,r,i){var s="Function.prototype.bind called on incompatible ",o=Array.prototype.slice,l=Object.prototype.toString;e.exports=function(a){var c=this;if(typeof c!="function"||l.call(c)!=="[object Function]")throw new TypeError(s+c);for(var u,f=o.call(arguments,1),h=function(){if(this instanceof u){var w=c.apply(this,f.concat(o.call(arguments)));return Object(w)===w?w:this}return c.apply(a,f.concat(o.call(arguments)))},d=Math.max(0,c.length-f.length),p=[],g=0;g<d;g++)p.push("$"+g);if(u=Function("binder","return function ("+p.join(",")+"){ return binder.apply(this,arguments); }")(h),c.prototype){var y=function(){};y.prototype=c.prototype,u.prototype=new y,y.prototype=null}return u}},function(e,r,i){var s=i(3);e.exports=s.call(Function.call,Object.prototype.hasOwnProperty)},function(e,r,i){var s=i(0),o=i(4),l=i(11),a=i(12),c=i(26),u=o(a(),Object);s(u,{getPolyfill:a,implementation:l,shim:c}),e.exports=u},function(e,r,i){var s=i(2)("%Object.defineProperty%",!0),o=function(){if(s)try{return s({},"a",{value:1}),!0}catch{return!1}return!1};o.hasArrayLengthDefineBug=function(){if(!o())return null;try{return s([],"length",{value:1}).length!==1}catch{return!0}},e.exports=o},function(e,r,i){var s=i(12),o=i(0);e.exports=function(){var l=s();return o(Object,{is:l},{is:function(){return Object.is!==l}}),l}},function(e,r,i){var s,o,l,a,c=i(10),u=i(1)();if(u){s=c("Object.prototype.hasOwnProperty"),o=c("RegExp.prototype.exec"),l={};var f=function(){throw l};a={toString:f,valueOf:f},typeof Symbol.toPrimitive=="symbol"&&(a[Symbol.toPrimitive]=f)}var h=c("Object.prototype.toString"),d=Object.getOwnPropertyDescriptor;e.exports=u?function(p){if(!p||typeof p!="object")return!1;var g=d(p,"lastIndex");if(!(g&&s(g,"value")))return!1;try{o(p,a)}catch(y){return y===l}}:function(p){return!(!p||typeof p!="object"&&typeof p!="function")&&h(p)==="[object RegExp]"}},function(e,r,i){var s=i(0),o=i(4),l=i(13),a=i(14),c=i(30),u=o(a());s(u,{getPolyfill:a,implementation:l,shim:c}),e.exports=u},function(e,r,i){var s=function(){return typeof(function(){}).name=="string"},o=Object.getOwnPropertyDescriptor;if(o)try{o([],"length")}catch{o=null}s.functionsHaveConfigurableNames=function(){if(!s()||!o)return!1;var a=o(function(){},"name");return!!a&&!!a.configurable};var l=Function.prototype.bind;s.boundFunctionsHaveNames=function(){return s()&&typeof l=="function"&&(function(){}).bind().name!==""},e.exports=s},function(e,r,i){var s=i(0).supportsDescriptors,o=i(14),l=Object.getOwnPropertyDescriptor,a=Object.defineProperty,c=TypeError,u=Object.getPrototypeOf,f=/a/;e.exports=function(){if(!s||!u)throw new c("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var h=o(),d=u(f),p=l(d,"flags");return p&&p.get===h||a(d,"flags",{configurable:!0,enumerable:!1,get:h}),h}},function(e,r,i){var s=Date.prototype.getDay,o=Object.prototype.toString,l=i(1)();e.exports=function(a){return typeof a=="object"&&a!==null&&(l?function(c){try{return s.call(c),!0}catch{return!1}}(a):o.call(a)==="[object Date]")}},function(e,r,i){var s=i(6),o=i(15),l={attributes:{compose:function(c,u,f){typeof c!="object"&&(c={}),typeof u!="object"&&(u={});var h=o(!0,{},u);for(var d in f||(h=Object.keys(h).reduce(function(p,g){return h[g]!=null&&(p[g]=h[g]),p},{})),c)c[d]!==void 0&&u[d]===void 0&&(h[d]=c[d]);return Object.keys(h).length>0?h:void 0},diff:function(c,u){typeof c!="object"&&(c={}),typeof u!="object"&&(u={});var f=Object.keys(c).concat(Object.keys(u)).reduce(function(h,d){return s(c[d],u[d])||(h[d]=u[d]===void 0?null:u[d]),h},{});return Object.keys(f).length>0?f:void 0},transform:function(c,u,f){if(typeof c!="object")return u;if(typeof u=="object"){if(!f)return u;var h=Object.keys(u).reduce(function(d,p){return c[p]===void 0&&(d[p]=u[p]),d},{});return Object.keys(h).length>0?h:void 0}}},iterator:function(c){return new a(c)},length:function(c){return typeof c.delete=="number"?c.delete:typeof c.retain=="number"?c.retain:typeof c.insert=="string"?c.insert.length:1}};function a(c){this.ops=c,this.index=0,this.offset=0}a.prototype.hasNext=function(){return this.peekLength()<1/0},a.prototype.next=function(c){c||(c=1/0);var u=this.ops[this.index];if(u){var f=this.offset,h=l.length(u);if(c>=h-f?(c=h-f,this.index+=1,this.offset=0):this.offset+=c,typeof u.delete=="number")return{delete:c};var d={};return u.attributes&&(d.attributes=u.attributes),typeof u.retain=="number"?d.retain=c:typeof u.insert=="string"?d.insert=u.insert.substr(f,c):d.insert=u.insert,d}return{retain:1/0}},a.prototype.peek=function(){return this.ops[this.index]},a.prototype.peekLength=function(){return this.ops[this.index]?l.length(this.ops[this.index])-this.offset:1/0},a.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},a.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var c=this.offset,u=this.index,f=this.next(),h=this.ops.slice(this.index);return this.offset=c,this.index=u,[f].concat(h)}return[]},e.exports=l},function(e,r,i){var s=i(34),o=i(37);function l(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}r.parse=S,r.resolve=function(E,C){return S(E,!1,!0).resolve(C)},r.resolveObject=function(E,C){return E?S(E,!1,!0).resolveObject(C):C},r.format=function(E){return o.isString(E)&&(E=S(E)),E instanceof l?E.format():l.prototype.format.call(E)},r.Url=l;var a=/^([a-z0-9.+-]+:)/i,c=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,f=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),h=["'"].concat(f),d=["%","/","?",";","#"].concat(h),p=["/","?","#"],g=/^[+a-z0-9A-Z_-]{0,63}$/,y=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,w={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},N={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},x=i(38);function S(E,C,O){if(E&&o.isObject(E)&&E instanceof l)return E;var z=new l;return z.parse(E,C,O),z}l.prototype.parse=function(E,C,O){if(!o.isString(E))throw new TypeError("Parameter 'url' must be a string, not "+typeof E);var z=E.indexOf("?"),Z=z!==-1&&z<E.indexOf("#")?"?":"#",m=E.split(Z);m[0]=m[0].replace(/\\/g,"/");var T=E=m.join(Z);if(T=T.trim(),!O&&E.split("#").length===1){var A=u.exec(T);if(A)return this.path=T,this.href=T,this.pathname=A[1],A[2]?(this.search=A[2],this.query=C?x.parse(this.search.substr(1)):this.search.substr(1)):C&&(this.search="",this.query={}),this}var k=a.exec(T);if(k){var I=(k=k[0]).toLowerCase();this.protocol=I,T=T.substr(k.length)}if(O||k||T.match(/^\/\/[^@\/]+@[^@\/]+/)){var L=T.substr(0,2)==="//";!L||k&&v[k]||(T=T.substr(2),this.slashes=!0)}if(!v[k]&&(L||k&&!N[k])){for(var _,j,M=-1,R=0;R<p.length;R++)(H=T.indexOf(p[R]))!==-1&&(M===-1||H<M)&&(M=H);for((j=M===-1?T.lastIndexOf("@"):T.lastIndexOf("@",M))!==-1&&(_=T.slice(0,j),T=T.slice(j+1),this.auth=decodeURIComponent(_)),M=-1,R=0;R<d.length;R++){var H;(H=T.indexOf(d[R]))!==-1&&(M===-1||H<M)&&(M=H)}M===-1&&(M=T.length),this.host=T.slice(0,M),T=T.slice(M),this.parseHost(),this.hostname=this.hostname||"";var $=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!$)for(var U=this.hostname.split(/\./),V=(R=0,U.length);R<V;R++){var D=U[R];if(D&&!D.match(g)){for(var J="",X=0,rt=D.length;X<rt;X++)D.charCodeAt(X)>127?J+="x":J+=D[X];if(!J.match(g)){var et=U.slice(0,R),tt=U.slice(R+1),Q=D.match(y);Q&&(et.push(Q[1]),tt.unshift(Q[2])),tt.length&&(T="/"+tt.join(".")+T),this.hostname=et.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),$||(this.hostname=s.toASCII(this.hostname));var nt=this.port?":"+this.port:"",it=this.hostname||"";this.host=it+nt,this.href+=this.host,$&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),T[0]!=="/"&&(T="/"+T))}if(!w[I])for(R=0,V=h.length;R<V;R++){var st=h[R];if(T.indexOf(st)!==-1){var ot=encodeURIComponent(st);ot===st&&(ot=escape(st)),T=T.split(st).join(ot)}}var lt=T.indexOf("#");lt!==-1&&(this.hash=T.substr(lt),T=T.slice(0,lt));var ut=T.indexOf("?");if(ut!==-1?(this.search=T.substr(ut),this.query=T.substr(ut+1),C&&(this.query=x.parse(this.query)),T=T.slice(0,ut)):C&&(this.search="",this.query={}),T&&(this.pathname=T),N[I]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){nt=this.pathname||"";var vt=this.search||"";this.path=nt+vt}return this.href=this.format(),this},l.prototype.format=function(){var E=this.auth||"";E&&(E=(E=encodeURIComponent(E)).replace(/%3A/i,":"),E+="@");var C=this.protocol||"",O=this.pathname||"",z=this.hash||"",Z=!1,m="";this.host?Z=E+this.host:this.hostname&&(Z=E+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(Z+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(m=x.stringify(this.query));var T=this.search||m&&"?"+m||"";return C&&C.substr(-1)!==":"&&(C+=":"),this.slashes||(!C||N[C])&&Z!==!1?(Z="//"+(Z||""),O&&O.charAt(0)!=="/"&&(O="/"+O)):Z||(Z=""),z&&z.charAt(0)!=="#"&&(z="#"+z),T&&T.charAt(0)!=="?"&&(T="?"+T),C+Z+(O=O.replace(/[?#]/g,function(A){return encodeURIComponent(A)}))+(T=T.replace("#","%23"))+z},l.prototype.resolve=function(E){return this.resolveObject(S(E,!1,!0)).format()},l.prototype.resolveObject=function(E){if(o.isString(E)){var C=new l;C.parse(E,!1,!0),E=C}for(var O=new l,z=Object.keys(this),Z=0;Z<z.length;Z++){var m=z[Z];O[m]=this[m]}if(O.hash=E.hash,E.href==="")return O.href=O.format(),O;if(E.slashes&&!E.protocol){for(var T=Object.keys(E),A=0;A<T.length;A++){var k=T[A];k!=="protocol"&&(O[k]=E[k])}return N[O.protocol]&&O.hostname&&!O.pathname&&(O.path=O.pathname="/"),O.href=O.format(),O}if(E.protocol&&E.protocol!==O.protocol){if(!N[E.protocol]){for(var I=Object.keys(E),L=0;L<I.length;L++){var _=I[L];O[_]=E[_]}return O.href=O.format(),O}if(O.protocol=E.protocol,E.host||v[E.protocol])O.pathname=E.pathname;else{for(var j=(E.pathname||"").split("/");j.length&&!(E.host=j.shift()););E.host||(E.host=""),E.hostname||(E.hostname=""),j[0]!==""&&j.unshift(""),j.length<2&&j.unshift(""),O.pathname=j.join("/")}if(O.search=E.search,O.query=E.query,O.host=E.host||"",O.auth=E.auth,O.hostname=E.hostname||E.host,O.port=E.port,O.pathname||O.search){var M=O.pathname||"",R=O.search||"";O.path=M+R}return O.slashes=O.slashes||E.slashes,O.href=O.format(),O}var H=O.pathname&&O.pathname.charAt(0)==="/",$=E.host||E.pathname&&E.pathname.charAt(0)==="/",U=$||H||O.host&&E.pathname,V=U,D=O.pathname&&O.pathname.split("/")||[],J=(j=E.pathname&&E.pathname.split("/")||[],O.protocol&&!N[O.protocol]);if(J&&(O.hostname="",O.port=null,O.host&&(D[0]===""?D[0]=O.host:D.unshift(O.host)),O.host="",E.protocol&&(E.hostname=null,E.port=null,E.host&&(j[0]===""?j[0]=E.host:j.unshift(E.host)),E.host=null),U=U&&(j[0]===""||D[0]==="")),$)O.host=E.host||E.host===""?E.host:O.host,O.hostname=E.hostname||E.hostname===""?E.hostname:O.hostname,O.search=E.search,O.query=E.query,D=j;else if(j.length)D||(D=[]),D.pop(),D=D.concat(j),O.search=E.search,O.query=E.query;else if(!o.isNullOrUndefined(E.search))return J&&(O.hostname=O.host=D.shift(),(Q=!!(O.host&&O.host.indexOf("@")>0)&&O.host.split("@"))&&(O.auth=Q.shift(),O.host=O.hostname=Q.shift())),O.search=E.search,O.query=E.query,o.isNull(O.pathname)&&o.isNull(O.search)||(O.path=(O.pathname?O.pathname:"")+(O.search?O.search:"")),O.href=O.format(),O;if(!D.length)return O.pathname=null,O.search?O.path="/"+O.search:O.path=null,O.href=O.format(),O;for(var X=D.slice(-1)[0],rt=(O.host||E.host||D.length>1)&&(X==="."||X==="..")||X==="",et=0,tt=D.length;tt>=0;tt--)(X=D[tt])==="."?D.splice(tt,1):X===".."?(D.splice(tt,1),et++):et&&(D.splice(tt,1),et--);if(!U&&!V)for(;et--;et)D.unshift("..");!U||D[0]===""||D[0]&&D[0].charAt(0)==="/"||D.unshift(""),rt&&D.join("/").substr(-1)!=="/"&&D.push("");var Q,nt=D[0]===""||D[0]&&D[0].charAt(0)==="/";return J&&(O.hostname=O.host=nt?"":D.length?D.shift():"",(Q=!!(O.host&&O.host.indexOf("@")>0)&&O.host.split("@"))&&(O.auth=Q.shift(),O.host=O.hostname=Q.shift())),(U=U||O.host&&D.length)&&!nt&&D.unshift(""),D.length?O.pathname=D.join("/"):(O.pathname=null,O.path=null),o.isNull(O.pathname)&&o.isNull(O.search)||(O.path=(O.pathname?O.pathname:"")+(O.search?O.search:"")),O.auth=E.auth||O.auth,O.slashes=O.slashes||E.slashes,O.href=O.format(),O},l.prototype.parseHost=function(){var E=this.host,C=c.exec(E);C&&((C=C[0])!==":"&&(this.port=C.substr(1)),E=E.substr(0,E.length-C.length)),E&&(this.hostname=E)}},function(e,r,i){(function(s,o){var l;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(a){r&&r.nodeType,s&&s.nodeType;var c=typeof o=="object"&&o;c.global!==c&&c.window!==c&&c.self;var u,f=2147483647,h=/^xn--/,d=/[^\x20-\x7E]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,g={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},y=Math.floor,w=String.fromCharCode;function v(m){throw new RangeError(g[m])}function N(m,T){for(var A=m.length,k=[];A--;)k[A]=T(m[A]);return k}function x(m,T){var A=m.split("@"),k="";return A.length>1&&(k=A[0]+"@",m=A[1]),k+N((m=m.replace(p,".")).split("."),T).join(".")}function S(m){for(var T,A,k=[],I=0,L=m.length;I<L;)(T=m.charCodeAt(I++))>=55296&&T<=56319&&I<L?(64512&(A=m.charCodeAt(I++)))==56320?k.push(((1023&T)<<10)+(1023&A)+65536):(k.push(T),I--):k.push(T);return k}function E(m){return N(m,function(T){var A="";return T>65535&&(A+=w((T-=65536)>>>10&1023|55296),T=56320|1023&T),A+=w(T)}).join("")}function C(m,T){return m+22+75*(m<26)-((T!=0)<<5)}function O(m,T,A){var k=0;for(m=A?y(m/700):m>>1,m+=y(m/T);m>455;k+=36)m=y(m/35);return y(k+36*m/(m+38))}function z(m){var T,A,k,I,L,_,j,M,R,H,$,U=[],V=m.length,D=0,J=128,X=72;for((A=m.lastIndexOf("-"))<0&&(A=0),k=0;k<A;++k)m.charCodeAt(k)>=128&&v("not-basic"),U.push(m.charCodeAt(k));for(I=A>0?A+1:0;I<V;){for(L=D,_=1,j=36;I>=V&&v("invalid-input"),((M=($=m.charCodeAt(I++))-48<10?$-22:$-65<26?$-65:$-97<26?$-97:36)>=36||M>y((f-D)/_))&&v("overflow"),D+=M*_,!(M<(R=j<=X?1:j>=X+26?26:j-X));j+=36)_>y(f/(H=36-R))&&v("overflow"),_*=H;X=O(D-L,T=U.length+1,L==0),y(D/T)>f-J&&v("overflow"),J+=y(D/T),D%=T,U.splice(D++,0,J)}return E(U)}function Z(m){var T,A,k,I,L,_,j,M,R,H,$,U,V,D,J,X=[];for(U=(m=S(m)).length,T=128,A=0,L=72,_=0;_<U;++_)($=m[_])<128&&X.push(w($));for(k=I=X.length,I&&X.push("-");k<U;){for(j=f,_=0;_<U;++_)($=m[_])>=T&&$<j&&(j=$);for(j-T>y((f-A)/(V=k+1))&&v("overflow"),A+=(j-T)*V,T=j,_=0;_<U;++_)if(($=m[_])<T&&++A>f&&v("overflow"),$==T){for(M=A,R=36;!(M<(H=R<=L?1:R>=L+26?26:R-L));R+=36)J=M-H,D=36-H,X.push(w(C(H+J%D,0))),M=y(J/D);X.push(w(C(M,0))),L=O(A,V,k==I),A=0,++k}++A,++T}return X.join("")}u={version:"1.4.1",ucs2:{decode:S,encode:E},decode:z,encode:Z,toASCII:function(m){return x(m,function(T){return d.test(T)?"xn--"+Z(T):T})},toUnicode:function(m){return x(m,function(T){return h.test(T)?z(T.slice(4).toLowerCase()):T})}},(l=(function(){return u}).call(r,i,r,s))===void 0||(s.exports=l)})()}).call(this,i(35)(e),i(36))},function(e,r){e.exports=function(i){return i.webpackPolyfill||(i.deprecate=function(){},i.paths=[],i.children||(i.children=[]),Object.defineProperty(i,"loaded",{enumerable:!0,get:function(){return i.l}}),Object.defineProperty(i,"id",{enumerable:!0,get:function(){return i.i}}),i.webpackPolyfill=1),i}},function(e,r){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}e.exports=i},function(e,r,i){e.exports={isString:function(s){return typeof s=="string"},isObject:function(s){return typeof s=="object"&&s!==null},isNull:function(s){return s===null},isNullOrUndefined:function(s){return s==null}}},function(e,r,i){r.decode=r.parse=i(39),r.encode=r.stringify=i(40)},function(e,r,i){function s(l,a){return Object.prototype.hasOwnProperty.call(l,a)}e.exports=function(l,a,c,u){a=a||"&",c=c||"=";var f={};if(typeof l!="string"||l.length===0)return f;var h=/\+/g;l=l.split(a);var d=1e3;u&&typeof u.maxKeys=="number"&&(d=u.maxKeys);var p=l.length;d>0&&p>d&&(p=d);for(var g=0;g<p;++g){var y,w,v,N,x=l[g].replace(h,"%20"),S=x.indexOf(c);S>=0?(y=x.substr(0,S),w=x.substr(S+1)):(y=x,w=""),v=decodeURIComponent(y),N=decodeURIComponent(w),s(f,v)?o(f[v])?f[v].push(N):f[v]=[f[v],N]:f[v]=N}return f};var o=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"}},function(e,r,i){var s=function(c){switch(typeof c){case"string":return c;case"boolean":return c?"true":"false";case"number":return isFinite(c)?c:"";default:return""}};e.exports=function(c,u,f,h){return u=u||"&",f=f||"=",c===null&&(c=void 0),typeof c=="object"?l(a(c),function(d){var p=encodeURIComponent(s(d))+f;return o(c[d])?l(c[d],function(g){return p+encodeURIComponent(s(g))}).join(u):p+encodeURIComponent(s(c[d]))}).join(u):h?encodeURIComponent(s(h))+f+encodeURIComponent(s(c)):""};var o=Array.isArray||function(c){return Object.prototype.toString.call(c)==="[object Array]"};function l(c,u){if(c.map)return c.map(u);for(var f=[],h=0;h<c.length;h++)f.push(u(c[h],h));return f}var a=Object.keys||function(c){var u=[];for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&u.push(f);return u}}])})}(Yr)),Yr.exports}var Yl=Zl();const Xl=qr(Yl);var xr={exports:{}},Ql=xr.exports,wi;function Jl(){return wi||(wi=1,function(n,t){(function(e,r){n.exports=r()})(Ql,function(){function e(p){if(!(typeof window>"u")){var g=document.createElement("style");return g.setAttribute("media","screen"),g.innerHTML=p,document.head.appendChild(g),p}}/*! *****************************************************************************
		    Copyright (c) Microsoft Corporation.

		    Permission to use, copy, modify, and/or distribute this software for any
		    purpose with or without fee is hereby granted.

		    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		    PERFORMANCE OF THIS SOFTWARE.
		    ***************************************************************************** */var r=function(p,g){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,w){y.__proto__=w}||function(y,w){for(var v in w)w.hasOwnProperty(v)&&(y[v]=w[v])},r(p,g)};function i(p,g){r(p,g);function y(){this.constructor=p}p.prototype=g===null?Object.create(g):(y.prototype=g.prototype,new y)}var s=function(){return s=Object.assign||function(g){for(var y,w=1,v=arguments.length;w<v;w++){y=arguments[w];for(var N in y)Object.prototype.hasOwnProperty.call(y,N)&&(g[N]=y[N])}return g},s.apply(this,arguments)};e(`#editor-resizer {
  position: absolute;
  border: 1px dashed #fff;
  background-color: rgba(0, 0, 0, 0.5);
}
#editor-resizer .handler {
  position: absolute;
  right: -5px;
  bottom: -5px;
  width: 10px;
  height: 10px;
  border: 1px solid #333;
  background-color: rgba(255, 255, 255, 0.8);
  cursor: nwse-resize;
  user-select: none;
}
#editor-resizer .toolbar {
  position: absolute;
  top: -5em;
  left: 50%;
  padding: 0.5em;
  border: 1px solid #fff;
  border-radius: 3px;
  background-color: #fff;
  box-shadow: 0 0 3px rgba(0, 0, 0, 0.5);
  transform: translateX(-50%);
  width: 20em;
}
#editor-resizer .toolbar .group {
  display: flex;
  border: 1px solid #aaa;
  border-radius: 6px;
  white-space: nowrap;
  text-align: center;
  line-height: 2;
  color: rgba(0, 0, 0, 0.65);
}
#editor-resizer .toolbar .group:not(:first-child) {
  margin-top: 0.5em;
}
#editor-resizer .toolbar .group .btn {
  flex: 1 0 0;
  text-align: center;
  width: 25%;
  padding: 0 0.5rem;
  display: inline-block;
  vertical-align: top;
  user-select: none;
  color: inherit;
}
#editor-resizer .toolbar .group .btn:not(:last-child) {
  border-right: 1px solid #bbb;
}
#editor-resizer .toolbar .group .btn:not(.btn-group):active {
  background-color: rgba(0, 0, 0, 0.1);
}
#editor-resizer .toolbar .group .input-wrapper {
  width: 25%;
  border: 1px solid #eee;
  position: relative;
  border-right: 1px solid #bbb;
  min-width: 4em;
}
#editor-resizer .toolbar .group .input-wrapper::after {
  content: " ";
  position: absolute;
  height: 1px;
  background-color: #333;
  left: 0.5em;
  right: 1em;
  bottom: 0.2em;
}
#editor-resizer .toolbar .group .input-wrapper input {
  color: inherit;
  text-align: center;
  width: 100%;
  border: none;
  outline: none;
  padding: 0 0.5em;
  padding-right: 1.5em;
}
#editor-resizer .toolbar .group .input-wrapper input:focus ~ .tooltip {
  display: block;
}
#editor-resizer .toolbar .group .input-wrapper .suffix {
  position: absolute;
  right: 0.5em;
}
#editor-resizer .toolbar .group .input-wrapper .tooltip {
  display: none;
  position: absolute;
  top: 100%;
  left: 0;
  font-size: small;
  background-color: #fff;
  box-shadow: 0 0 3px #a7a7a7;
  padding: 0 0.6em;
  border-radius: 5px;
  zoom: 0.85;
}
`);var o=function(){function p(g){this.config=s(s({},l),g)}return p.prototype.findLabel=function(g){return this.config?Reflect.get(this.config,g):null},p}(),l={floatLeft:"left",floatRight:"right",center:"center",restore:"restore",altTip:"Press and hold alt to lock ratio!",inputTip:"Press enter key to apply change!"};function a(p){for(var g=[],y=1;y<arguments.length;y++)g[y-1]=arguments[y];return p.replace(/\{(\d+)\}/g,function(w,v){return g.length>v?g[v]:""})}(function(p){i(g,p);function g(){var y=p!==null&&p.apply(this,arguments)||this;return y.originSize=null,y}return g})(HTMLElement);var c=`
<div class="handler" title="{0}"></div>
<div class="toolbar">
  <div class="group">
    <a class="btn" data-type="width" data-styles="width:100%">100%</a>
    <a class="btn" data-type="width" data-styles="width:50%">50%</a>
    <span class="input-wrapper"><input data-type="width" maxlength="3" /><span class="suffix">%</span><span class="tooltip">{5}</span></span>
    <a class="btn" data-type="width" data-styles="width:auto">{4}</a>
  </div>
  <div class="group">
    <a class="btn" data-type="align" data-styles="float:left">{1}</a>
    <a class="btn" data-type="align" data-styles="display:block;margin:auto;">{2}</a>
    <a class="btn" data-type="align" data-styles="float:right;">{3}</a>
    <a class="btn" data-type="align" data-styles="">{4}</a>
  </div>
</div>
`,u=function(){function p(g,y,w,v){this.resizer=null,this.startResizePosition=null,this.i18n=new o((v==null?void 0:v.locale)||l),this.options=v,this.resizeTarget=g,g.originSize||(g.originSize={width:g.clientWidth,height:g.clientHeight}),this.editor=w,this.container=y,this.initResizer(),this.positionResizerToTarget(g),this.resizing=this.resizing.bind(this),this.endResize=this.endResize.bind(this),this.startResize=this.startResize.bind(this),this.toolbarClick=this.toolbarClick.bind(this),this.toolbarInputChange=this.toolbarInputChange.bind(this),this.onScroll=this.onScroll.bind(this),this.bindEvents()}return p.prototype.initResizer=function(){var g=this.container.querySelector("#editor-resizer");g||(g=document.createElement("div"),g.setAttribute("id","editor-resizer"),g.innerHTML=a(c,this.i18n.findLabel("altTip"),this.i18n.findLabel("floatLeft"),this.i18n.findLabel("center"),this.i18n.findLabel("floatRight"),this.i18n.findLabel("restore"),this.i18n.findLabel("inputTip")),this.container.appendChild(g)),this.resizer=g},p.prototype.positionResizerToTarget=function(g){this.resizer!==null&&(this.resizer.style.setProperty("left",g.offsetLeft+"px"),this.resizer.style.setProperty("top",g.offsetTop-this.editor.scrollTop+"px"),this.resizer.style.setProperty("width",g.clientWidth+"px"),this.resizer.style.setProperty("height",g.clientHeight+"px"))},p.prototype.bindEvents=function(){this.resizer!==null&&(this.resizer.addEventListener("mousedown",this.startResize),this.resizer.addEventListener("click",this.toolbarClick),this.resizer.addEventListener("change",this.toolbarInputChange)),window.addEventListener("mouseup",this.endResize),window.addEventListener("mousemove",this.resizing),this.editor.addEventListener("scroll",this.onScroll)},p.prototype.onScroll=function(){this.positionResizerToTarget(this.resizeTarget)},p.prototype._setStylesForToolbar=function(g,y){var w,v="_styles_"+g,N=this.resizeTarget.style,x=this.resizeTarget[v];N.cssText=N.cssText.replaceAll(" ","").replace(x,"")+(";"+y),this.resizeTarget[v]=y,this.positionResizerToTarget(this.resizeTarget),(w=this.options)===null||w===void 0||w.onChange(this.resizeTarget)},p.prototype.toolbarInputChange=function(g){var y,w=g.target,v=(y=w==null?void 0:w.dataset)===null||y===void 0?void 0:y.type,N=w.value;v&&Number(N)&&this._setStylesForToolbar(v,"width: "+Number(N)+"%;")},p.prototype.toolbarClick=function(g){var y,w,v=g.target,N=(y=v==null?void 0:v.dataset)===null||y===void 0?void 0:y.type;N&&v.classList.contains("btn")&&this._setStylesForToolbar(N,(w=v==null?void 0:v.dataset)===null||w===void 0?void 0:w.styles)},p.prototype.startResize=function(g){var y=g.target;y.classList.contains("handler")&&g.which===1&&(this.startResizePosition={left:g.clientX,top:g.clientY,width:this.resizeTarget.clientWidth,height:this.resizeTarget.clientHeight})},p.prototype.endResize=function(){var g;this.startResizePosition=null,(g=this.options)===null||g===void 0||g.onChange(this.resizeTarget)},p.prototype.resizing=function(g){var y,w,v,N,x,S,E,C,O,z,Z;if(this.startResizePosition){var m=g.clientX-this.startResizePosition.left,T=g.clientY-this.startResizePosition.top,A=this.startResizePosition.width,k=this.startResizePosition.height;if(A+=m,k+=T,g.altKey){var I=this.resizeTarget.originSize,L=I.height/I.width;k=L*A}var _=(v=(w=(y=this.options)===null||y===void 0?void 0:y.resizeConstraints)===null||w===void 0?void 0:w.minWidth)!==null&&v!==void 0?v:30,j=(S=(x=(N=this.options)===null||N===void 0?void 0:N.resizeConstraints)===null||x===void 0?void 0:x.minHeight)!==null&&S!==void 0?S:30;A<_&&(A=_),((C=(E=this.options)===null||E===void 0?void 0:E.resizeConstraints)===null||C===void 0?void 0:C.maxWidth)!==void 0&&A>this.options.resizeConstraints.maxWidth&&(A=this.options.resizeConstraints.maxWidth),k<j&&(k=j),((z=(O=this.options)===null||O===void 0?void 0:O.resizeConstraints)===null||z===void 0?void 0:z.maxHeight)!==void 0&&k>this.options.resizeConstraints.maxHeight&&(k=this.options.resizeConstraints.maxHeight),this.resizeTarget.style.setProperty("width",A+"px"),!((Z=this.options)===null||Z===void 0)&&Z.keepAspectRatio||this.resizeTarget.style.setProperty("height",k+"px"),this.positionResizerToTarget(this.resizeTarget)}},p.prototype.destory=function(){this.container.removeChild(this.resizer),window.removeEventListener("mouseup",this.endResize),window.removeEventListener("mousemove",this.resizing),this.editor.removeEventListener("scroll",this.onScroll),this.resizer=null},p}(),f=function(){function p(g,y){this.element=g,this.cb=y,this.hasTracked=!1}return p}(),h=function(){function p(){}return p.track=function(g,y){this.iframes.push(new f(g,y)),this.interval||(this.interval=setInterval(function(){p.checkClick()},this.resolution))},p.checkClick=function(){if(document.activeElement){var g=document.activeElement;for(var y in this.iframes)g===this.iframes[y].element?this.iframes[y].hasTracked==!1&&(this.iframes[y].cb.apply(window,[]),this.iframes[y].hasTracked=!0):this.iframes[y].hasTracked=!1}},p.resolution=200,p.iframes=[],p.interval=null,p}();function d(p,g){var y=p.root,w,v;function N(){var x=p.getContents().constructor,S=new x().retain(1);p.updateContents(S)}y.addEventListener("click",function(x){var S,E,C=x.target;x.target&&[!(!((S=g==null?void 0:g.disableMediaTypes)===null||S===void 0)&&S.disableImages)&&"img",!(!((E=g==null?void 0:g.disableMediaTypes)===null||E===void 0)&&E.disableVideos)&&"video"].includes(C.tagName.toLowerCase())&&p.isEnabled()&&(w=C,v=new u(C,y.parentElement,y,s(s({},g),{onChange:N})))}),p.on("text-change",function(x,S){var E;!(!((E=g==null?void 0:g.disableMediaTypes)===null||E===void 0)&&E.disableIframes)&&p.isEnabled()&&y.querySelectorAll("iframe").forEach(function(C){h.track(C,function(){w=C,v=new u(C,y.parentElement,y,s(s({},g),{onChange:N}))})})}),document.addEventListener("mousedown",function(x){var S,E,C,O=x.target;O!==w&&!(!((E=(S=v==null?void 0:v.resizer)===null||S===void 0?void 0:S.contains)===null||E===void 0)&&E.call(S,O))&&((C=v==null?void 0:v.destory)===null||C===void 0||C.call(v),v=null,w=null)},{capture:!0})}return d})}(xr)),xr.exports}var ta=Jl();const ea=qr(ta);var Cs=typeof global=="object"&&global&&global.Object===Object&&global,ra=typeof self=="object"&&self&&self.Object===Object&&self,Dt=Cs||ra||Function("return this")(),Jt=Dt.Symbol,qs=Object.prototype,na=qs.hasOwnProperty,ia=qs.toString,je=Jt?Jt.toStringTag:void 0;function sa(n){var t=na.call(n,je),e=n[je];try{n[je]=void 0;var r=!0}catch{}var i=ia.call(n);return r&&(t?n[je]=e:delete n[je]),i}var oa=Object.prototype,la=oa.toString;function aa(n){return la.call(n)}var ca="[object Null]",ua="[object Undefined]",xi=Jt?Jt.toStringTag:void 0;function Ie(n){return n==null?n===void 0?ua:ca:xi&&xi in Object(n)?sa(n):aa(n)}function Ht(n){return n!=null&&typeof n=="object"}var oe=Array.isArray;function ee(n){var t=typeof n;return n!=null&&(t=="object"||t=="function")}function ks(n){return n}var ha="[object AsyncFunction]",fa="[object Function]",da="[object GeneratorFunction]",pa="[object Proxy]";function jn(n){if(!ee(n))return!1;var t=Ie(n);return t==fa||t==da||t==ha||t==pa}var Xr=Dt["__core-js_shared__"],Ai=function(){var n=/[^.]+$/.exec(Xr&&Xr.keys&&Xr.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function ga(n){return!!Ai&&Ai in n}var ma=Function.prototype,ba=ma.toString;function ae(n){if(n!=null){try{return ba.call(n)}catch{}try{return n+""}catch{}}return""}var ya=/[\\^$.*+?()[\]{}|]/g,va=/^\[object .+?Constructor\]$/,wa=Function.prototype,xa=Object.prototype,Aa=wa.toString,Ea=xa.hasOwnProperty,Ta=RegExp("^"+Aa.call(Ea).replace(ya,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Na(n){if(!ee(n)||ga(n))return!1;var t=jn(n)?Ta:va;return t.test(ae(n))}function Oa(n,t){return n==null?void 0:n[t]}function ce(n,t){var e=Oa(n,t);return Na(e)?e:void 0}var fn=ce(Dt,"WeakMap"),Ei=Object.create,Sa=function(){function n(){}return function(t){if(!ee(t))return{};if(Ei)return Ei(t);n.prototype=t;var e=new n;return n.prototype=void 0,e}}();function La(n,t,e){switch(e.length){case 0:return n.call(t);case 1:return n.call(t,e[0]);case 2:return n.call(t,e[0],e[1]);case 3:return n.call(t,e[0],e[1],e[2])}return n.apply(t,e)}function Ca(n,t){var e=-1,r=n.length;for(t||(t=Array(r));++e<r;)t[e]=n[e];return t}var qa=800,ka=16,Ia=Date.now;function _a(n){var t=0,e=0;return function(){var r=Ia(),i=ka-(r-e);if(e=r,i>0){if(++t>=qa)return arguments[0]}else t=0;return n.apply(void 0,arguments)}}function Ra(n){return function(){return n}}var Nr=function(){try{var n=ce(Object,"defineProperty");return n({},"",{}),n}catch{}}(),ja=Nr?function(n,t){return Nr(n,"toString",{configurable:!0,enumerable:!1,value:Ra(t),writable:!0})}:ks,Pa=_a(ja);function Ma(n,t){for(var e=-1,r=n==null?0:n.length;++e<r&&t(n[e],e,n)!==!1;);return n}var Ba=9007199254740991,Da=/^(?:0|[1-9]\d*)$/;function Is(n,t){var e=typeof n;return t=t??Ba,!!t&&(e=="number"||e!="symbol"&&Da.test(n))&&n>-1&&n%1==0&&n<t}function Pn(n,t,e){t=="__proto__"&&Nr?Nr(n,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[t]=e}function Je(n,t){return n===t||n!==n&&t!==t}var $a=Object.prototype,Ua=$a.hasOwnProperty;function _s(n,t,e){var r=n[t];(!(Ua.call(n,t)&&Je(r,e))||e===void 0&&!(t in n))&&Pn(n,t,e)}function za(n,t,e,r){var i=!e;e||(e={});for(var s=-1,o=t.length;++s<o;){var l=t[s],a=void 0;a===void 0&&(a=n[l]),i?Pn(e,l,a):_s(e,l,a)}return e}var Ti=Math.max;function Ha(n,t,e){return t=Ti(t===void 0?n.length-1:t,0),function(){for(var r=arguments,i=-1,s=Ti(r.length-t,0),o=Array(s);++i<s;)o[i]=r[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=r[i];return l[t]=e(o),La(n,this,l)}}function Fa(n,t){return Pa(Ha(n,t,ks),n+"")}var Va=9007199254740991;function Rs(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=Va}function kr(n){return n!=null&&Rs(n.length)&&!jn(n)}function Ga(n,t,e){if(!ee(e))return!1;var r=typeof t;return(r=="number"?kr(e)&&Is(t,e.length):r=="string"&&t in e)?Je(e[t],n):!1}function Wa(n){return Fa(function(t,e){var r=-1,i=e.length,s=i>1?e[i-1]:void 0,o=i>2?e[2]:void 0;for(s=n.length>3&&typeof s=="function"?(i--,s):void 0,o&&Ga(e[0],e[1],o)&&(s=i<3?void 0:s,i=1),t=Object(t);++r<i;){var l=e[r];l&&n(t,l,r,s)}return t})}var Ka=Object.prototype;function Mn(n){var t=n&&n.constructor,e=typeof t=="function"&&t.prototype||Ka;return n===e}function Za(n,t){for(var e=-1,r=Array(n);++e<n;)r[e]=t(e);return r}var Ya="[object Arguments]";function Ni(n){return Ht(n)&&Ie(n)==Ya}var js=Object.prototype,Xa=js.hasOwnProperty,Qa=js.propertyIsEnumerable,dn=Ni(function(){return arguments}())?Ni:function(n){return Ht(n)&&Xa.call(n,"callee")&&!Qa.call(n,"callee")};function Ja(){return!1}var Ps=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Oi=Ps&&typeof module=="object"&&module&&!module.nodeType&&module,tc=Oi&&Oi.exports===Ps,Si=tc?Dt.Buffer:void 0,ec=Si?Si.isBuffer:void 0,Ge=ec||Ja,rc="[object Arguments]",nc="[object Array]",ic="[object Boolean]",sc="[object Date]",oc="[object Error]",lc="[object Function]",ac="[object Map]",cc="[object Number]",uc="[object Object]",hc="[object RegExp]",fc="[object Set]",dc="[object String]",pc="[object WeakMap]",gc="[object ArrayBuffer]",mc="[object DataView]",bc="[object Float32Array]",yc="[object Float64Array]",vc="[object Int8Array]",wc="[object Int16Array]",xc="[object Int32Array]",Ac="[object Uint8Array]",Ec="[object Uint8ClampedArray]",Tc="[object Uint16Array]",Nc="[object Uint32Array]",ct={};ct[bc]=ct[yc]=ct[vc]=ct[wc]=ct[xc]=ct[Ac]=ct[Ec]=ct[Tc]=ct[Nc]=!0;ct[rc]=ct[nc]=ct[gc]=ct[ic]=ct[mc]=ct[sc]=ct[oc]=ct[lc]=ct[ac]=ct[cc]=ct[uc]=ct[hc]=ct[fc]=ct[dc]=ct[pc]=!1;function Oc(n){return Ht(n)&&Rs(n.length)&&!!ct[Ie(n)]}function Bn(n){return function(t){return n(t)}}var Ms=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ue=Ms&&typeof module=="object"&&module&&!module.nodeType&&module,Sc=Ue&&Ue.exports===Ms,Qr=Sc&&Cs.process,Se=function(){try{var n=Ue&&Ue.require&&Ue.require("util").types;return n||Qr&&Qr.binding&&Qr.binding("util")}catch{}}(),Li=Se&&Se.isTypedArray,Dn=Li?Bn(Li):Oc,Lc=Object.prototype,Cc=Lc.hasOwnProperty;function Bs(n,t){var e=oe(n),r=!e&&dn(n),i=!e&&!r&&Ge(n),s=!e&&!r&&!i&&Dn(n),o=e||r||i||s,l=o?Za(n.length,String):[],a=l.length;for(var c in n)(t||Cc.call(n,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Is(c,a)))&&l.push(c);return l}function Ds(n,t){return function(e){return n(t(e))}}var qc=Ds(Object.keys,Object),kc=Object.prototype,Ic=kc.hasOwnProperty;function _c(n){if(!Mn(n))return qc(n);var t=[];for(var e in Object(n))Ic.call(n,e)&&e!="constructor"&&t.push(e);return t}function Rc(n){return kr(n)?Bs(n):_c(n)}function jc(n){var t=[];if(n!=null)for(var e in Object(n))t.push(e);return t}var Pc=Object.prototype,Mc=Pc.hasOwnProperty;function Bc(n){if(!ee(n))return jc(n);var t=Mn(n),e=[];for(var r in n)r=="constructor"&&(t||!Mc.call(n,r))||e.push(r);return e}function $s(n){return kr(n)?Bs(n,!0):Bc(n)}var We=ce(Object,"create");function Dc(){this.__data__=We?We(null):{},this.size=0}function $c(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}var Uc="__lodash_hash_undefined__",zc=Object.prototype,Hc=zc.hasOwnProperty;function Fc(n){var t=this.__data__;if(We){var e=t[n];return e===Uc?void 0:e}return Hc.call(t,n)?t[n]:void 0}var Vc=Object.prototype,Gc=Vc.hasOwnProperty;function Wc(n){var t=this.__data__;return We?t[n]!==void 0:Gc.call(t,n)}var Kc="__lodash_hash_undefined__";function Zc(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=We&&t===void 0?Kc:t,this}function le(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}le.prototype.clear=Dc;le.prototype.delete=$c;le.prototype.get=Fc;le.prototype.has=Wc;le.prototype.set=Zc;function Yc(){this.__data__=[],this.size=0}function Ir(n,t){for(var e=n.length;e--;)if(Je(n[e][0],t))return e;return-1}var Xc=Array.prototype,Qc=Xc.splice;function Jc(n){var t=this.__data__,e=Ir(t,n);if(e<0)return!1;var r=t.length-1;return e==r?t.pop():Qc.call(t,e,1),--this.size,!0}function tu(n){var t=this.__data__,e=Ir(t,n);return e<0?void 0:t[e][1]}function eu(n){return Ir(this.__data__,n)>-1}function ru(n,t){var e=this.__data__,r=Ir(e,n);return r<0?(++this.size,e.push([n,t])):e[r][1]=t,this}function Gt(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}Gt.prototype.clear=Yc;Gt.prototype.delete=Jc;Gt.prototype.get=tu;Gt.prototype.has=eu;Gt.prototype.set=ru;var Ke=ce(Dt,"Map");function nu(){this.size=0,this.__data__={hash:new le,map:new(Ke||Gt),string:new le}}function iu(n){var t=typeof n;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?n!=="__proto__":n===null}function _r(n,t){var e=n.__data__;return iu(t)?e[typeof t=="string"?"string":"hash"]:e.map}function su(n){var t=_r(this,n).delete(n);return this.size-=t?1:0,t}function ou(n){return _r(this,n).get(n)}function lu(n){return _r(this,n).has(n)}function au(n,t){var e=_r(this,n),r=e.size;return e.set(n,t),this.size+=e.size==r?0:1,this}function ue(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}ue.prototype.clear=nu;ue.prototype.delete=su;ue.prototype.get=ou;ue.prototype.has=lu;ue.prototype.set=au;function cu(n,t){for(var e=-1,r=t.length,i=n.length;++e<r;)n[i+e]=t[e];return n}var Us=Ds(Object.getPrototypeOf,Object),uu="[object Object]",hu=Function.prototype,fu=Object.prototype,zs=hu.toString,du=fu.hasOwnProperty,pu=zs.call(Object);function gu(n){if(!Ht(n)||Ie(n)!=uu)return!1;var t=Us(n);if(t===null)return!0;var e=du.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&zs.call(e)==pu}function mu(){this.__data__=new Gt,this.size=0}function bu(n){var t=this.__data__,e=t.delete(n);return this.size=t.size,e}function yu(n){return this.__data__.get(n)}function vu(n){return this.__data__.has(n)}var wu=200;function xu(n,t){var e=this.__data__;if(e instanceof Gt){var r=e.__data__;if(!Ke||r.length<wu-1)return r.push([n,t]),this.size=++e.size,this;e=this.__data__=new ue(r)}return e.set(n,t),this.size=e.size,this}function jt(n){var t=this.__data__=new Gt(n);this.size=t.size}jt.prototype.clear=mu;jt.prototype.delete=bu;jt.prototype.get=yu;jt.prototype.has=vu;jt.prototype.set=xu;var Hs=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ci=Hs&&typeof module=="object"&&module&&!module.nodeType&&module,Au=Ci&&Ci.exports===Hs,qi=Au?Dt.Buffer:void 0,ki=qi?qi.allocUnsafe:void 0;function Fs(n,t){if(t)return n.slice();var e=n.length,r=ki?ki(e):new n.constructor(e);return n.copy(r),r}function Eu(n,t){for(var e=-1,r=n==null?0:n.length,i=0,s=[];++e<r;){var o=n[e];t(o,e,n)&&(s[i++]=o)}return s}function Tu(){return[]}var Nu=Object.prototype,Ou=Nu.propertyIsEnumerable,Ii=Object.getOwnPropertySymbols,Su=Ii?function(n){return n==null?[]:(n=Object(n),Eu(Ii(n),function(t){return Ou.call(n,t)}))}:Tu;function Lu(n,t,e){var r=t(n);return oe(n)?r:cu(r,e(n))}function pn(n){return Lu(n,Rc,Su)}var gn=ce(Dt,"DataView"),mn=ce(Dt,"Promise"),bn=ce(Dt,"Set"),_i="[object Map]",Cu="[object Object]",Ri="[object Promise]",ji="[object Set]",Pi="[object WeakMap]",Mi="[object DataView]",qu=ae(gn),ku=ae(Ke),Iu=ae(mn),_u=ae(bn),Ru=ae(fn),Lt=Ie;(gn&&Lt(new gn(new ArrayBuffer(1)))!=Mi||Ke&&Lt(new Ke)!=_i||mn&&Lt(mn.resolve())!=Ri||bn&&Lt(new bn)!=ji||fn&&Lt(new fn)!=Pi)&&(Lt=function(n){var t=Ie(n),e=t==Cu?n.constructor:void 0,r=e?ae(e):"";if(r)switch(r){case qu:return Mi;case ku:return _i;case Iu:return Ri;case _u:return ji;case Ru:return Pi}return t});var ju=Object.prototype,Pu=ju.hasOwnProperty;function Mu(n){var t=n.length,e=new n.constructor(t);return t&&typeof n[0]=="string"&&Pu.call(n,"index")&&(e.index=n.index,e.input=n.input),e}var Or=Dt.Uint8Array;function $n(n){var t=new n.constructor(n.byteLength);return new Or(t).set(new Or(n)),t}function Bu(n,t){var e=$n(n.buffer);return new n.constructor(e,n.byteOffset,n.byteLength)}var Du=/\w*$/;function $u(n){var t=new n.constructor(n.source,Du.exec(n));return t.lastIndex=n.lastIndex,t}var Bi=Jt?Jt.prototype:void 0,Di=Bi?Bi.valueOf:void 0;function Uu(n){return Di?Object(Di.call(n)):{}}function Vs(n,t){var e=t?$n(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)}var zu="[object Boolean]",Hu="[object Date]",Fu="[object Map]",Vu="[object Number]",Gu="[object RegExp]",Wu="[object Set]",Ku="[object String]",Zu="[object Symbol]",Yu="[object ArrayBuffer]",Xu="[object DataView]",Qu="[object Float32Array]",Ju="[object Float64Array]",th="[object Int8Array]",eh="[object Int16Array]",rh="[object Int32Array]",nh="[object Uint8Array]",ih="[object Uint8ClampedArray]",sh="[object Uint16Array]",oh="[object Uint32Array]";function lh(n,t,e){var r=n.constructor;switch(t){case Yu:return $n(n);case zu:case Hu:return new r(+n);case Xu:return Bu(n);case Qu:case Ju:case th:case eh:case rh:case nh:case ih:case sh:case oh:return Vs(n,e);case Fu:return new r;case Vu:case Ku:return new r(n);case Gu:return $u(n);case Wu:return new r;case Zu:return Uu(n)}}function Gs(n){return typeof n.constructor=="function"&&!Mn(n)?Sa(Us(n)):{}}var ah="[object Map]";function ch(n){return Ht(n)&&Lt(n)==ah}var $i=Se&&Se.isMap,uh=$i?Bn($i):ch,hh="[object Set]";function fh(n){return Ht(n)&&Lt(n)==hh}var Ui=Se&&Se.isSet,dh=Ui?Bn(Ui):fh,ph=1,Ws="[object Arguments]",gh="[object Array]",mh="[object Boolean]",bh="[object Date]",yh="[object Error]",Ks="[object Function]",vh="[object GeneratorFunction]",wh="[object Map]",xh="[object Number]",Zs="[object Object]",Ah="[object RegExp]",Eh="[object Set]",Th="[object String]",Nh="[object Symbol]",Oh="[object WeakMap]",Sh="[object ArrayBuffer]",Lh="[object DataView]",Ch="[object Float32Array]",qh="[object Float64Array]",kh="[object Int8Array]",Ih="[object Int16Array]",_h="[object Int32Array]",Rh="[object Uint8Array]",jh="[object Uint8ClampedArray]",Ph="[object Uint16Array]",Mh="[object Uint32Array]",at={};at[Ws]=at[gh]=at[Sh]=at[Lh]=at[mh]=at[bh]=at[Ch]=at[qh]=at[kh]=at[Ih]=at[_h]=at[wh]=at[xh]=at[Zs]=at[Ah]=at[Eh]=at[Th]=at[Nh]=at[Rh]=at[jh]=at[Ph]=at[Mh]=!0;at[yh]=at[Ks]=at[Oh]=!1;function Ar(n,t,e,r,i,s){var o,l=t&ph;if(o!==void 0)return o;if(!ee(n))return n;var a=oe(n);if(a)o=Mu(n);else{var c=Lt(n),u=c==Ks||c==vh;if(Ge(n))return Fs(n,l);if(c==Zs||c==Ws||u&&!i)o=u?{}:Gs(n);else{if(!at[c])return i?n:{};o=lh(n,c,l)}}s||(s=new jt);var f=s.get(n);if(f)return f;s.set(n,o),dh(n)?n.forEach(function(p){o.add(Ar(p,t,e,p,n,s))}):uh(n)&&n.forEach(function(p,g){o.set(g,Ar(p,t,e,g,n,s))});var h=pn,d=a?void 0:h(n);return Ma(d||n,function(p,g){d&&(g=p,p=n[g]),_s(o,g,Ar(p,t,e,g,n,s))}),o}var Bh=1,Dh=4;function Te(n){return Ar(n,Bh|Dh)}var $h="__lodash_hash_undefined__";function Uh(n){return this.__data__.set(n,$h),this}function zh(n){return this.__data__.has(n)}function Sr(n){var t=-1,e=n==null?0:n.length;for(this.__data__=new ue;++t<e;)this.add(n[t])}Sr.prototype.add=Sr.prototype.push=Uh;Sr.prototype.has=zh;function Hh(n,t){for(var e=-1,r=n==null?0:n.length;++e<r;)if(t(n[e],e,n))return!0;return!1}function Fh(n,t){return n.has(t)}var Vh=1,Gh=2;function Ys(n,t,e,r,i,s){var o=e&Vh,l=n.length,a=t.length;if(l!=a&&!(o&&a>l))return!1;var c=s.get(n),u=s.get(t);if(c&&u)return c==t&&u==n;var f=-1,h=!0,d=e&Gh?new Sr:void 0;for(s.set(n,t),s.set(t,n);++f<l;){var p=n[f],g=t[f];if(r)var y=o?r(g,p,f,t,n,s):r(p,g,f,n,t,s);if(y!==void 0){if(y)continue;h=!1;break}if(d){if(!Hh(t,function(w,v){if(!Fh(d,v)&&(p===w||i(p,w,e,r,s)))return d.push(v)})){h=!1;break}}else if(!(p===g||i(p,g,e,r,s))){h=!1;break}}return s.delete(n),s.delete(t),h}function Wh(n){var t=-1,e=Array(n.size);return n.forEach(function(r,i){e[++t]=[i,r]}),e}function Kh(n){var t=-1,e=Array(n.size);return n.forEach(function(r){e[++t]=r}),e}var Zh=1,Yh=2,Xh="[object Boolean]",Qh="[object Date]",Jh="[object Error]",tf="[object Map]",ef="[object Number]",rf="[object RegExp]",nf="[object Set]",sf="[object String]",of="[object Symbol]",lf="[object ArrayBuffer]",af="[object DataView]",zi=Jt?Jt.prototype:void 0,Jr=zi?zi.valueOf:void 0;function cf(n,t,e,r,i,s,o){switch(e){case af:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case lf:return!(n.byteLength!=t.byteLength||!s(new Or(n),new Or(t)));case Xh:case Qh:case ef:return Je(+n,+t);case Jh:return n.name==t.name&&n.message==t.message;case rf:case sf:return n==t+"";case tf:var l=Wh;case nf:var a=r&Zh;if(l||(l=Kh),n.size!=t.size&&!a)return!1;var c=o.get(n);if(c)return c==t;r|=Yh,o.set(n,t);var u=Ys(l(n),l(t),r,i,s,o);return o.delete(n),u;case of:if(Jr)return Jr.call(n)==Jr.call(t)}return!1}var uf=1,hf=Object.prototype,ff=hf.hasOwnProperty;function df(n,t,e,r,i,s){var o=e&uf,l=pn(n),a=l.length,c=pn(t),u=c.length;if(a!=u&&!o)return!1;for(var f=a;f--;){var h=l[f];if(!(o?h in t:ff.call(t,h)))return!1}var d=s.get(n),p=s.get(t);if(d&&p)return d==t&&p==n;var g=!0;s.set(n,t),s.set(t,n);for(var y=o;++f<a;){h=l[f];var w=n[h],v=t[h];if(r)var N=o?r(v,w,h,t,n,s):r(w,v,h,n,t,s);if(!(N===void 0?w===v||i(w,v,e,r,s):N)){g=!1;break}y||(y=h=="constructor")}if(g&&!y){var x=n.constructor,S=t.constructor;x!=S&&"constructor"in n&&"constructor"in t&&!(typeof x=="function"&&x instanceof x&&typeof S=="function"&&S instanceof S)&&(g=!1)}return s.delete(n),s.delete(t),g}var pf=1,Hi="[object Arguments]",Fi="[object Array]",hr="[object Object]",gf=Object.prototype,Vi=gf.hasOwnProperty;function mf(n,t,e,r,i,s){var o=oe(n),l=oe(t),a=o?Fi:Lt(n),c=l?Fi:Lt(t);a=a==Hi?hr:a,c=c==Hi?hr:c;var u=a==hr,f=c==hr,h=a==c;if(h&&Ge(n)){if(!Ge(t))return!1;o=!0,u=!1}if(h&&!u)return s||(s=new jt),o||Dn(n)?Ys(n,t,e,r,i,s):cf(n,t,a,e,r,i,s);if(!(e&pf)){var d=u&&Vi.call(n,"__wrapped__"),p=f&&Vi.call(t,"__wrapped__");if(d||p){var g=d?n.value():n,y=p?t.value():t;return s||(s=new jt),i(g,y,e,r,s)}}return h?(s||(s=new jt),df(n,t,e,r,i,s)):!1}function Xs(n,t,e,r,i){return n===t?!0:n==null||t==null||!Ht(n)&&!Ht(t)?n!==n&&t!==t:mf(n,t,e,r,Xs,i)}function bf(n){return function(t,e,r){for(var i=-1,s=Object(t),o=r(t),l=o.length;l--;){var a=o[++i];if(e(s[a],a,s)===!1)break}return t}}var yf=bf();function yn(n,t,e){(e!==void 0&&!Je(n[t],e)||e===void 0&&!(t in n))&&Pn(n,t,e)}function vf(n){return Ht(n)&&kr(n)}function vn(n,t){if(!(t==="constructor"&&typeof n[t]=="function")&&t!="__proto__")return n[t]}function wf(n){return za(n,$s(n))}function xf(n,t,e,r,i,s,o){var l=vn(n,e),a=vn(t,e),c=o.get(a);if(c){yn(n,e,c);return}var u=s?s(l,a,e+"",n,t,o):void 0,f=u===void 0;if(f){var h=oe(a),d=!h&&Ge(a),p=!h&&!d&&Dn(a);u=a,h||d||p?oe(l)?u=l:vf(l)?u=Ca(l):d?(f=!1,u=Fs(a,!0)):p?(f=!1,u=Vs(a,!0)):u=[]:gu(a)||dn(a)?(u=l,dn(l)?u=wf(l):(!ee(l)||jn(l))&&(u=Gs(a))):f=!1}f&&(o.set(a,u),i(u,a,r,s,o),o.delete(a)),yn(n,e,u)}function Qs(n,t,e,r,i){n!==t&&yf(t,function(s,o){if(i||(i=new jt),ee(s))xf(n,t,o,e,Qs,r,i);else{var l=r?r(vn(n,o),s,o+"",n,t,i):void 0;l===void 0&&(l=s),yn(n,o,l)}},$s)}function Un(n,t){return Xs(n,t)}var Qt=Wa(function(n,t,e){Qs(n,t,e)}),K=(n=>(n[n.TYPE=3]="TYPE",n[n.LEVEL=12]="LEVEL",n[n.ATTRIBUTE=13]="ATTRIBUTE",n[n.BLOT=14]="BLOT",n[n.INLINE=7]="INLINE",n[n.BLOCK=11]="BLOCK",n[n.BLOCK_BLOT=10]="BLOCK_BLOT",n[n.INLINE_BLOT=6]="INLINE_BLOT",n[n.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",n[n.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",n[n.ANY=15]="ANY",n))(K||{});class Mt{constructor(t,e,r={}){this.attrName=t,this.keyName=e;const i=K.TYPE&K.ATTRIBUTE;this.scope=r.scope!=null?r.scope&K.LEVEL|i:K.ATTRIBUTE,r.whitelist!=null&&(this.whitelist=r.whitelist)}static keys(t){return Array.from(t.attributes).map(e=>e.name)}add(t,e){return this.canAdd(t,e)?(t.setAttribute(this.keyName,e),!0):!1}canAdd(t,e){return this.whitelist==null?!0:typeof e=="string"?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1}remove(t){t.removeAttribute(this.keyName)}value(t){const e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""}}class Ne extends Error{constructor(t){t="[Parchment] "+t,super(t),this.message=t,this.name=this.constructor.name}}const Js=class wn{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,e=!1){if(t==null)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(e){let r=null;try{r=t.parentNode}catch{return null}return this.find(r,e)}return null}create(t,e,r){const i=this.query(e);if(i==null)throw new Ne(`Unable to create ${e} blot`);const s=i,o=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:s.create(r),l=new s(t,o,r);return wn.blots.set(l.domNode,l),l}find(t,e=!1){return wn.find(t,e)}query(t,e=K.ANY){let r;return typeof t=="string"?r=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?r=this.types.text:typeof t=="number"?t&K.LEVEL&K.BLOCK?r=this.types.block:t&K.LEVEL&K.INLINE&&(r=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some(i=>(r=this.classes[i],!!r)),r=r||this.tags[t.tagName]),r==null?null:"scope"in r&&e&K.LEVEL&r.scope&&e&K.TYPE&r.scope?r:null}register(...t){return t.map(e=>{const r="blotName"in e,i="attrName"in e;if(!r&&!i)throw new Ne("Invalid definition");if(r&&e.blotName==="abstract")throw new Ne("Cannot register abstract class");const s=r?e.blotName:i?e.attrName:void 0;return this.types[s]=e,i?typeof e.keyName=="string"&&(this.attributes[e.keyName]=e):r&&(e.className&&(this.classes[e.className]=e),e.tagName&&(Array.isArray(e.tagName)?e.tagName=e.tagName.map(o=>o.toUpperCase()):e.tagName=e.tagName.toUpperCase(),(Array.isArray(e.tagName)?e.tagName:[e.tagName]).forEach(o=>{(this.tags[o]==null||e.className==null)&&(this.tags[o]=e)}))),e})}};Js.blots=new WeakMap;let Le=Js;function Gi(n,t){return(n.getAttribute("class")||"").split(/\s+/).filter(e=>e.indexOf(`${t}-`)===0)}class Af extends Mt{static keys(t){return(t.getAttribute("class")||"").split(/\s+/).map(e=>e.split("-").slice(0,-1).join("-"))}add(t,e){return this.canAdd(t,e)?(this.remove(t),t.classList.add(`${this.keyName}-${e}`),!0):!1}remove(t){Gi(t,this.keyName).forEach(e=>{t.classList.remove(e)}),t.classList.length===0&&t.removeAttribute("class")}value(t){const e=(Gi(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""}}const It=Af;function tn(n){const t=n.split("-"),e=t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("");return t[0]+e}class Ef extends Mt{static keys(t){return(t.getAttribute("style")||"").split(";").map(e=>e.split(":")[0].trim())}add(t,e){return this.canAdd(t,e)?(t.style[tn(this.keyName)]=e,!0):!1}remove(t){t.style[tn(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")}value(t){const e=t.style[tn(this.keyName)];return this.canAdd(t,e)?e:""}}const re=Ef;class Tf{constructor(t){this.attributes={},this.domNode=t,this.build()}attribute(t,e){e?t.add(this.domNode,e)&&(t.value(this.domNode)!=null?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])}build(){this.attributes={};const t=Le.find(this.domNode);if(t==null)return;const e=Mt.keys(this.domNode),r=It.keys(this.domNode),i=re.keys(this.domNode);e.concat(r).concat(i).forEach(s=>{const o=t.scroll.query(s,K.ATTRIBUTE);o instanceof Mt&&(this.attributes[o.attrName]=o)})}copy(t){Object.keys(this.attributes).forEach(e=>{const r=this.attributes[e].value(this.domNode);t.format(e,r)})}move(t){this.copy(t),Object.keys(this.attributes).forEach(e=>{this.attributes[e].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((t,e)=>(t[e]=this.attributes[e].value(this.domNode),t),{})}}const Rr=Tf,to=class{constructor(t,e){this.scroll=t,this.domNode=e,Le.blots.set(e,this),this.prev=null,this.next=null}static create(t){if(this.tagName==null)throw new Ne("Blot definition missing tagName");let e,r;return Array.isArray(this.tagName)?(typeof t=="string"?(r=t.toUpperCase(),parseInt(r,10).toString()===r&&(r=parseInt(r,10))):typeof t=="number"&&(r=t),typeof r=="number"?e=document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?e=document.createElement(r):e=document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e}get statics(){return this.constructor}attach(){}clone(){const t=this.domNode.cloneNode(!1);return this.scroll.create(t)}detach(){this.parent!=null&&this.parent.removeChild(this),Le.blots.delete(this.domNode)}deleteAt(t,e){this.isolate(t,e).remove()}formatAt(t,e,r,i){const s=this.isolate(t,e);if(this.scroll.query(r,K.BLOT)!=null&&i)s.wrap(r,i);else if(this.scroll.query(r,K.ATTRIBUTE)!=null){const o=this.scroll.create(this.statics.scope);s.wrap(o),o.format(r,i)}}insertAt(t,e,r){const i=r==null?this.scroll.create("text",e):this.scroll.create(e,r),s=this.split(t);this.parent.insertBefore(i,s||void 0)}isolate(t,e){const r=this.split(t);if(r==null)throw new Error("Attempt to isolate at end");return r.split(e),r}length(){return 1}offset(t=this.parent){return this.parent==null||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)}optimize(t){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(t,e){const r=typeof t=="string"?this.scroll.create(t,e):t;return this.parent!=null&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(t,e){return t===0?this:this.next}update(t,e){}wrap(t,e){const r=typeof t=="string"?this.scroll.create(t,e):t;if(this.parent!=null&&this.parent.insertBefore(r,this.next||void 0),typeof r.appendChild!="function")throw new Ne(`Cannot wrap ${t}`);return r.appendChild(this),r}};to.blotName="abstract";let eo=to;const ro=class extends eo{static value(t){return!0}index(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1}position(t,e){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};ro.scope=K.INLINE_BLOT;let Nf=ro;const pt=Nf;class Of{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const e=t.slice(1);this.append(...e)}}at(t){const e=this.iterator();let r=e();for(;r&&t>0;)t-=1,r=e();return r}contains(t){const e=this.iterator();let r=e();for(;r;){if(r===t)return!0;r=e()}return!1}indexOf(t){const e=this.iterator();let r=e(),i=0;for(;r;){if(r===t)return i;i+=1,r=e()}return-1}insertBefore(t,e){t!=null&&(this.remove(t),t.next=e,e!=null?(t.prev=e.prev,e.prev!=null&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):this.tail!=null?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let e=0,r=this.head;for(;r!=null;){if(r===t)return e;e+=r.length(),r=r.next}return-1}remove(t){this.contains(t)&&(t.prev!=null&&(t.prev.next=t.next),t.next!=null&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const e=t;return t!=null&&(t=t.next),e}}find(t,e=!1){const r=this.iterator();let i=r();for(;i;){const s=i.length();if(t<s||e&&t===s&&(i.next==null||i.next.length()!==0))return[i,t];t-=s,i=r()}return[null,0]}forEach(t){const e=this.iterator();let r=e();for(;r;)t(r),r=e()}forEachAt(t,e,r){if(e<=0)return;const[i,s]=this.find(t);let o=t-s;const l=this.iterator(i);let a=l();for(;a&&o<t+e;){const c=a.length();t>o?r(a,t-o,Math.min(e,o+c-t)):r(a,0,Math.min(c,t+e-o)),o+=c,a=l()}}map(t){return this.reduce((e,r)=>(e.push(t(r)),e),[])}reduce(t,e){const r=this.iterator();let i=r();for(;i;)e=t(e,i),i=r();return e}}function Wi(n,t){const e=t.find(n);if(e)return e;try{return t.create(n)}catch{const r=t.create(K.INLINE);return Array.from(n.childNodes).forEach(i=>{r.domNode.appendChild(i)}),n.parentNode&&n.parentNode.replaceChild(r.domNode,n),r.attach(),r}}const no=class Zt extends eo{constructor(t,e){super(t,e),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach(t=>{t.attach()})}attachUI(t){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=t,Zt.uiClass&&this.uiNode.classList.add(Zt.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new Of,Array.from(this.domNode.childNodes).filter(t=>t!==this.uiNode).reverse().forEach(t=>{try{const e=Wi(t,this.scroll);this.insertBefore(e,this.children.head||void 0)}catch(e){if(e instanceof Ne)return;throw e}})}deleteAt(t,e){if(t===0&&e===this.length())return this.remove();this.children.forEachAt(t,e,(r,i,s)=>{r.deleteAt(i,s)})}descendant(t,e=0){const[r,i]=this.children.find(e);return t.blotName==null&&t(r)||t.blotName!=null&&r instanceof t?[r,i]:r instanceof Zt?r.descendant(t,i):[null,-1]}descendants(t,e=0,r=Number.MAX_VALUE){let i=[],s=r;return this.children.forEachAt(e,r,(o,l,a)=>{(t.blotName==null&&t(o)||t.blotName!=null&&o instanceof t)&&i.push(o),o instanceof Zt&&(i=i.concat(o.descendants(t,l,s))),s-=a}),i}detach(){this.children.forEach(t=>{t.detach()}),super.detach()}enforceAllowedChildren(){let t=!1;this.children.forEach(e=>{t||this.statics.allowedChildren.some(r=>e instanceof r)||(e.statics.scope===K.BLOCK_BLOT?(e.next!=null&&this.splitAfter(e),e.prev!=null&&this.splitAfter(e.prev),e.parent.unwrap(),t=!0):e instanceof Zt?e.unwrap():e.remove())})}formatAt(t,e,r,i){this.children.forEachAt(t,e,(s,o,l)=>{s.formatAt(o,l,r,i)})}insertAt(t,e,r){const[i,s]=this.children.find(t);if(i)i.insertAt(s,e,r);else{const o=r==null?this.scroll.create("text",e):this.scroll.create(e,r);this.appendChild(o)}}insertBefore(t,e){t.parent!=null&&t.parent.children.remove(t);let r=null;this.children.insertBefore(t,e||null),t.parent=this,e!=null&&(r=e.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(t.domNode,r),t.attach()}length(){return this.children.reduce((t,e)=>t+e.length(),0)}moveChildren(t,e){this.children.forEach(r=>{t.insertBefore(r,e)})}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const e=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(e)}else this.remove()}path(t,e=!1){const[r,i]=this.children.find(t,e),s=[[this,t]];return r instanceof Zt?s.concat(r.path(i,e)):(r!=null&&s.push([r,i]),s)}removeChild(t){this.children.remove(t)}replaceWith(t,e){const r=typeof t=="string"?this.scroll.create(t,e):t;return r instanceof Zt&&this.moveChildren(r),super.replaceWith(r)}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(t,this.length(),(i,s,o)=>{const l=i.split(s,e);l!=null&&r.appendChild(l)}),r}splitAfter(t){const e=this.clone();for(;t.next!=null;)e.appendChild(t.next);return this.parent&&this.parent.insertBefore(e,this.next||void 0),e}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,e){const r=[],i=[];t.forEach(s=>{s.target===this.domNode&&s.type==="childList"&&(r.push(...s.addedNodes),i.push(...s.removedNodes))}),i.forEach(s=>{if(s.parentNode!=null&&s.tagName!=="IFRAME"&&document.body.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const o=this.scroll.find(s);o!=null&&(o.domNode.parentNode==null||o.domNode.parentNode===this.domNode)&&o.detach()}),r.filter(s=>s.parentNode===this.domNode&&s!==this.uiNode).sort((s,o)=>s===o?0:s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(s=>{let o=null;s.nextSibling!=null&&(o=this.scroll.find(s.nextSibling));const l=Wi(s,this.scroll);(l.next!==o||l.next==null)&&(l.parent!=null&&l.parent.removeChild(this),this.insertBefore(l,o||void 0))}),this.enforceAllowedChildren()}};no.uiClass="";let Sf=no;const qt=Sf;function Lf(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const e in n)if(n[e]!==t[e])return!1;return!0}const ye=class ve extends qt{static create(t){return super.create(t)}static formats(t,e){const r=e.query(ve.blotName);if(!(r!=null&&t.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new Rr(this.domNode)}format(t,e){if(t===this.statics.blotName&&!e)this.children.forEach(r=>{r instanceof ve||(r=r.wrap(ve.blotName,!0)),this.attributes.copy(r)}),this.unwrap();else{const r=this.scroll.query(t,K.INLINE);if(r==null)return;r instanceof Mt?this.attributes.attribute(r,e):e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e)}}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,r,i){this.formats()[r]!=null||this.scroll.query(r,K.ATTRIBUTE)?this.isolate(t,e).format(r,i):super.formatAt(t,e,r,i)}optimize(t){super.optimize(t);const e=this.formats();if(Object.keys(e).length===0)return this.unwrap();const r=this.next;r instanceof ve&&r.prev===this&&Lf(e,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(t,e){const r=super.replaceWith(t,e);return this.attributes.copy(r),r}update(t,e){super.update(t,e),t.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}wrap(t,e){const r=super.wrap(t,e);return r instanceof ve&&this.attributes.move(r),r}};ye.allowedChildren=[ye,pt],ye.blotName="inline",ye.scope=K.INLINE_BLOT,ye.tagName="SPAN";let Cf=ye;const zn=Cf,we=class xn extends qt{static create(t){return super.create(t)}static formats(t,e){const r=e.query(xn.blotName);if(!(r!=null&&t.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new Rr(this.domNode)}format(t,e){const r=this.scroll.query(t,K.BLOCK);r!=null&&(r instanceof Mt?this.attributes.attribute(r,e):t===this.statics.blotName&&!e?this.replaceWith(xn.blotName):e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e))}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,r,i){this.scroll.query(r,K.BLOCK)!=null?this.format(r,i):super.formatAt(t,e,r,i)}insertAt(t,e,r){if(r==null||this.scroll.query(e,K.INLINE)!=null)super.insertAt(t,e,r);else{const i=this.split(t);if(i!=null){const s=this.scroll.create(e,r);i.parent.insertBefore(s,i)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(t,e){const r=super.replaceWith(t,e);return this.attributes.copy(r),r}update(t,e){super.update(t,e),t.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}};we.blotName="block",we.scope=K.BLOCK_BLOT,we.tagName="P",we.allowedChildren=[zn,we,pt];let qf=we;const Ze=qf,An=class extends qt{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(t,e){super.deleteAt(t,e),this.enforceAllowedChildren()}formatAt(t,e,r,i){super.formatAt(t,e,r,i),this.enforceAllowedChildren()}insertAt(t,e,r){super.insertAt(t,e,r),this.enforceAllowedChildren()}optimize(t){super.optimize(t),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};An.blotName="container",An.scope=K.BLOCK_BLOT;let kf=An;const jr=kf;class If extends pt{static formats(t,e){}format(t,e){super.formatAt(0,this.length(),t,e)}formatAt(t,e,r,i){t===0&&e===this.length()?this.format(r,i):super.formatAt(t,e,r,i)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const wt=If,_f={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},Rf=100,xe=class extends qt{constructor(t,e){super(null,e),this.registry=t,this.scroll=this,this.build(),this.observer=new MutationObserver(r=>{this.update(r)}),this.observer.observe(this.domNode,_f),this.attach()}create(t,e){return this.registry.create(this,t,e)}find(t,e=!1){const r=this.registry.find(t,e);return r?r.scroll===this?r:e?this.find(r.scroll.domNode.parentNode,!0):null:null}query(t,e=K.ANY){return this.registry.query(t,e)}register(...t){return this.registry.register(...t)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(t,e){this.update(),t===0&&e===this.length()?this.children.forEach(r=>{r.remove()}):super.deleteAt(t,e)}formatAt(t,e,r,i){this.update(),super.formatAt(t,e,r,i)}insertAt(t,e,r){this.update(),super.insertAt(t,e,r)}optimize(t=[],e={}){super.optimize(e);const r=e.mutationsMap||new WeakMap;let i=Array.from(this.observer.takeRecords());for(;i.length>0;)t.push(i.pop());const s=(a,c=!0)=>{a==null||a===this||a.domNode.parentNode!=null&&(r.has(a.domNode)||r.set(a.domNode,[]),c&&s(a.parent))},o=a=>{r.has(a.domNode)&&(a instanceof qt&&a.children.forEach(o),r.delete(a.domNode),a.optimize(e))};let l=t;for(let a=0;l.length>0;a+=1){if(a>=Rf)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach(c=>{const u=this.find(c.target,!0);u!=null&&(u.domNode===c.target&&(c.type==="childList"?(s(this.find(c.previousSibling,!1)),Array.from(c.addedNodes).forEach(f=>{const h=this.find(f,!1);s(h,!1),h instanceof qt&&h.children.forEach(d=>{s(d,!1)})})):c.type==="attributes"&&s(u.prev)),s(u))}),this.children.forEach(o),l=Array.from(this.observer.takeRecords()),i=l.slice();i.length>0;)t.push(i.pop())}}update(t,e={}){t=t||this.observer.takeRecords();const r=new WeakMap;t.map(i=>{const s=this.find(i.target,!0);return s==null?null:r.has(s.domNode)?(r.get(s.domNode).push(i),null):(r.set(s.domNode,[i]),s)}).forEach(i=>{i!=null&&i!==this&&r.has(i.domNode)&&i.update(r.get(i.domNode)||[],e)}),e.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),e),this.optimize(t,e)}};xe.blotName="scroll",xe.defaultChild=Ze,xe.allowedChildren=[Ze,jr],xe.scope=K.BLOCK_BLOT,xe.tagName="DIV";let jf=xe;const Hn=jf,En=class io extends pt{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,e){super(t,e),this.text=this.statics.value(this.domNode)}deleteAt(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)}index(t,e){return this.domNode===t?e:-1}insertAt(t,e,r){r==null?(this.text=this.text.slice(0,t)+e+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,e,r)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof io&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,e=!1){return[this.domNode,t]}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(t,e){t.some(r=>r.type==="characterData"&&r.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};En.blotName="text",En.scope=K.INLINE_BLOT;let Pf=En;const Lr=Pf,so=Object.freeze(Object.defineProperty({__proto__:null,Attributor:Mt,AttributorStore:Rr,BlockBlot:Ze,ClassAttributor:It,ContainerBlot:jr,EmbedBlot:wt,InlineBlot:zn,LeafBlot:pt,ParentBlot:qt,Registry:Le,Scope:K,ScrollBlot:Hn,StyleAttributor:re,TextBlot:Lr},Symbol.toStringTag,{value:"Module"}));var fr={exports:{}},en,Ki;function Mf(){if(Ki)return en;Ki=1;var n=-1,t=1,e=0;function r(m,T,A,k,I){if(m===T)return m?[[e,m]]:[];if(A!=null){var L=z(m,T,A);if(L)return L}var _=l(m,T),j=m.substring(0,_);m=m.substring(_),T=T.substring(_),_=c(m,T);var M=m.substring(m.length-_);m=m.substring(0,m.length-_),T=T.substring(0,T.length-_);var R=i(m,T);return j&&R.unshift([e,j]),M&&R.push([e,M]),v(R,I),k&&f(R),R}function i(m,T){var A;if(!m)return[[t,T]];if(!T)return[[n,m]];var k=m.length>T.length?m:T,I=m.length>T.length?T:m,L=k.indexOf(I);if(L!==-1)return A=[[t,k.substring(0,L)],[e,I],[t,k.substring(L+I.length)]],m.length>T.length&&(A[0][0]=A[2][0]=n),A;if(I.length===1)return[[n,m],[t,T]];var _=u(m,T);if(_){var j=_[0],M=_[1],R=_[2],H=_[3],$=_[4],U=r(j,R),V=r(M,H);return U.concat([[e,$]],V)}return s(m,T)}function s(m,T){for(var A=m.length,k=T.length,I=Math.ceil((A+k)/2),L=I,_=2*I,j=new Array(_),M=new Array(_),R=0;R<_;R++)j[R]=-1,M[R]=-1;j[L+1]=0,M[L+1]=0;for(var H=A-k,$=H%2!==0,U=0,V=0,D=0,J=0,X=0;X<I;X++){for(var rt=-X+U;rt<=X-V;rt+=2){var et=L+rt,tt;rt===-X||rt!==X&&j[et-1]<j[et+1]?tt=j[et+1]:tt=j[et-1]+1;for(var Q=tt-rt;tt<A&&Q<k&&m.charAt(tt)===T.charAt(Q);)tt++,Q++;if(j[et]=tt,tt>A)V+=2;else if(Q>k)U+=2;else if($){var nt=L+H-rt;if(nt>=0&&nt<_&&M[nt]!==-1){var it=A-M[nt];if(tt>=it)return o(m,T,tt,Q)}}}for(var st=-X+D;st<=X-J;st+=2){var nt=L+st,it;st===-X||st!==X&&M[nt-1]<M[nt+1]?it=M[nt+1]:it=M[nt-1]+1;for(var ot=it-st;it<A&&ot<k&&m.charAt(A-it-1)===T.charAt(k-ot-1);)it++,ot++;if(M[nt]=it,it>A)J+=2;else if(ot>k)D+=2;else if(!$){var et=L+H-st;if(et>=0&&et<_&&j[et]!==-1){var tt=j[et],Q=L+tt-et;if(it=A-it,tt>=it)return o(m,T,tt,Q)}}}}return[[n,m],[t,T]]}function o(m,T,A,k){var I=m.substring(0,A),L=T.substring(0,k),_=m.substring(A),j=T.substring(k),M=r(I,L),R=r(_,j);return M.concat(R)}function l(m,T){if(!m||!T||m.charAt(0)!==T.charAt(0))return 0;for(var A=0,k=Math.min(m.length,T.length),I=k,L=0;A<I;)m.substring(L,I)==T.substring(L,I)?(A=I,L=A):k=I,I=Math.floor((k-A)/2+A);return N(m.charCodeAt(I-1))&&I--,I}function a(m,T){var A=m.length,k=T.length;if(A==0||k==0)return 0;A>k?m=m.substring(A-k):A<k&&(T=T.substring(0,A));var I=Math.min(A,k);if(m==T)return I;for(var L=0,_=1;;){var j=m.substring(I-_),M=T.indexOf(j);if(M==-1)return L;_+=M,(M==0||m.substring(I-_)==T.substring(0,_))&&(L=_,_++)}}function c(m,T){if(!m||!T||m.slice(-1)!==T.slice(-1))return 0;for(var A=0,k=Math.min(m.length,T.length),I=k,L=0;A<I;)m.substring(m.length-I,m.length-L)==T.substring(T.length-I,T.length-L)?(A=I,L=A):k=I,I=Math.floor((k-A)/2+A);return x(m.charCodeAt(m.length-I))&&I--,I}function u(m,T){var A=m.length>T.length?m:T,k=m.length>T.length?T:m;if(A.length<4||k.length*2<A.length)return null;function I(V,D,J){for(var X=V.substring(J,J+Math.floor(V.length/4)),rt=-1,et="",tt,Q,nt,it;(rt=D.indexOf(X,rt+1))!==-1;){var st=l(V.substring(J),D.substring(rt)),ot=c(V.substring(0,J),D.substring(0,rt));et.length<ot+st&&(et=D.substring(rt-ot,rt)+D.substring(rt,rt+st),tt=V.substring(0,J-ot),Q=V.substring(J+st),nt=D.substring(0,rt-ot),it=D.substring(rt+st))}return et.length*2>=V.length?[tt,Q,nt,it,et]:null}var L=I(A,k,Math.ceil(A.length/4)),_=I(A,k,Math.ceil(A.length/2)),j;if(!L&&!_)return null;_?L?j=L[4].length>_[4].length?L:_:j=_:j=L;var M,R,H,$;m.length>T.length?(M=j[0],R=j[1],H=j[2],$=j[3]):(H=j[0],$=j[1],M=j[2],R=j[3]);var U=j[4];return[M,R,H,$,U]}function f(m){for(var T=!1,A=[],k=0,I=null,L=0,_=0,j=0,M=0,R=0;L<m.length;)m[L][0]==e?(A[k++]=L,_=M,j=R,M=0,R=0,I=m[L][1]):(m[L][0]==t?M+=m[L][1].length:R+=m[L][1].length,I&&I.length<=Math.max(_,j)&&I.length<=Math.max(M,R)&&(m.splice(A[k-1],0,[n,I]),m[A[k-1]+1][0]=t,k--,k--,L=k>0?A[k-1]:-1,_=0,j=0,M=0,R=0,I=null,T=!0)),L++;for(T&&v(m),w(m),L=1;L<m.length;){if(m[L-1][0]==n&&m[L][0]==t){var H=m[L-1][1],$=m[L][1],U=a(H,$),V=a($,H);U>=V?(U>=H.length/2||U>=$.length/2)&&(m.splice(L,0,[e,$.substring(0,U)]),m[L-1][1]=H.substring(0,H.length-U),m[L+1][1]=$.substring(U),L++):(V>=H.length/2||V>=$.length/2)&&(m.splice(L,0,[e,H.substring(0,V)]),m[L-1][0]=t,m[L-1][1]=$.substring(0,$.length-V),m[L+1][0]=n,m[L+1][1]=H.substring(V),L++),L++}L++}}var h=/[^a-zA-Z0-9]/,d=/\s/,p=/[\r\n]/,g=/\n\r?\n$/,y=/^\r?\n\r?\n/;function w(m){function T(V,D){if(!V||!D)return 6;var J=V.charAt(V.length-1),X=D.charAt(0),rt=J.match(h),et=X.match(h),tt=rt&&J.match(d),Q=et&&X.match(d),nt=tt&&J.match(p),it=Q&&X.match(p),st=nt&&V.match(g),ot=it&&D.match(y);return st||ot?5:nt||it?4:rt&&!tt&&Q?3:tt||Q?2:rt||et?1:0}for(var A=1;A<m.length-1;){if(m[A-1][0]==e&&m[A+1][0]==e){var k=m[A-1][1],I=m[A][1],L=m[A+1][1],_=c(k,I);if(_){var j=I.substring(I.length-_);k=k.substring(0,k.length-_),I=j+I.substring(0,I.length-_),L=j+L}for(var M=k,R=I,H=L,$=T(k,I)+T(I,L);I.charAt(0)===L.charAt(0);){k+=I.charAt(0),I=I.substring(1)+L.charAt(0),L=L.substring(1);var U=T(k,I)+T(I,L);U>=$&&($=U,M=k,R=I,H=L)}m[A-1][1]!=M&&(M?m[A-1][1]=M:(m.splice(A-1,1),A--),m[A][1]=R,H?m[A+1][1]=H:(m.splice(A+1,1),A--))}A++}}function v(m,T){m.push([e,""]);for(var A=0,k=0,I=0,L="",_="",j;A<m.length;){if(A<m.length-1&&!m[A][1]){m.splice(A,1);continue}switch(m[A][0]){case t:I++,_+=m[A][1],A++;break;case n:k++,L+=m[A][1],A++;break;case e:var M=A-I-k-1;if(T){if(M>=0&&E(m[M][1])){var R=m[M][1].slice(-1);if(m[M][1]=m[M][1].slice(0,-1),L=R+L,_=R+_,!m[M][1]){m.splice(M,1),A--;var H=M-1;m[H]&&m[H][0]===t&&(I++,_=m[H][1]+_,H--),m[H]&&m[H][0]===n&&(k++,L=m[H][1]+L,H--),M=H}}if(S(m[A][1])){var R=m[A][1].charAt(0);m[A][1]=m[A][1].slice(1),L+=R,_+=R}}if(A<m.length-1&&!m[A][1]){m.splice(A,1);break}if(L.length>0||_.length>0){L.length>0&&_.length>0&&(j=l(_,L),j!==0&&(M>=0?m[M][1]+=_.substring(0,j):(m.splice(0,0,[e,_.substring(0,j)]),A++),_=_.substring(j),L=L.substring(j)),j=c(_,L),j!==0&&(m[A][1]=_.substring(_.length-j)+m[A][1],_=_.substring(0,_.length-j),L=L.substring(0,L.length-j)));var $=I+k;L.length===0&&_.length===0?(m.splice(A-$,$),A=A-$):L.length===0?(m.splice(A-$,$,[t,_]),A=A-$+1):_.length===0?(m.splice(A-$,$,[n,L]),A=A-$+1):(m.splice(A-$,$,[n,L],[t,_]),A=A-$+2)}A!==0&&m[A-1][0]===e?(m[A-1][1]+=m[A][1],m.splice(A,1)):A++,I=0,k=0,L="",_="";break}}m[m.length-1][1]===""&&m.pop();var U=!1;for(A=1;A<m.length-1;)m[A-1][0]===e&&m[A+1][0]===e&&(m[A][1].substring(m[A][1].length-m[A-1][1].length)===m[A-1][1]?(m[A][1]=m[A-1][1]+m[A][1].substring(0,m[A][1].length-m[A-1][1].length),m[A+1][1]=m[A-1][1]+m[A+1][1],m.splice(A-1,1),U=!0):m[A][1].substring(0,m[A+1][1].length)==m[A+1][1]&&(m[A-1][1]+=m[A+1][1],m[A][1]=m[A][1].substring(m[A+1][1].length)+m[A+1][1],m.splice(A+1,1),U=!0)),A++;U&&v(m,T)}function N(m){return m>=55296&&m<=56319}function x(m){return m>=56320&&m<=57343}function S(m){return x(m.charCodeAt(0))}function E(m){return N(m.charCodeAt(m.length-1))}function C(m){for(var T=[],A=0;A<m.length;A++)m[A][1].length>0&&T.push(m[A]);return T}function O(m,T,A,k){return E(m)||S(k)?null:C([[e,m],[n,T],[t,A],[e,k]])}function z(m,T,A){var k=typeof A=="number"?{index:A,length:0}:A.oldRange,I=typeof A=="number"?null:A.newRange,L=m.length,_=T.length;if(k.length===0&&(I===null||I.length===0)){var j=k.index,M=m.slice(0,j),R=m.slice(j),H=I?I.index:null;t:{var $=j+_-L;if(H!==null&&H!==$||$<0||$>_)break t;var U=T.slice(0,$),V=T.slice($);if(V!==R)break t;var D=Math.min(j,$),J=M.slice(0,D),X=U.slice(0,D);if(J!==X)break t;var rt=M.slice(D),et=U.slice(D);return O(J,rt,et,R)}t:{if(H!==null&&H!==j)break t;var tt=j,U=T.slice(0,tt),V=T.slice(tt);if(U!==M)break t;var Q=Math.min(L-tt,_-tt),nt=R.slice(R.length-Q),it=V.slice(V.length-Q);if(nt!==it)break t;var rt=R.slice(0,R.length-Q),et=V.slice(0,V.length-Q);return O(M,rt,et,nt)}}if(k.length>0&&I&&I.length===0)t:{var J=m.slice(0,k.index),nt=m.slice(k.index+k.length),D=J.length,Q=nt.length;if(_<D+Q)break t;var X=T.slice(0,D),it=T.slice(_-Q);if(J!==X||nt!==it)break t;var rt=m.slice(D,L-Q),et=T.slice(D,_-Q);return O(J,rt,et,nt)}return null}function Z(m,T,A,k){return r(m,T,A,k,!0)}return Z.INSERT=t,Z.DELETE=n,Z.EQUAL=e,en=Z,en}var De={exports:{}};De.exports;var Zi;function oo(){return Zi||(Zi=1,function(n,t){var e=200,r="__lodash_hash_undefined__",i=9007199254740991,s="[object Arguments]",o="[object Array]",l="[object Boolean]",a="[object Date]",c="[object Error]",u="[object Function]",f="[object GeneratorFunction]",h="[object Map]",d="[object Number]",p="[object Object]",g="[object Promise]",y="[object RegExp]",w="[object Set]",v="[object String]",N="[object Symbol]",x="[object WeakMap]",S="[object ArrayBuffer]",E="[object DataView]",C="[object Float32Array]",O="[object Float64Array]",z="[object Int8Array]",Z="[object Int16Array]",m="[object Int32Array]",T="[object Uint8Array]",A="[object Uint8ClampedArray]",k="[object Uint16Array]",I="[object Uint32Array]",L=/[\\^$.*+?()[\]{}|]/g,_=/\w*$/,j=/^\[object .+?Constructor\]$/,M=/^(?:0|[1-9]\d*)$/,R={};R[s]=R[o]=R[S]=R[E]=R[l]=R[a]=R[C]=R[O]=R[z]=R[Z]=R[m]=R[h]=R[d]=R[p]=R[y]=R[w]=R[v]=R[N]=R[T]=R[A]=R[k]=R[I]=!0,R[c]=R[u]=R[x]=!1;var H=typeof ur=="object"&&ur&&ur.Object===Object&&ur,$=typeof self=="object"&&self&&self.Object===Object&&self,U=H||$||Function("return this")(),V=t&&!t.nodeType&&t,D=V&&!0&&n&&!n.nodeType&&n,J=D&&D.exports===V;function X(b,q){return b.set(q[0],q[1]),b}function rt(b,q){return b.add(q),b}function et(b,q){for(var B=-1,Y=b?b.length:0;++B<Y&&q(b[B],B,b)!==!1;);return b}function tt(b,q){for(var B=-1,Y=q.length,ft=b.length;++B<Y;)b[ft+B]=q[B];return b}function Q(b,q,B,Y){for(var ft=-1,bt=b?b.length:0;++ft<bt;)B=q(B,b[ft],ft,b);return B}function nt(b,q){for(var B=-1,Y=Array(b);++B<b;)Y[B]=q(B);return Y}function it(b,q){return b==null?void 0:b[q]}function st(b){var q=!1;if(b!=null&&typeof b.toString!="function")try{q=!!(b+"")}catch{}return q}function ot(b){var q=-1,B=Array(b.size);return b.forEach(function(Y,ft){B[++q]=[ft,Y]}),B}function lt(b,q){return function(B){return b(q(B))}}function ut(b){var q=-1,B=Array(b.size);return b.forEach(function(Y){B[++q]=Y}),B}var vt=Array.prototype,ht=Function.prototype,ir=Object.prototype,Dr=U["__core-js_shared__"],ti=function(){var b=/[^.]+$/.exec(Dr&&Dr.keys&&Dr.keys.IE_PROTO||"");return b?"Symbol(src)_1."+b:""}(),ei=ht.toString,Kt=ir.hasOwnProperty,sr=ir.toString,Po=RegExp("^"+ei.call(Kt).replace(L,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ri=J?U.Buffer:void 0,ni=U.Symbol,ii=U.Uint8Array,Mo=lt(Object.getPrototypeOf,Object),Bo=Object.create,Do=ir.propertyIsEnumerable,$o=vt.splice,si=Object.getOwnPropertySymbols,Uo=ri?ri.isBuffer:void 0,zo=lt(Object.keys,Object),$r=me(U,"DataView"),_e=me(U,"Map"),Ur=me(U,"Promise"),zr=me(U,"Set"),Hr=me(U,"WeakMap"),Re=me(Object,"create"),Ho=se($r),Fo=se(_e),Vo=se(Ur),Go=se(zr),Wo=se(Hr),oi=ni?ni.prototype:void 0,li=oi?oi.valueOf:void 0;function ne(b){var q=-1,B=b?b.length:0;for(this.clear();++q<B;){var Y=b[q];this.set(Y[0],Y[1])}}function Ko(){this.__data__=Re?Re(null):{}}function Zo(b){return this.has(b)&&delete this.__data__[b]}function Yo(b){var q=this.__data__;if(Re){var B=q[b];return B===r?void 0:B}return Kt.call(q,b)?q[b]:void 0}function Xo(b){var q=this.__data__;return Re?q[b]!==void 0:Kt.call(q,b)}function Qo(b,q){var B=this.__data__;return B[b]=Re&&q===void 0?r:q,this}ne.prototype.clear=Ko,ne.prototype.delete=Zo,ne.prototype.get=Yo,ne.prototype.has=Xo,ne.prototype.set=Qo;function $t(b){var q=-1,B=b?b.length:0;for(this.clear();++q<B;){var Y=b[q];this.set(Y[0],Y[1])}}function Jo(){this.__data__=[]}function tl(b){var q=this.__data__,B=or(q,b);if(B<0)return!1;var Y=q.length-1;return B==Y?q.pop():$o.call(q,B,1),!0}function el(b){var q=this.__data__,B=or(q,b);return B<0?void 0:q[B][1]}function rl(b){return or(this.__data__,b)>-1}function nl(b,q){var B=this.__data__,Y=or(B,b);return Y<0?B.push([b,q]):B[Y][1]=q,this}$t.prototype.clear=Jo,$t.prototype.delete=tl,$t.prototype.get=el,$t.prototype.has=rl,$t.prototype.set=nl;function pe(b){var q=-1,B=b?b.length:0;for(this.clear();++q<B;){var Y=b[q];this.set(Y[0],Y[1])}}function il(){this.__data__={hash:new ne,map:new(_e||$t),string:new ne}}function sl(b){return lr(this,b).delete(b)}function ol(b){return lr(this,b).get(b)}function ll(b){return lr(this,b).has(b)}function al(b,q){return lr(this,b).set(b,q),this}pe.prototype.clear=il,pe.prototype.delete=sl,pe.prototype.get=ol,pe.prototype.has=ll,pe.prototype.set=al;function ge(b){this.__data__=new $t(b)}function cl(){this.__data__=new $t}function ul(b){return this.__data__.delete(b)}function hl(b){return this.__data__.get(b)}function fl(b){return this.__data__.has(b)}function dl(b,q){var B=this.__data__;if(B instanceof $t){var Y=B.__data__;if(!_e||Y.length<e-1)return Y.push([b,q]),this;B=this.__data__=new pe(Y)}return B.set(b,q),this}ge.prototype.clear=cl,ge.prototype.delete=ul,ge.prototype.get=hl,ge.prototype.has=fl,ge.prototype.set=dl;function pl(b,q){var B=Gr(b)||Bl(b)?nt(b.length,String):[],Y=B.length,ft=!!Y;for(var bt in b)Kt.call(b,bt)&&!(ft&&(bt=="length"||Rl(bt,Y)))&&B.push(bt);return B}function ai(b,q,B){var Y=b[q];(!(Kt.call(b,q)&&fi(Y,B))||B===void 0&&!(q in b))&&(b[q]=B)}function or(b,q){for(var B=b.length;B--;)if(fi(b[B][0],q))return B;return-1}function gl(b,q){return b&&ci(q,Wr(q),b)}function Fr(b,q,B,Y,ft,bt,Ut){var yt;if(Y&&(yt=bt?Y(b,ft,bt,Ut):Y(b)),yt!==void 0)return yt;if(!ar(b))return b;var gi=Gr(b);if(gi){if(yt=kl(b),!q)return Ll(b,yt)}else{var be=ie(b),mi=be==u||be==f;if($l(b))return xl(b,q);if(be==p||be==s||mi&&!bt){if(st(b))return bt?b:{};if(yt=Il(mi?{}:b),!q)return Cl(b,gl(yt,b))}else{if(!R[be])return bt?b:{};yt=_l(b,be,Fr,q)}}Ut||(Ut=new ge);var bi=Ut.get(b);if(bi)return bi;if(Ut.set(b,yt),!gi)var yi=B?ql(b):Wr(b);return et(yi||b,function(Kr,cr){yi&&(cr=Kr,Kr=b[cr]),ai(yt,cr,Fr(Kr,q,B,Y,cr,b,Ut))}),yt}function ml(b){return ar(b)?Bo(b):{}}function bl(b,q,B){var Y=q(b);return Gr(b)?Y:tt(Y,B(b))}function yl(b){return sr.call(b)}function vl(b){if(!ar(b)||Pl(b))return!1;var q=pi(b)||st(b)?Po:j;return q.test(se(b))}function wl(b){if(!hi(b))return zo(b);var q=[];for(var B in Object(b))Kt.call(b,B)&&B!="constructor"&&q.push(B);return q}function xl(b,q){if(q)return b.slice();var B=new b.constructor(b.length);return b.copy(B),B}function Vr(b){var q=new b.constructor(b.byteLength);return new ii(q).set(new ii(b)),q}function Al(b,q){var B=q?Vr(b.buffer):b.buffer;return new b.constructor(B,b.byteOffset,b.byteLength)}function El(b,q,B){var Y=q?B(ot(b),!0):ot(b);return Q(Y,X,new b.constructor)}function Tl(b){var q=new b.constructor(b.source,_.exec(b));return q.lastIndex=b.lastIndex,q}function Nl(b,q,B){var Y=q?B(ut(b),!0):ut(b);return Q(Y,rt,new b.constructor)}function Ol(b){return li?Object(li.call(b)):{}}function Sl(b,q){var B=q?Vr(b.buffer):b.buffer;return new b.constructor(B,b.byteOffset,b.length)}function Ll(b,q){var B=-1,Y=b.length;for(q||(q=Array(Y));++B<Y;)q[B]=b[B];return q}function ci(b,q,B,Y){B||(B={});for(var ft=-1,bt=q.length;++ft<bt;){var Ut=q[ft],yt=void 0;ai(B,Ut,yt===void 0?b[Ut]:yt)}return B}function Cl(b,q){return ci(b,ui(b),q)}function ql(b){return bl(b,Wr,ui)}function lr(b,q){var B=b.__data__;return jl(q)?B[typeof q=="string"?"string":"hash"]:B.map}function me(b,q){var B=it(b,q);return vl(B)?B:void 0}var ui=si?lt(si,Object):Hl,ie=yl;($r&&ie(new $r(new ArrayBuffer(1)))!=E||_e&&ie(new _e)!=h||Ur&&ie(Ur.resolve())!=g||zr&&ie(new zr)!=w||Hr&&ie(new Hr)!=x)&&(ie=function(b){var q=sr.call(b),B=q==p?b.constructor:void 0,Y=B?se(B):void 0;if(Y)switch(Y){case Ho:return E;case Fo:return h;case Vo:return g;case Go:return w;case Wo:return x}return q});function kl(b){var q=b.length,B=b.constructor(q);return q&&typeof b[0]=="string"&&Kt.call(b,"index")&&(B.index=b.index,B.input=b.input),B}function Il(b){return typeof b.constructor=="function"&&!hi(b)?ml(Mo(b)):{}}function _l(b,q,B,Y){var ft=b.constructor;switch(q){case S:return Vr(b);case l:case a:return new ft(+b);case E:return Al(b,Y);case C:case O:case z:case Z:case m:case T:case A:case k:case I:return Sl(b,Y);case h:return El(b,Y,B);case d:case v:return new ft(b);case y:return Tl(b);case w:return Nl(b,Y,B);case N:return Ol(b)}}function Rl(b,q){return q=q??i,!!q&&(typeof b=="number"||M.test(b))&&b>-1&&b%1==0&&b<q}function jl(b){var q=typeof b;return q=="string"||q=="number"||q=="symbol"||q=="boolean"?b!=="__proto__":b===null}function Pl(b){return!!ti&&ti in b}function hi(b){var q=b&&b.constructor,B=typeof q=="function"&&q.prototype||ir;return b===B}function se(b){if(b!=null){try{return ei.call(b)}catch{}try{return b+""}catch{}}return""}function Ml(b){return Fr(b,!0,!0)}function fi(b,q){return b===q||b!==b&&q!==q}function Bl(b){return Dl(b)&&Kt.call(b,"callee")&&(!Do.call(b,"callee")||sr.call(b)==s)}var Gr=Array.isArray;function di(b){return b!=null&&Ul(b.length)&&!pi(b)}function Dl(b){return zl(b)&&di(b)}var $l=Uo||Fl;function pi(b){var q=ar(b)?sr.call(b):"";return q==u||q==f}function Ul(b){return typeof b=="number"&&b>-1&&b%1==0&&b<=i}function ar(b){var q=typeof b;return!!b&&(q=="object"||q=="function")}function zl(b){return!!b&&typeof b=="object"}function Wr(b){return di(b)?pl(b):wl(b)}function Hl(){return[]}function Fl(){return!1}n.exports=Ml}(De,De.exports)),De.exports}var dr={},Yi;function Bf(){if(Yi)return dr;Yi=1,Object.defineProperty(dr,"__esModule",{value:!0});const n=oo(),t=Ls();var e;return function(r){function i(a={},c={},u=!1){typeof a!="object"&&(a={}),typeof c!="object"&&(c={});let f=n(c);u||(f=Object.keys(f).reduce((h,d)=>(f[d]!=null&&(h[d]=f[d]),h),{}));for(const h in a)a[h]!==void 0&&c[h]===void 0&&(f[h]=a[h]);return Object.keys(f).length>0?f:void 0}r.compose=i;function s(a={},c={}){typeof a!="object"&&(a={}),typeof c!="object"&&(c={});const u=Object.keys(a).concat(Object.keys(c)).reduce((f,h)=>(t(a[h],c[h])||(f[h]=c[h]===void 0?null:c[h]),f),{});return Object.keys(u).length>0?u:void 0}r.diff=s;function o(a={},c={}){a=a||{};const u=Object.keys(c).reduce((f,h)=>(c[h]!==a[h]&&a[h]!==void 0&&(f[h]=c[h]),f),{});return Object.keys(a).reduce((f,h)=>(a[h]!==c[h]&&c[h]===void 0&&(f[h]=null),f),u)}r.invert=o;function l(a,c,u=!1){if(typeof a!="object")return c;if(typeof c!="object")return;if(!u)return c;const f=Object.keys(c).reduce((h,d)=>(a[d]===void 0&&(h[d]=c[d]),h),{});return Object.keys(f).length>0?f:void 0}r.transform=l}(e||(e={})),dr.default=e,dr}var pr={},Xi;function lo(){if(Xi)return pr;Xi=1,Object.defineProperty(pr,"__esModule",{value:!0});var n;return function(t){function e(r){return typeof r.delete=="number"?r.delete:typeof r.retain=="number"?r.retain:typeof r.retain=="object"&&r.retain!==null?1:typeof r.insert=="string"?r.insert.length:1}t.length=e}(n||(n={})),pr.default=n,pr}var gr={},Qi;function Df(){if(Qi)return gr;Qi=1,Object.defineProperty(gr,"__esModule",{value:!0});const n=lo();class t{constructor(r){this.ops=r,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(r){r||(r=1/0);const i=this.ops[this.index];if(i){const s=this.offset,o=n.default.length(i);if(r>=o-s?(r=o-s,this.index+=1,this.offset=0):this.offset+=r,typeof i.delete=="number")return{delete:r};{const l={};return i.attributes&&(l.attributes=i.attributes),typeof i.retain=="number"?l.retain=r:typeof i.retain=="object"&&i.retain!==null?l.retain=i.retain:typeof i.insert=="string"?l.insert=i.insert.substr(s,r):l.insert=i.insert,l}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?n.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const r=this.ops[this.index];return r?typeof r.delete=="number"?"delete":typeof r.retain=="number"||typeof r.retain=="object"&&r.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const r=this.offset,i=this.index,s=this.next(),o=this.ops.slice(this.index);return this.offset=r,this.index=i,[s].concat(o)}}else return[]}}return gr.default=t,gr}var Ji;function $f(){return Ji||(Ji=1,function(n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeMap=t.OpIterator=t.Op=void 0;const e=Mf(),r=oo(),i=Ls(),s=Bf();t.AttributeMap=s.default;const o=lo();t.Op=o.default;const l=Df();t.OpIterator=l.default;const a="\0",c=(f,h)=>{if(typeof f!="object"||f===null)throw new Error(`cannot retain a ${typeof f}`);if(typeof h!="object"||h===null)throw new Error(`cannot retain a ${typeof h}`);const d=Object.keys(f)[0];if(!d||d!==Object.keys(h)[0])throw new Error(`embed types not matched: ${d} != ${Object.keys(h)[0]}`);return[d,f[d],h[d]]};class u{constructor(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]}static registerEmbed(h,d){this.handlers[h]=d}static unregisterEmbed(h){delete this.handlers[h]}static getHandler(h){const d=this.handlers[h];if(!d)throw new Error(`no handlers for embed type "${h}"`);return d}insert(h,d){const p={};return typeof h=="string"&&h.length===0?this:(p.insert=h,d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(p.attributes=d),this.push(p))}delete(h){return h<=0?this:this.push({delete:h})}retain(h,d){if(typeof h=="number"&&h<=0)return this;const p={retain:h};return d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(p.attributes=d),this.push(p)}push(h){let d=this.ops.length,p=this.ops[d-1];if(h=r(h),typeof p=="object"){if(typeof h.delete=="number"&&typeof p.delete=="number")return this.ops[d-1]={delete:p.delete+h.delete},this;if(typeof p.delete=="number"&&h.insert!=null&&(d-=1,p=this.ops[d-1],typeof p!="object"))return this.ops.unshift(h),this;if(i(h.attributes,p.attributes)){if(typeof h.insert=="string"&&typeof p.insert=="string")return this.ops[d-1]={insert:p.insert+h.insert},typeof h.attributes=="object"&&(this.ops[d-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof p.retain=="number")return this.ops[d-1]={retain:p.retain+h.retain},typeof h.attributes=="object"&&(this.ops[d-1].attributes=h.attributes),this}}return d===this.ops.length?this.ops.push(h):this.ops.splice(d,0,h),this}chop(){const h=this.ops[this.ops.length-1];return h&&typeof h.retain=="number"&&!h.attributes&&this.ops.pop(),this}filter(h){return this.ops.filter(h)}forEach(h){this.ops.forEach(h)}map(h){return this.ops.map(h)}partition(h){const d=[],p=[];return this.forEach(g=>{(h(g)?d:p).push(g)}),[d,p]}reduce(h,d){return this.ops.reduce(h,d)}changeLength(){return this.reduce((h,d)=>d.insert?h+o.default.length(d):d.delete?h-d.delete:h,0)}length(){return this.reduce((h,d)=>h+o.default.length(d),0)}slice(h=0,d=1/0){const p=[],g=new l.default(this.ops);let y=0;for(;y<d&&g.hasNext();){let w;y<h?w=g.next(h-y):(w=g.next(d-y),p.push(w)),y+=o.default.length(w)}return new u(p)}compose(h){const d=new l.default(this.ops),p=new l.default(h.ops),g=[],y=p.peek();if(y!=null&&typeof y.retain=="number"&&y.attributes==null){let v=y.retain;for(;d.peekType()==="insert"&&d.peekLength()<=v;)v-=d.peekLength(),g.push(d.next());y.retain-v>0&&p.next(y.retain-v)}const w=new u(g);for(;d.hasNext()||p.hasNext();)if(p.peekType()==="insert")w.push(p.next());else if(d.peekType()==="delete")w.push(d.next());else{const v=Math.min(d.peekLength(),p.peekLength()),N=d.next(v),x=p.next(v);if(x.retain){const S={};if(typeof N.retain=="number")S.retain=typeof x.retain=="number"?v:x.retain;else if(typeof x.retain=="number")N.retain==null?S.insert=N.insert:S.retain=N.retain;else{const C=N.retain==null?"insert":"retain",[O,z,Z]=c(N[C],x.retain),m=u.getHandler(O);S[C]={[O]:m.compose(z,Z,C==="retain")}}const E=s.default.compose(N.attributes,x.attributes,typeof N.retain=="number");if(E&&(S.attributes=E),w.push(S),!p.hasNext()&&i(w.ops[w.ops.length-1],S)){const C=new u(d.rest());return w.concat(C).chop()}}else typeof x.delete=="number"&&(typeof N.retain=="number"||typeof N.retain=="object"&&N.retain!==null)&&w.push(x)}return w.chop()}concat(h){const d=new u(this.ops.slice());return h.ops.length>0&&(d.push(h.ops[0]),d.ops=d.ops.concat(h.ops.slice(1))),d}diff(h,d){if(this.ops===h.ops)return new u;const p=[this,h].map(N=>N.map(x=>{if(x.insert!=null)return typeof x.insert=="string"?x.insert:a;const S=N===h?"on":"with";throw new Error("diff() called "+S+" non-document")}).join("")),g=new u,y=e(p[0],p[1],d,!0),w=new l.default(this.ops),v=new l.default(h.ops);return y.forEach(N=>{let x=N[1].length;for(;x>0;){let S=0;switch(N[0]){case e.INSERT:S=Math.min(v.peekLength(),x),g.push(v.next(S));break;case e.DELETE:S=Math.min(x,w.peekLength()),w.next(S),g.delete(S);break;case e.EQUAL:S=Math.min(w.peekLength(),v.peekLength(),x);const E=w.next(S),C=v.next(S);i(E.insert,C.insert)?g.retain(S,s.default.diff(E.attributes,C.attributes)):g.push(C).delete(S);break}x-=S}}),g.chop()}eachLine(h,d=`
`){const p=new l.default(this.ops);let g=new u,y=0;for(;p.hasNext();){if(p.peekType()!=="insert")return;const w=p.peek(),v=o.default.length(w)-p.peekLength(),N=typeof w.insert=="string"?w.insert.indexOf(d,v)-v:-1;if(N<0)g.push(p.next());else if(N>0)g.push(p.next(N));else{if(h(g,p.next(1).attributes||{},y)===!1)return;y+=1,g=new u}}g.length()>0&&h(g,{},y)}invert(h){const d=new u;return this.reduce((p,g)=>{if(g.insert)d.delete(o.default.length(g));else{if(typeof g.retain=="number"&&g.attributes==null)return d.retain(g.retain),p+g.retain;if(g.delete||typeof g.retain=="number"){const y=g.delete||g.retain;return h.slice(p,p+y).forEach(v=>{g.delete?d.push(v):g.retain&&g.attributes&&d.retain(o.default.length(v),s.default.invert(g.attributes,v.attributes))}),p+y}else if(typeof g.retain=="object"&&g.retain!==null){const y=h.slice(p,p+1),w=new l.default(y.ops).next(),[v,N,x]=c(g.retain,w.insert),S=u.getHandler(v);return d.retain({[v]:S.invert(N,x)},s.default.invert(g.attributes,w.attributes)),p+1}}return p},0),d.chop()}transform(h,d=!1){if(d=!!d,typeof h=="number")return this.transformPosition(h,d);const p=h,g=new l.default(this.ops),y=new l.default(p.ops),w=new u;for(;g.hasNext()||y.hasNext();)if(g.peekType()==="insert"&&(d||y.peekType()!=="insert"))w.retain(o.default.length(g.next()));else if(y.peekType()==="insert")w.push(y.next());else{const v=Math.min(g.peekLength(),y.peekLength()),N=g.next(v),x=y.next(v);if(N.delete)continue;if(x.delete)w.push(x);else{const S=N.retain,E=x.retain;let C=typeof E=="object"&&E!==null?E:v;if(typeof S=="object"&&S!==null&&typeof E=="object"&&E!==null){const O=Object.keys(S)[0];if(O===Object.keys(E)[0]){const z=u.getHandler(O);z&&(C={[O]:z.transform(S[O],E[O],d)})}}w.retain(C,s.default.transform(N.attributes,x.attributes,d))}}return w.chop()}transformPosition(h,d=!1){d=!!d;const p=new l.default(this.ops);let g=0;for(;p.hasNext()&&g<=h;){const y=p.peekLength(),w=p.peekType();if(p.next(),w==="delete"){h-=Math.min(y,h-g);continue}else w==="insert"&&(g<h||!d)&&(h+=y);g+=y}return h}}u.Op=o.default,u.OpIterator=l.default,u.AttributeMap=s.default,u.handlers={},t.default=u,n.exports=u,n.exports.default=u}(fr,fr.exports)),fr.exports}var mt=$f();const W=qr(mt);class _t extends wt{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}_t.blotName="break";_t.tagName="BR";let kt=class extends Lr{};const Uf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Pr(n){return n.replace(/[&<>"']/g,t=>Uf[t])}const Rt=class Rt extends zn{static compare(t,e){const r=Rt.order.indexOf(t),i=Rt.order.indexOf(e);return r>=0||i>=0?r-i:t===e?0:t<e?-1:1}formatAt(t,e,r,i){if(Rt.compare(this.statics.blotName,r)<0&&this.scroll.query(r,K.BLOT)){const s=this.isolate(t,e);i&&s.wrap(r,i)}else super.formatAt(t,e,r,i)}optimize(t){if(super.optimize(t),this.parent instanceof Rt&&Rt.compare(this.statics.blotName,this.parent.statics.blotName)>0){const e=this.parent.isolate(this.offset(),this.length());this.moveChildren(e),e.wrap(this)}}};F(Rt,"allowedChildren",[Rt,_t,wt,kt]),F(Rt,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let Bt=Rt;const ts=1;class dt extends Ze{constructor(){super(...arguments);F(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=ao(this)),this.cache.delta}deleteAt(e,r){super.deleteAt(e,r),this.cache={}}formatAt(e,r,i,s){r<=0||(this.scroll.query(i,K.BLOCK)?e+r===this.length()&&this.format(i,s):super.formatAt(e,Math.min(r,this.length()-e-1),i,s),this.cache={})}insertAt(e,r,i){if(i!=null){super.insertAt(e,r,i),this.cache={};return}if(r.length===0)return;const s=r.split(`
`),o=s.shift();o.length>0&&(e<this.length()-1||this.children.tail==null?super.insertAt(Math.min(e,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});let l=this;s.reduce((a,c)=>(l=l.split(a,!0),l.insertAt(0,c),c.length),e+o.length)}insertBefore(e,r){const{head:i}=this.children;super.insertBefore(e,r),i instanceof _t&&i.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+ts),this.cache.length}moveChildren(e,r){super.moveChildren(e,r),this.cache={}}optimize(e){super.optimize(e),this.cache={}}path(e){return super.path(e,!0)}removeChild(e){super.removeChild(e),this.cache={}}split(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r&&(e===0||e>=this.length()-ts)){const s=this.clone();return e===0?(this.parent.insertBefore(s,this),this):(this.parent.insertBefore(s,this.next),s)}const i=super.split(e,r);return this.cache={},i}}dt.blotName="block";dt.tagName="P";dt.defaultChild=_t;dt.allowedChildren=[_t,Bt,wt,kt];class Tt extends wt{attach(){super.attach(),this.attributes=new Rr(this.domNode)}delta(){return new W().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(t,e){const r=this.scroll.query(t,K.BLOCK_ATTRIBUTE);r!=null&&this.attributes.attribute(r,e)}formatAt(t,e,r,i){this.format(r,i)}insertAt(t,e,r){if(r!=null){super.insertAt(t,e,r);return}const i=e.split(`
`),s=i.pop(),o=i.map(a=>{const c=this.scroll.create(dt.blotName);return c.insertAt(0,a),c}),l=this.split(t);o.forEach(a=>{this.parent.insertBefore(a,l)}),s&&this.parent.insertBefore(this.scroll.create("text",s),l)}}Tt.scope=K.BLOCK_BLOT;function ao(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.descendants(pt).reduce((e,r)=>r.length()===0?e:e.insert(r.value(),At(r,{},t)),new W).insert(`
`,At(n))}function At(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return n==null||("formats"in n&&typeof n.formats=="function"&&(t={...t,...n.formats()},e&&delete t["code-token"]),n.parent==null||n.parent.statics.blotName==="scroll"||n.parent.statics.scope!==n.statics.scope)?t:At(n.parent,t,e)}const xt=class xt extends wt{static value(){}constructor(t,e,r){super(t,e),this.selection=r,this.textNode=document.createTextNode(xt.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(t,e){if(this.savedLength!==0){super.format(t,e);return}let r=this,i=0;for(;r!=null&&r.statics.scope!==K.BLOCK_BLOT;)i+=r.offset(r.parent),r=r.parent;r!=null&&(this.savedLength=xt.CONTENTS.length,r.optimize(),r.formatAt(i,xt.CONTENTS.length,t,e),this.savedLength=0)}index(t,e){return t===this.textNode?0:super.index(t,e)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const t=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const e=this.prev instanceof kt?this.prev:null,r=e?e.length():0,i=this.next instanceof kt?this.next:null,s=i?i.text:"",{textNode:o}=this,l=o.data.split(xt.CONTENTS).join("");o.data=xt.CONTENTS;let a;if(e)a=e,(l||i)&&(e.insertAt(e.length(),l+s),i&&i.remove());else if(i)a=i,i.insertAt(0,l);else{const c=document.createTextNode(l);a=this.scroll.create(c),this.parent.insertBefore(a,this)}if(this.remove(),t){const c=(h,d)=>e&&h===e.domNode?d:h===o?r+d-1:i&&h===i.domNode?r+l.length+d:null,u=c(t.start.node,t.start.offset),f=c(t.end.node,t.end.offset);if(u!==null&&f!==null)return{startNode:a.domNode,startOffset:u,endNode:a.domNode,endOffset:f}}return null}update(t,e){if(t.some(r=>r.type==="characterData"&&r.target===this.textNode)){const r=this.restore();r&&(e.range=r)}}optimize(t){super.optimize(t);let{parent:e}=this;for(;e;){if(e.domNode.tagName==="A"){this.savedLength=xt.CONTENTS.length,e.isolate(this.offset(e),this.length()).unwrap(),this.savedLength=0;break}e=e.parent}}value(){return""}};F(xt,"blotName","cursor"),F(xt,"className","ql-cursor"),F(xt,"tagName","span"),F(xt,"CONTENTS","\uFEFF");let Ce=xt;var rn={exports:{}},es;function zf(){return es||(es=1,function(n){var t=Object.prototype.hasOwnProperty,e="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(e=!1));function i(a,c,u){this.fn=a,this.context=c,this.once=u||!1}function s(a,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var d=new i(u,f||a,h),p=e?e+c:c;return a._events[p]?a._events[p].fn?a._events[p]=[a._events[p],d]:a._events[p].push(d):(a._events[p]=d,a._eventsCount++),a}function o(a,c){--a._eventsCount===0?a._events=new r:delete a._events[c]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)t.call(u,f)&&c.push(e?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},l.prototype.listeners=function(c){var u=e?e+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,d=f.length,p=new Array(d);h<d;h++)p[h]=f[h].fn;return p},l.prototype.listenerCount=function(c){var u=e?e+c:c,f=this._events[u];return f?f.fn?1:f.length:0},l.prototype.emit=function(c,u,f,h,d,p){var g=e?e+c:c;if(!this._events[g])return!1;var y=this._events[g],w=arguments.length,v,N;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,f),!0;case 4:return y.fn.call(y.context,u,f,h),!0;case 5:return y.fn.call(y.context,u,f,h,d),!0;case 6:return y.fn.call(y.context,u,f,h,d,p),!0}for(N=1,v=new Array(w-1);N<w;N++)v[N-1]=arguments[N];y.fn.apply(y.context,v)}else{var x=y.length,S;for(N=0;N<x;N++)switch(y[N].once&&this.removeListener(c,y[N].fn,void 0,!0),w){case 1:y[N].fn.call(y[N].context);break;case 2:y[N].fn.call(y[N].context,u);break;case 3:y[N].fn.call(y[N].context,u,f);break;case 4:y[N].fn.call(y[N].context,u,f,h);break;default:if(!v)for(S=1,v=new Array(w-1);S<w;S++)v[S-1]=arguments[S];y[N].fn.apply(y[N].context,v)}}return!0},l.prototype.on=function(c,u,f){return s(this,c,u,f,!1)},l.prototype.once=function(c,u,f){return s(this,c,u,f,!0)},l.prototype.removeListener=function(c,u,f,h){var d=e?e+c:c;if(!this._events[d])return this;if(!u)return o(this,d),this;var p=this._events[d];if(p.fn)p.fn===u&&(!h||p.once)&&(!f||p.context===f)&&o(this,d);else{for(var g=0,y=[],w=p.length;g<w;g++)(p[g].fn!==u||h&&!p[g].once||f&&p[g].context!==f)&&y.push(p[g]);y.length?this._events[d]=y.length===1?y[0]:y:o(this,d)}return this},l.prototype.removeAllListeners=function(c){var u;return c?(u=e?e+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=e,l.EventEmitter=l,n.exports=l}(rn)),rn.exports}var Hf=zf();const Ff=qr(Hf),Tn=new WeakMap,Nn=["error","warn","log","info"];let On="warn";function co(n){if(On&&Nn.indexOf(n)<=Nn.indexOf(On)){for(var t=arguments.length,e=new Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];console[n](...e)}}function Wt(n){return Nn.reduce((t,e)=>(t[e]=co.bind(console,e,n),t),{})}Wt.level=n=>{On=n};co.level=Wt.level;const nn=Wt("quill:events"),Vf=["selectionchange","mousedown","mouseup","click"];Vf.forEach(n=>{document.addEventListener(n,function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];Array.from(document.querySelectorAll(".ql-container")).forEach(i=>{const s=Tn.get(i);s&&s.emitter&&s.emitter.handleDOM(...e)})})});class G extends Ff{constructor(){super(),this.domListeners={},this.on("error",nn.error)}emit(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return nn.log.call(nn,...e),super.emit(...e)}handleDOM(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];(this.domListeners[t.type]||[]).forEach(s=>{let{node:o,handler:l}=s;(t.target===o||o.contains(t.target))&&l(t,...r)})}listenDOM(t,e,r){this.domListeners[t]||(this.domListeners[t]=[]),this.domListeners[t].push({node:e,handler:r})}}F(G,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),F(G,"sources",{API:"api",SILENT:"silent",USER:"user"});const sn=Wt("quill:selection");class te{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=t,this.length=e}}class Gf{constructor(t,e){this.emitter=e,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new te(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,G.sources.USER),1)}),this.emitter.on(G.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const r=this.getNativeRange();r!=null&&r.start.node!==this.cursor.textNode&&this.emitter.once(G.events.SCROLL_UPDATE,(i,s)=>{try{this.root.contains(r.start.node)&&this.root.contains(r.end.node)&&this.setNativeRange(r.start.node,r.start.offset,r.end.node,r.end.offset);const o=s.some(l=>l.type==="characterData"||l.type==="childList"||l.type==="attributes"&&l.target===this.root);this.update(o?G.sources.SILENT:i)}catch{}})}),this.emitter.on(G.events.SCROLL_OPTIMIZE,(r,i)=>{if(i.range){const{startNode:s,startOffset:o,endNode:l,endOffset:a}=i.range;this.setNativeRange(s,o,l,a),this.update(G.sources.SILENT)}}),this.update(G.sources.SILENT)}handleComposition(){this.emitter.on(G.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(G.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const t=this.cursor.restore();if(!t)return;setTimeout(()=>{this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(G.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(t,e){this.scroll.update();const r=this.getNativeRange();if(!(r==null||!r.native.collapsed||this.scroll.query(t,K.BLOCK))){if(r.start.node!==this.cursor.textNode){const i=this.scroll.find(r.start.node,!1);if(i==null)return;if(i instanceof pt){const s=i.split(r.start.offset);i.parent.insertBefore(this.cursor,s)}else i.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.scroll.length();t=Math.min(t,r-1),e=Math.min(t+e,r-1)-t;let i,[s,o]=this.scroll.leaf(t);if(s==null)return null;if(e>0&&o===s.length()){const[u]=this.scroll.leaf(t+1);if(u){const[f]=this.scroll.line(t),[h]=this.scroll.line(t+1);f===h&&(s=u,o=0)}}[i,o]=s.position(o,!0);const l=document.createRange();if(e>0)return l.setStart(i,o),[s,o]=this.scroll.leaf(t+e),s==null?null:([i,o]=s.position(o,!0),l.setEnd(i,o),l.getBoundingClientRect());let a="left",c;if(i instanceof Text){if(!i.data.length)return null;o<i.data.length?(l.setStart(i,o),l.setEnd(i,o+1)):(l.setStart(i,o-1),l.setEnd(i,o),a="right"),c=l.getBoundingClientRect()}else{if(!(s.domNode instanceof Element))return null;c=s.domNode.getBoundingClientRect(),o>0&&(a="right")}return{bottom:c.top+c.height,height:c.height,left:c[a],right:c[a],top:c.top,width:0}}getNativeRange(){const t=document.getSelection();if(t==null||t.rangeCount<=0)return null;const e=t.getRangeAt(0);if(e==null)return null;const r=this.normalizeNative(e);return sn.info("getNativeRange",r),r}getRange(){const t=this.scroll.domNode;if("isConnected"in t&&!t.isConnected)return[null,null];const e=this.getNativeRange();return e==null?[null,null]:[this.normalizedToRange(e),e]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&on(this.root,document.activeElement)}normalizedToRange(t){const e=[[t.start.node,t.start.offset]];t.native.collapsed||e.push([t.end.node,t.end.offset]);const r=e.map(o=>{const[l,a]=o,c=this.scroll.find(l,!0),u=c.offset(this.scroll);return a===0?u:c instanceof pt?u+c.index(l,a):u+c.length()}),i=Math.min(Math.max(...r),this.scroll.length()-1),s=Math.min(i,...r);return new te(s,i-s)}normalizeNative(t){if(!on(this.root,t.startContainer)||!t.collapsed&&!on(this.root,t.endContainer))return null;const e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach(r=>{let{node:i,offset:s}=r;for(;!(i instanceof Text)&&i.childNodes.length>0;)if(i.childNodes.length>s)i=i.childNodes[s],s=0;else if(i.childNodes.length===s)i=i.lastChild,i instanceof Text?s=i.data.length:i.childNodes.length>0?s=i.childNodes.length:s=i.childNodes.length+1;else break;r.node=i,r.offset=s}),e}rangeToNative(t){const e=this.scroll.length(),r=(i,s)=>{i=Math.min(e-1,i);const[o,l]=this.scroll.leaf(i);return o?o.position(l,s):[null,-1]};return[...r(t.index,!1),...r(t.index+t.length,!0)]}setNativeRange(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(sn.info("setNativeRange",t,e,r,i),t!=null&&(this.root.parentNode==null||t.parentNode==null||r.parentNode==null))return;const o=document.getSelection();if(o!=null)if(t!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:l}=this.getNativeRange()||{};if(l==null||s||t!==l.startContainer||e!==l.startOffset||r!==l.endContainer||i!==l.endOffset){t instanceof Element&&t.tagName==="BR"&&(e=Array.from(t.parentNode.childNodes).indexOf(t),t=t.parentNode),r instanceof Element&&r.tagName==="BR"&&(i=Array.from(r.parentNode.childNodes).indexOf(r),r=r.parentNode);const a=document.createRange();a.setStart(t,e),a.setEnd(r,i),o.removeAllRanges(),o.addRange(a)}}else o.removeAllRanges(),this.root.blur()}setRange(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:G.sources.API;if(typeof e=="string"&&(r=e,e=!1),sn.info("setRange",t),t!=null){const i=this.rangeToNative(t);this.setNativeRange(...i,e)}else this.setNativeRange(null);this.update(r)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:G.sources.USER;const e=this.lastRange,[r,i]=this.getRange();if(this.lastRange=r,this.lastNative=i,this.lastRange!=null&&(this.savedRange=this.lastRange),!Un(e,this.lastRange)){if(!this.composing&&i!=null&&i.native.collapsed&&i.start.node!==this.cursor.textNode){const o=this.cursor.restore();o&&this.setNativeRange(o.startNode,o.startOffset,o.endNode,o.endOffset)}const s=[G.events.SELECTION_CHANGE,Te(this.lastRange),Te(e),t];this.emitter.emit(G.events.EDITOR_CHANGE,...s),t!==G.sources.SILENT&&this.emitter.emit(...s)}}}function on(n,t){try{t.parentNode}catch{return!1}return n.contains(t)}const Wf=/^[ -~]*$/;class Kf{constructor(t){this.scroll=t,this.delta=this.getDelta()}applyDelta(t){this.scroll.update();let e=this.scroll.length();this.scroll.batchStart();const r=rs(t),i=new W;return Yf(r.ops.slice()).reduce((o,l)=>{const a=mt.Op.length(l);let c=l.attributes||{},u=!1,f=!1;if(l.insert!=null){if(i.retain(a),typeof l.insert=="string"){const p=l.insert;f=!p.endsWith(`
`)&&(e<=o||!!this.scroll.descendant(Tt,o)[0]),this.scroll.insertAt(o,p);const[g,y]=this.scroll.line(o);let w=Qt({},At(g));if(g instanceof dt){const[v]=g.descendant(pt,y);v&&(w=Qt(w,At(v)))}c=mt.AttributeMap.diff(w,c)||{}}else if(typeof l.insert=="object"){const p=Object.keys(l.insert)[0];if(p==null)return o;const g=this.scroll.query(p,K.INLINE)!=null;if(g)(e<=o||this.scroll.descendant(Tt,o)[0])&&(f=!0);else if(o>0){const[y,w]=this.scroll.descendant(pt,o-1);y instanceof kt?y.value()[w]!==`
`&&(u=!0):y instanceof wt&&y.statics.scope===K.INLINE_BLOT&&(u=!0)}if(this.scroll.insertAt(o,p,l.insert[p]),g){const[y]=this.scroll.descendant(pt,o);if(y){const w=Qt({},At(y));c=mt.AttributeMap.diff(w,c)||{}}}}e+=a}else if(i.push(l),l.retain!==null&&typeof l.retain=="object"){const p=Object.keys(l.retain)[0];if(p==null)return o;this.scroll.updateEmbedAt(o,p,l.retain[p])}Object.keys(c).forEach(p=>{this.scroll.formatAt(o,a,p,c[p])});const h=u?1:0,d=f?1:0;return e+=h+d,i.retain(h),i.delete(d),o+a+h+d},0),i.reduce((o,l)=>typeof l.delete=="number"?(this.scroll.deleteAt(o,l.delete),o):o+mt.Op.length(l),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}deleteText(t,e){return this.scroll.deleteAt(t,e),this.update(new W().retain(t).delete(e))}formatLine(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach(s=>{this.scroll.lines(t,Math.max(e,1)).forEach(o=>{o.format(s,r[s])})}),this.scroll.optimize();const i=new W().retain(t).retain(e,Te(r));return this.update(i)}formatText(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(r).forEach(s=>{this.scroll.formatAt(t,e,s,r[s])});const i=new W().retain(t).retain(e,Te(r));return this.update(i)}getContents(t,e){return this.delta.slice(t,t+e)}getDelta(){return this.scroll.lines().reduce((t,e)=>t.concat(e.delta()),new W)}getFormat(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=[],i=[];e===0?this.scroll.path(t).forEach(l=>{const[a]=l;a instanceof dt?r.push(a):a instanceof pt&&i.push(a)}):(r=this.scroll.lines(t,e),i=this.scroll.descendants(pt,t,e));const[s,o]=[r,i].map(l=>{const a=l.shift();if(a==null)return{};let c=At(a);for(;Object.keys(c).length>0;){const u=l.shift();if(u==null)return c;c=Zf(At(u),c)}return c});return{...s,...o}}getHTML(t,e){const[r,i]=this.scroll.line(t);if(r){const s=r.length();return r.length()>=i+e&&!(i===0&&e===s)?Ye(r,i,e,!0):Ye(this.scroll,t,e,!0)}return""}getText(t,e){return this.getContents(t,e).filter(r=>typeof r.insert=="string").map(r=>r.insert).join("")}insertContents(t,e){const r=rs(e),i=new W().retain(t).concat(r);return this.scroll.insertContents(t,r),this.update(i)}insertEmbed(t,e,r){return this.scroll.insertAt(t,e,r),this.update(new W().retain(t).insert({[e]:r}))}insertText(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e=e.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(t,e),Object.keys(r).forEach(i=>{this.scroll.formatAt(t,e.length,i,r[i])}),this.update(new W().retain(t).insert(e,Te(r)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const t=this.scroll.children.head;if((t==null?void 0:t.statics.blotName)!==dt.blotName)return!1;const e=t;return e.children.length>1?!1:e.children.head instanceof _t}removeFormat(t,e){const r=this.getText(t,e),[i,s]=this.scroll.line(t+e);let o=0,l=new W;i!=null&&(o=i.length()-s,l=i.delta().slice(s,s+o-1).insert(`
`));const c=this.getContents(t,e+o).diff(new W().insert(r).concat(l)),u=new W().retain(t).concat(c);return this.applyDelta(u)}update(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const i=this.delta;if(e.length===1&&e[0].type==="characterData"&&e[0].target.data.match(Wf)&&this.scroll.find(e[0].target)){const s=this.scroll.find(e[0].target),o=At(s),l=s.offset(this.scroll),a=e[0].oldValue.replace(Ce.CONTENTS,""),c=new W().insert(a),u=new W().insert(s.value()),f=r&&{oldRange:ns(r.oldRange,-l),newRange:ns(r.newRange,-l)};t=new W().retain(l).concat(c.diff(u,f)).reduce((d,p)=>p.insert?d.insert(p.insert,o):d.push(p),new W),this.delta=i.compose(t)}else this.delta=this.getDelta(),(!t||!Un(i.compose(t),this.delta))&&(t=i.diff(this.delta,r));return t}}function Ae(n,t,e){if(n.length===0){const[d]=ln(e.pop());return t<=0?`</li></${d}>`:`</li></${d}>${Ae([],t-1,e)}`}const[{child:r,offset:i,length:s,indent:o,type:l},...a]=n,[c,u]=ln(l);if(o>t)return e.push(l),o===t+1?`<${c}><li${u}>${Ye(r,i,s)}${Ae(a,o,e)}`:`<${c}><li>${Ae(n,t+1,e)}`;const f=e[e.length-1];if(o===t&&l===f)return`</li><li${u}>${Ye(r,i,s)}${Ae(a,o,e)}`;const[h]=ln(e.pop());return`</li></${h}>${Ae(n,t-1,e)}`}function Ye(n,t,e){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in n&&typeof n.html=="function")return n.html(t,e);if(n instanceof kt)return Pr(n.value().slice(t,t+e)).replaceAll(" ","&nbsp;");if(n instanceof qt){if(n.statics.blotName==="list-container"){const c=[];return n.children.forEachAt(t,e,(u,f,h)=>{const d="formats"in u&&typeof u.formats=="function"?u.formats():{};c.push({child:u,offset:f,length:h,indent:d.indent||0,type:d.list})}),Ae(c,-1,[])}const i=[];if(n.children.forEachAt(t,e,(c,u,f)=>{i.push(Ye(c,u,f))}),r||n.statics.blotName==="list")return i.join("");const{outerHTML:s,innerHTML:o}=n.domNode,[l,a]=s.split(`>${o}<`);return l==="<table"?`<table style="border: 1px solid #000;">${i.join("")}<${a}`:`${l}>${i.join("")}<${a}`}return n.domNode instanceof Element?n.domNode.outerHTML:""}function Zf(n,t){return Object.keys(t).reduce((e,r)=>{if(n[r]==null)return e;const i=t[r];return i===n[r]?e[r]=i:Array.isArray(i)?i.indexOf(n[r])<0?e[r]=i.concat([n[r]]):e[r]=i:e[r]=[i,n[r]],e},{})}function ln(n){const t=n==="ordered"?"ol":"ul";switch(n){case"checked":return[t,' data-list="checked"'];case"unchecked":return[t,' data-list="unchecked"'];default:return[t,""]}}function rs(n){return n.reduce((t,e)=>{if(typeof e.insert=="string"){const r=e.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return t.insert(r,e.attributes)}return t.push(e)},new W)}function ns(n,t){let{index:e,length:r}=n;return new te(e+t,r)}function Yf(n){const t=[];return n.forEach(e=>{typeof e.insert=="string"?e.insert.split(`
`).forEach((i,s)=>{s&&t.push({insert:`
`,attributes:e.attributes}),i&&t.push({insert:i,attributes:e.attributes})}):t.push(e)}),t}class Nt{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=t,this.options=e}}F(Nt,"DEFAULTS",{});const mr="\uFEFF";class Fn extends wt{constructor(t,e){super(t,e),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(r=>{this.contentNode.appendChild(r)}),this.leftGuard=document.createTextNode(mr),this.rightGuard=document.createTextNode(mr),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(t,e){return t===this.leftGuard?0:t===this.rightGuard?1:super.index(t,e)}restore(t){let e=null,r;const i=t.data.split(mr).join("");if(t===this.leftGuard)if(this.prev instanceof kt){const s=this.prev.length();this.prev.insertAt(s,i),e={startNode:this.prev.domNode,startOffset:s+i.length}}else r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this),e={startNode:r,startOffset:i.length};else t===this.rightGuard&&(this.next instanceof kt?(this.next.insertAt(0,i),e={startNode:this.next.domNode,startOffset:i.length}):(r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this.next),e={startNode:r,startOffset:i.length}));return t.data=mr,e}update(t,e){t.forEach(r=>{if(r.type==="characterData"&&(r.target===this.leftGuard||r.target===this.rightGuard)){const i=this.restore(r.target);i&&(e.range=i)}})}}class Xf{constructor(t,e){F(this,"isComposing",!1);this.scroll=t,this.emitter=e,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",t=>{this.isComposing||this.handleCompositionStart(t)}),this.scroll.domNode.addEventListener("compositionend",t=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(t)})})}handleCompositionStart(t){const e=t.target instanceof Node?this.scroll.find(t.target,!0):null;e&&!(e instanceof Fn)&&(this.emitter.emit(G.events.COMPOSITION_BEFORE_START,t),this.scroll.batchStart(),this.emitter.emit(G.events.COMPOSITION_START,t),this.isComposing=!0)}handleCompositionEnd(t){this.emitter.emit(G.events.COMPOSITION_BEFORE_END,t),this.scroll.batchEnd(),this.emitter.emit(G.events.COMPOSITION_END,t),this.isComposing=!1}}const Fe=class Fe{constructor(t,e){F(this,"modules",{});this.quill=t,this.options=e}init(){Object.keys(this.options.modules).forEach(t=>{this.modules[t]==null&&this.addModule(t)})}addModule(t){const e=this.quill.constructor.import(`modules/${t}`);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}};F(Fe,"DEFAULTS",{modules:{}}),F(Fe,"themes",{default:Fe});let qe=Fe;const Qf=n=>n.parentElement||n.getRootNode().host||null,Jf=n=>{const t=n.getBoundingClientRect(),e="offsetWidth"in n&&Math.abs(t.width)/n.offsetWidth||1,r="offsetHeight"in n&&Math.abs(t.height)/n.offsetHeight||1;return{top:t.top,right:t.left+n.clientWidth*e,bottom:t.top+n.clientHeight*r,left:t.left}},br=n=>{const t=parseInt(n,10);return Number.isNaN(t)?0:t},is=(n,t,e,r,i,s)=>n<e&&t>r?0:n<e?-(e-n+i):t>r?t-n>r-e?n+i-e:t-r+s:0,td=(n,t)=>{var s,o,l;const e=n.ownerDocument;let r=t,i=n;for(;i;){const a=i===e.body,c=a?{top:0,right:((s=window.visualViewport)==null?void 0:s.width)??e.documentElement.clientWidth,bottom:((o=window.visualViewport)==null?void 0:o.height)??e.documentElement.clientHeight,left:0}:Jf(i),u=getComputedStyle(i),f=is(r.left,r.right,c.left,c.right,br(u.scrollPaddingLeft),br(u.scrollPaddingRight)),h=is(r.top,r.bottom,c.top,c.bottom,br(u.scrollPaddingTop),br(u.scrollPaddingBottom));if(f||h)if(a)(l=e.defaultView)==null||l.scrollBy(f,h);else{const{scrollLeft:d,scrollTop:p}=i;h&&(i.scrollTop+=h),f&&(i.scrollLeft+=f);const g=i.scrollLeft-d,y=i.scrollTop-p;r={left:r.left-g,top:r.top-y,right:r.right-g,bottom:r.bottom-y}}i=a||u.position==="fixed"?null:Qf(i)}},ed=100,rd=["block","break","cursor","inline","scroll","text"],nd=(n,t,e)=>{const r=new Le;return rd.forEach(i=>{const s=t.query(i);s&&r.register(s)}),n.forEach(i=>{let s=t.query(i);s||e.error(`Cannot register "${i}" specified in "formats" config. Are you sure it was registered?`);let o=0;for(;s;)if(r.register(s),s="blotName"in s?s.requiredContainer??null:null,o+=1,o>ed){e.error(`Cycle detected in registering blot requiredContainer: "${i}"`);break}}),r},Oe=Wt("quill"),yr=new Le;qt.uiClass="ql-ui";const St=class St{static debug(t){t===!0&&(t="log"),Wt.level(t)}static find(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Tn.get(t)||yr.find(t,e)}static import(t){return this.imports[t]==null&&Oe.error(`Cannot import ${t}. Are you sure it was registered?`),this.imports[t]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const t=arguments.length<=0?void 0:arguments[0],e=!!(!(arguments.length<=1)&&arguments[1]),r="attrName"in t?t.attrName:t.blotName;typeof r=="string"?this.register(`formats/${r}`,t,e):Object.keys(t).forEach(i=>{this.register(i,t[i],e)})}else{const t=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1],r=!!(!(arguments.length<=2)&&arguments[2]);this.imports[t]!=null&&!r&&Oe.warn(`Overwriting ${t} with`,e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&e&&typeof e!="boolean"&&e.blotName!=="abstract"&&yr.register(e),typeof e.register=="function"&&e.register(yr)}}constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=id(t,e),this.container=this.options.container,this.container==null){Oe.error("Invalid Quill container",t);return}this.options.debug&&St.debug(this.options.debug);const r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",Tn.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new G;const i=Hn.blotName,s=this.options.registry.query(i);if(!s||!("blotName"in s))throw new Error(`Cannot initialize Quill without "${i}" blot`);if(this.scroll=new s(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new Kf(this.scroll),this.selection=new Gf(this.scroll,this.emitter),this.composition=new Xf(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(G.events.EDITOR_CHANGE,o=>{o===G.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(G.events.SCROLL_UPDATE,(o,l)=>{const a=this.selection.lastRange,[c]=this.selection.getRange(),u=a&&c?{oldRange:a,newRange:c}:void 0;Ot.call(this,()=>this.editor.update(null,l,u),o)}),this.emitter.on(G.events.SCROLL_EMBED_UPDATE,(o,l)=>{const a=this.selection.lastRange,[c]=this.selection.getRange(),u=a&&c?{oldRange:a,newRange:c}:void 0;Ot.call(this,()=>{const f=new W().retain(o.offset(this)).retain({[o.statics.blotName]:l});return this.editor.update(f,[],u)},St.sources.USER)}),r){const o=this.clipboard.convert({html:`${r}<p><br></p>`,text:`
`});this.setContents(o)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof t=="string"){const r=t;t=document.createElement("div"),t.classList.add(r)}return this.container.insertBefore(t,e),t}blur(){this.selection.setRange(null)}deleteText(t,e,r){return[t,e,,r]=zt(t,e,r),Ot.call(this,()=>this.editor.deleteText(t,e),r,t,-1*e)}disable(){this.enable(!1)}editReadOnly(t){this.allowReadOnlyEdits=!0;const e=t();return this.allowReadOnlyEdits=!1,e}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}focus(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),t.preventScroll||this.scrollSelectionIntoView()}format(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:G.sources.API;return Ot.call(this,()=>{const i=this.getSelection(!0);let s=new W;if(i==null)return s;if(this.scroll.query(t,K.BLOCK))s=this.editor.formatLine(i.index,i.length,{[t]:e});else{if(i.length===0)return this.selection.format(t,e),s;s=this.editor.formatText(i.index,i.length,{[t]:e})}return this.setSelection(i,G.sources.SILENT),s},r)}formatLine(t,e,r,i,s){let o;return[t,e,o,s]=zt(t,e,r,i,s),Ot.call(this,()=>this.editor.formatLine(t,e,o),s,t,0)}formatText(t,e,r,i,s){let o;return[t,e,o,s]=zt(t,e,r,i,s),Ot.call(this,()=>this.editor.formatText(t,e,o),s,t,0)}getBounds(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=null;if(typeof t=="number"?r=this.selection.getBounds(t,e):r=this.selection.getBounds(t.index,t.length),!r)return null;const i=this.container.getBoundingClientRect();return{bottom:r.bottom-i.top,height:r.height,left:r.left-i.left,right:r.right-i.left,top:r.top-i.top,width:r.width}}getContents(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-t;return[t,e]=zt(t,e),this.editor.getContents(t,e)}getFormat(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof t=="number"?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}getIndex(t){return t.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(t){return this.scroll.leaf(t)}getLine(t){return this.scroll.line(t)}getLines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof t!="number"?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}getModule(t){return this.theme.modules[t]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(e=e??this.getLength()-t),[t,e]=zt(t,e),this.editor.getHTML(t,e)}getText(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(e=e??this.getLength()-t),[t,e]=zt(t,e),this.editor.getText(t,e)}hasFocus(){return this.selection.hasFocus()}insertEmbed(t,e,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:St.sources.API;return Ot.call(this,()=>this.editor.insertEmbed(t,e,r),i,t)}insertText(t,e,r,i,s){let o;return[t,,o,s]=zt(t,0,r,i,s),Ot.call(this,()=>this.editor.insertText(t,e,o),s,t,e.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(t,e,r){return[t,e,,r]=zt(t,e,r),Ot.call(this,()=>this.editor.removeFormat(t,e),r,t)}scrollRectIntoView(t){td(this.root,t)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const t=this.selection.lastRange,e=t&&this.selection.getBounds(t.index,t.length);e&&this.scrollRectIntoView(e)}setContents(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:G.sources.API;return Ot.call(this,()=>{t=new W(t);const r=this.getLength(),i=this.editor.deleteText(0,r),s=this.editor.insertContents(0,t),o=this.editor.deleteText(this.getLength()-1,1);return i.compose(s).compose(o)},e)}setSelection(t,e,r){t==null?this.selection.setRange(null,e||St.sources.API):([t,e,,r]=zt(t,e,r),this.selection.setRange(new te(Math.max(0,t),e),r),r!==G.sources.SILENT&&this.scrollSelectionIntoView())}setText(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:G.sources.API;const r=new W().insert(t);return this.setContents(r,e)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:G.sources.USER;const e=this.scroll.update(t);return this.selection.update(t),e}updateContents(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:G.sources.API;return Ot.call(this,()=>(t=new W(t),this.editor.applyDelta(t)),e,!0)}};F(St,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:yr,theme:"default"}),F(St,"events",G.events),F(St,"sources",G.sources),F(St,"version","2.0.3"),F(St,"imports",{delta:W,parchment:so,"core/module":Nt,"core/theme":qe});let P=St;function ss(n){return typeof n=="string"?document.querySelector(n):n}function an(n){return Object.entries(n??{}).reduce((t,e)=>{let[r,i]=e;return{...t,[r]:i===!0?{}:i}},{})}function os(n){return Object.fromEntries(Object.entries(n).filter(t=>t[1]!==void 0))}function id(n,t){const e=ss(n);if(!e)throw new Error("Invalid Quill container");const i=!t.theme||t.theme===P.DEFAULTS.theme?qe:P.import(`themes/${t.theme}`);if(!i)throw new Error(`Invalid theme ${t.theme}. Did you register it?`);const{modules:s,...o}=P.DEFAULTS,{modules:l,...a}=i.DEFAULTS;let c=an(t.modules);c!=null&&c.toolbar&&c.toolbar.constructor!==Object&&(c={...c,toolbar:{container:c.toolbar}});const u=Qt({},an(s),an(l),c),f={...o,...os(a),...os(t)};let h=t.registry;return h?t.formats&&Oe.warn('Ignoring "formats" option because "registry" is specified'):h=t.formats?nd(t.formats,f.registry,Oe):f.registry,{...f,registry:h,container:e,theme:i,modules:Object.entries(u).reduce((d,p)=>{let[g,y]=p;if(!y)return d;const w=P.import(`modules/${g}`);return w==null?(Oe.error(`Cannot load ${g} module. Are you sure you registered it?`),d):{...d,[g]:Qt({},w.DEFAULTS||{},y)}},{}),bounds:ss(f.bounds)}}function Ot(n,t,e,r){if(!this.isEnabled()&&t===G.sources.USER&&!this.allowReadOnlyEdits)return new W;let i=e==null?null:this.getSelection();const s=this.editor.delta,o=n();if(i!=null&&(e===!0&&(e=i.index),r==null?i=ls(i,o,t):r!==0&&(i=ls(i,e,r,t)),this.setSelection(i,G.sources.SILENT)),o.length()>0){const l=[G.events.TEXT_CHANGE,o,s,t];this.emitter.emit(G.events.EDITOR_CHANGE,...l),t!==G.sources.SILENT&&this.emitter.emit(...l)}return o}function zt(n,t,e,r,i){let s={};return typeof n.index=="number"&&typeof n.length=="number"?typeof t!="number"?(i=r,r=e,e=t,t=n.length,n=n.index):(t=n.length,n=n.index):typeof t!="number"&&(i=r,r=e,e=t,t=0),typeof e=="object"?(s=e,i=r):typeof e=="string"&&(r!=null?s[e]=r:i=e),i=i||G.sources.API,[n,t,s,i]}function ls(n,t,e,r){const i=typeof e=="number"?e:0;if(n==null)return null;let s,o;return t&&typeof t.transformPosition=="function"?[s,o]=[n.index,n.index+n.length].map(l=>t.transformPosition(l,r!==G.sources.USER)):[s,o]=[n.index,n.index+n.length].map(l=>l<t||l===t&&r===G.sources.USER?l:i>=0?l+i:Math.max(t,l+i)),new te(s,o-s)}class he extends jr{}function as(n){return n instanceof dt||n instanceof Tt}function cs(n){return typeof n.updateContent=="function"}class Ee extends Hn{constructor(t,e,r){let{emitter:i}=r;super(t,e),this.emitter=i,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",s=>this.handleDragStart(s))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const t=this.batch;this.batch=!1,this.update(t)}emitMount(t){this.emitter.emit(G.events.SCROLL_BLOT_MOUNT,t)}emitUnmount(t){this.emitter.emit(G.events.SCROLL_BLOT_UNMOUNT,t)}emitEmbedUpdate(t,e){this.emitter.emit(G.events.SCROLL_EMBED_UPDATE,t,e)}deleteAt(t,e){const[r,i]=this.line(t),[s]=this.line(t+e);if(super.deleteAt(t,e),s!=null&&r!==s&&i>0){if(r instanceof Tt||s instanceof Tt){this.optimize();return}const o=s.children.head instanceof _t?null:s.children.head;r.moveChildren(s,o),r.remove()}this.optimize()}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",t?"true":"false")}formatAt(t,e,r,i){super.formatAt(t,e,r,i),this.optimize()}insertAt(t,e,r){if(t>=this.length())if(r==null||this.scroll.query(e,K.BLOCK)==null){const i=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(i),r==null&&e.endsWith(`
`)?i.insertAt(0,e.slice(0,-1),r):i.insertAt(0,e,r)}else{const i=this.scroll.create(e,r);this.appendChild(i)}else super.insertAt(t,e,r);this.optimize()}insertBefore(t,e){if(t.statics.scope===K.INLINE_BLOT){const r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(t),super.insertBefore(r,e)}else super.insertBefore(t,e)}insertContents(t,e){const r=this.deltaToRenderBlocks(e.concat(new W().insert(`
`))),i=r.pop();if(i==null)return;this.batchStart();const s=r.shift();if(s){const a=s.type==="block"&&(s.delta.length()===0||!this.descendant(Tt,t)[0]&&t<this.length()),c=s.type==="block"?s.delta:new W().insert({[s.key]:s.value});cn(this,t,c);const u=s.type==="block"?1:0,f=t+c.length()+u;a&&this.insertAt(f-1,`
`);const h=At(this.line(t)[0]),d=mt.AttributeMap.diff(h,s.attributes)||{};Object.keys(d).forEach(p=>{this.formatAt(f-1,1,p,d[p])}),t=f}let[o,l]=this.children.find(t);if(r.length&&(o&&(o=o.split(l),l=0),r.forEach(a=>{if(a.type==="block"){const c=this.createBlock(a.attributes,o||void 0);cn(c,0,a.delta)}else{const c=this.create(a.key,a.value);this.insertBefore(c,o||void 0),Object.keys(a.attributes).forEach(u=>{c.format(u,a.attributes[u])})}})),i.type==="block"&&i.delta.length()){const a=o?o.offset(o.scroll)+l:this.length();cn(this,a,i.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(t){const e=this.path(t).pop();if(!e)return[null,-1];const[r,i]=e;return r instanceof pt?[r,i]:[null,-1]}line(t){return t===this.length()?this.line(t-1):this.descendant(as,t)}lines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const r=(i,s,o)=>{let l=[],a=o;return i.children.forEachAt(s,o,(c,u,f)=>{as(c)?l.push(c):c instanceof jr&&(l=l.concat(r(c,u,a))),a-=f}),l};return r(this,t,e)}optimize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(t,e),t.length>0&&this.emitter.emit(G.events.SCROLL_OPTIMIZE,t,e))}path(t){return super.path(t).slice(1)}remove(){}update(t){if(this.batch){Array.isArray(t)&&(this.batch=this.batch.concat(t));return}let e=G.sources.USER;typeof t=="string"&&(e=t),Array.isArray(t)||(t=this.observer.takeRecords()),t=t.filter(r=>{let{target:i}=r;const s=this.find(i,!0);return s&&!cs(s)}),t.length>0&&this.emitter.emit(G.events.SCROLL_BEFORE_UPDATE,e,t),super.update(t.concat([])),t.length>0&&this.emitter.emit(G.events.SCROLL_UPDATE,e,t)}updateEmbedAt(t,e,r){const[i]=this.descendant(s=>s instanceof Tt,t);i&&i.statics.blotName===e&&cs(i)&&i.updateContent(r)}handleDragStart(t){t.preventDefault()}deltaToRenderBlocks(t){const e=[];let r=new W;return t.forEach(i=>{const s=i==null?void 0:i.insert;if(s)if(typeof s=="string"){const o=s.split(`
`);o.slice(0,-1).forEach(a=>{r.insert(a,i.attributes),e.push({type:"block",delta:r,attributes:i.attributes??{}}),r=new W});const l=o[o.length-1];l&&r.insert(l,i.attributes)}else{const o=Object.keys(s)[0];if(!o)return;this.query(o,K.INLINE)?r.push(i):(r.length()&&e.push({type:"block",delta:r,attributes:{}}),r=new W,e.push({type:"blockEmbed",key:o,value:s[o],attributes:i.attributes??{}}))}}),r.length()&&e.push({type:"block",delta:r,attributes:{}}),e}createBlock(t,e){let r;const i={};Object.entries(t).forEach(l=>{let[a,c]=l;this.query(a,K.BLOCK&K.BLOT)!=null?r=a:i[a]=c});const s=this.create(r||this.statics.defaultChild.blotName,r?t[r]:void 0);this.insertBefore(s,e||void 0);const o=s.length();return Object.entries(i).forEach(l=>{let[a,c]=l;s.formatAt(0,o,a,c)}),s}}F(Ee,"blotName","scroll"),F(Ee,"className","ql-editor"),F(Ee,"tagName","DIV"),F(Ee,"defaultChild",dt),F(Ee,"allowedChildren",[dt,Tt,he]);function cn(n,t,e){e.reduce((r,i)=>{const s=mt.Op.length(i);let o=i.attributes||{};if(i.insert!=null){if(typeof i.insert=="string"){const l=i.insert;n.insertAt(r,l);const[a]=n.descendant(pt,r),c=At(a);o=mt.AttributeMap.diff(c,o)||{}}else if(typeof i.insert=="object"){const l=Object.keys(i.insert)[0];if(l==null)return r;if(n.insertAt(r,l,i.insert[l]),n.scroll.query(l,K.INLINE)!=null){const[c]=n.descendant(pt,r),u=At(c);o=mt.AttributeMap.diff(u,o)||{}}}}return Object.keys(o).forEach(l=>{n.formatAt(r,s,l,o[l])}),r+s},t)}const Vn={scope:K.BLOCK,whitelist:["right","center","justify"]},sd=new Mt("align","align",Vn),uo=new It("align","ql-align",Vn),ho=new re("align","text-align",Vn);class fo extends re{value(t){let e=super.value(t);return e.startsWith("rgb(")?(e=e.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${e.split(",").map(i=>`00${parseInt(i,10).toString(16)}`.slice(-2)).join("")}`):e}}const od=new It("color","ql-color",{scope:K.INLINE}),Gn=new fo("color","color",{scope:K.INLINE}),ld=new It("background","ql-bg",{scope:K.INLINE}),Wn=new fo("background","background-color",{scope:K.INLINE});class fe extends he{static create(t){const e=super.create(t);return e.setAttribute("spellcheck","false"),e}code(t,e){return this.children.map(r=>r.length()<=1?"":r.domNode.innerText).join(`
`).slice(t,t+e)}html(t,e){return`<pre>
${Pr(this.code(t,e))}
</pre>`}}class gt extends dt{static register(){P.register(fe)}}F(gt,"TAB","  ");class Kn extends Bt{}Kn.blotName="code";Kn.tagName="CODE";gt.blotName="code-block";gt.className="ql-code-block";gt.tagName="DIV";fe.blotName="code-block-container";fe.className="ql-code-block-container";fe.tagName="DIV";fe.allowedChildren=[gt];gt.allowedChildren=[kt,_t,Ce];gt.requiredContainer=fe;const Zn={scope:K.BLOCK,whitelist:["rtl"]},po=new Mt("direction","dir",Zn),go=new It("direction","ql-direction",Zn),mo=new re("direction","direction",Zn),bo={scope:K.INLINE,whitelist:["serif","monospace"]},yo=new It("font","ql-font",bo);class ad extends re{value(t){return super.value(t).replace(/["']/g,"")}}const vo=new ad("font","font-family",bo),wo=new It("size","ql-size",{scope:K.INLINE,whitelist:["small","large","huge"]}),xo=new re("size","font-size",{scope:K.INLINE,whitelist:["10px","18px","32px"]}),cd=Wt("quill:keyboard"),ud=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class Mr extends Nt{static match(t,e){return["altKey","ctrlKey","metaKey","shiftKey"].some(r=>!!e[r]!==t[r]&&e[r]!==null)?!1:e.key===t.key||e.key===t.which}constructor(t,e){super(t,e),this.bindings={},Object.keys(this.options.bindings).forEach(r=>{this.options.bindings[r]&&this.addBinding(this.options.bindings[r])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=fd(t);if(i==null){cd.warn("Attempted to add invalid keyboard binding",i);return}typeof e=="function"&&(e={handler:e}),typeof r=="function"&&(r={handler:r}),(Array.isArray(i.key)?i.key:[i.key]).forEach(o=>{const l={...i,key:o,...e,...r};this.bindings[l.key]=this.bindings[l.key]||[],this.bindings[l.key].push(l)})}listen(){this.quill.root.addEventListener("keydown",t=>{if(t.defaultPrevented||t.isComposing||t.keyCode===229&&(t.key==="Enter"||t.key==="Backspace"))return;const i=(this.bindings[t.key]||[]).concat(this.bindings[t.which]||[]).filter(w=>Mr.match(t,w));if(i.length===0)return;const s=P.find(t.target,!0);if(s&&s.scroll!==this.quill.scroll)return;const o=this.quill.getSelection();if(o==null||!this.quill.hasFocus())return;const[l,a]=this.quill.getLine(o.index),[c,u]=this.quill.getLeaf(o.index),[f,h]=o.length===0?[c,u]:this.quill.getLeaf(o.index+o.length),d=c instanceof Lr?c.value().slice(0,u):"",p=f instanceof Lr?f.value().slice(h):"",g={collapsed:o.length===0,empty:o.length===0&&l.length()<=1,format:this.quill.getFormat(o),line:l,offset:a,prefix:d,suffix:p,event:t};i.some(w=>{if(w.collapsed!=null&&w.collapsed!==g.collapsed||w.empty!=null&&w.empty!==g.empty||w.offset!=null&&w.offset!==g.offset)return!1;if(Array.isArray(w.format)){if(w.format.every(v=>g.format[v]==null))return!1}else if(typeof w.format=="object"&&!Object.keys(w.format).every(v=>w.format[v]===!0?g.format[v]!=null:w.format[v]===!1?g.format[v]==null:Un(w.format[v],g.format[v])))return!1;return w.prefix!=null&&!w.prefix.test(g.prefix)||w.suffix!=null&&!w.suffix.test(g.suffix)?!1:w.handler.call(this,o,g,w)!==!0})&&t.preventDefault()})}handleBackspace(t,e){const r=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;if(t.index===0||this.quill.getLength()<=1)return;let i={};const[s]=this.quill.getLine(t.index);let o=new W().retain(t.index-r).delete(r);if(e.offset===0){const[l]=this.quill.getLine(t.index-1);if(l&&!(l.statics.blotName==="block"&&l.length()<=1)){const c=s.formats(),u=this.quill.getFormat(t.index-1,1);if(i=mt.AttributeMap.diff(c,u)||{},Object.keys(i).length>0){const f=new W().retain(t.index+s.length()-2).retain(1,i);o=o.compose(f)}}}this.quill.updateContents(o,P.sources.USER),this.quill.focus()}handleDelete(t,e){const r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(t.index>=this.quill.getLength()-r)return;let i={};const[s]=this.quill.getLine(t.index);let o=new W().retain(t.index).delete(r);if(e.offset>=s.length()-1){const[l]=this.quill.getLine(t.index+1);if(l){const a=s.formats(),c=this.quill.getFormat(t.index,1);i=mt.AttributeMap.diff(a,c)||{},Object.keys(i).length>0&&(o=o.retain(l.length()-1).retain(1,i))}}this.quill.updateContents(o,P.sources.USER),this.quill.focus()}handleDeleteRange(t){Yn({range:t,quill:this.quill}),this.quill.focus()}handleEnter(t,e){const r=Object.keys(e.format).reduce((s,o)=>(this.quill.scroll.query(o,K.BLOCK)&&!Array.isArray(e.format[o])&&(s[o]=e.format[o]),s),{}),i=new W().retain(t.index).delete(t.length).insert(`
`,r);this.quill.updateContents(i,P.sources.USER),this.quill.setSelection(t.index+1,P.sources.SILENT),this.quill.focus()}}const hd={bindings:{bold:un("bold"),italic:un("italic"),underline:un("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(n,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","+1",P.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(n,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","-1",P.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(n,t){t.format.indent!=null?this.quill.format("indent","-1",P.sources.USER):t.format.list!=null&&this.quill.format("list",!1,P.sources.USER)}},"indent code-block":us(!0),"outdent code-block":us(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(n){this.quill.deleteText(n.index-1,1,P.sources.USER)}},tab:{key:"Tab",handler(n,t){if(t.format.table)return!0;this.quill.history.cutoff();const e=new W().retain(n.index).delete(n.length).insert("	");return this.quill.updateContents(e,P.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index+1,P.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,P.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(n,t){const e={list:!1};t.format.indent&&(e.indent=!1),this.quill.formatLine(n.index,n.length,e,P.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(n){const[t,e]=this.quill.getLine(n.index),r={...t.formats(),list:"checked"},i=new W().retain(n.index).insert(`
`,r).retain(t.length()-e-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,P.sources.USER),this.quill.setSelection(n.index+1,P.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(n,t){const[e,r]=this.quill.getLine(n.index),i=new W().retain(n.index).insert(`
`,t.format).retain(e.length()-r-1).retain(1,{header:null});this.quill.updateContents(i,P.sources.USER),this.quill.setSelection(n.index+1,P.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(n){const t=this.quill.getModule("table");if(t){const[e,r,i,s]=t.getTable(n),o=dd(e,r,i,s);if(o==null)return;let l=e.offset();if(o<0){const a=new W().retain(l).insert(`
`);this.quill.updateContents(a,P.sources.USER),this.quill.setSelection(n.index+1,n.length,P.sources.SILENT)}else if(o>0){l+=e.length();const a=new W().retain(l).insert(`
`);this.quill.updateContents(a,P.sources.USER),this.quill.setSelection(l,P.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(n,t){const{event:e,line:r}=t,i=r.offset(this.quill.scroll);e.shiftKey?this.quill.setSelection(i-1,P.sources.USER):this.quill.setSelection(i+r.length(),P.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(n,t){if(this.quill.scroll.query("list")==null)return!0;const{length:e}=t.prefix,[r,i]=this.quill.getLine(n.index);if(i>e)return!0;let s;switch(t.prefix.trim()){case"[]":case"[ ]":s="unchecked";break;case"[x]":s="checked";break;case"-":case"*":s="bullet";break;default:s="ordered"}this.quill.insertText(n.index," ",P.sources.USER),this.quill.history.cutoff();const o=new W().retain(n.index-i).delete(e+1).retain(r.length()-2-i).retain(1,{list:s});return this.quill.updateContents(o,P.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index-e,P.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(n){const[t,e]=this.quill.getLine(n.index);let r=2,i=t;for(;i!=null&&i.length()<=1&&i.formats()["code-block"];)if(i=i.prev,r-=1,r<=0){const s=new W().retain(n.index+t.length()-e-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(s,P.sources.USER),this.quill.setSelection(n.index-1,P.sources.SILENT),!1}return!0}},"embed left":vr("ArrowLeft",!1),"embed left shift":vr("ArrowLeft",!0),"embed right":vr("ArrowRight",!1),"embed right shift":vr("ArrowRight",!0),"table down":hs(!1),"table up":hs(!0)}};Mr.DEFAULTS=hd;function us(n){return{key:"Tab",shiftKey:!n,format:{"code-block":!0},handler(t,e){let{event:r}=e;const i=this.quill.scroll.query("code-block"),{TAB:s}=i;if(t.length===0&&!r.shiftKey){this.quill.insertText(t.index,s,P.sources.USER),this.quill.setSelection(t.index+s.length,P.sources.SILENT);return}const o=t.length===0?this.quill.getLines(t.index,1):this.quill.getLines(t);let{index:l,length:a}=t;o.forEach((c,u)=>{n?(c.insertAt(0,s),u===0?l+=s.length:a+=s.length):c.domNode.textContent.startsWith(s)&&(c.deleteAt(0,s.length),u===0?l-=s.length:a-=s.length)}),this.quill.update(P.sources.USER),this.quill.setSelection(l,a,P.sources.SILENT)}}}function vr(n,t){return{key:n,shiftKey:t,altKey:null,[n==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(r){let{index:i}=r;n==="ArrowRight"&&(i+=r.length+1);const[s]=this.quill.getLeaf(i);return s instanceof wt?(n==="ArrowLeft"?t?this.quill.setSelection(r.index-1,r.length+1,P.sources.USER):this.quill.setSelection(r.index-1,P.sources.USER):t?this.quill.setSelection(r.index,r.length+1,P.sources.USER):this.quill.setSelection(r.index+r.length+1,P.sources.USER),!1):!0}}}function un(n){return{key:n[0],shortKey:!0,handler(t,e){this.quill.format(n,!e.format[n],P.sources.USER)}}}function hs(n){return{key:n?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(t,e){const r=n?"prev":"next",i=e.line,s=i.parent[r];if(s!=null){if(s.statics.blotName==="table-row"){let o=s.children.head,l=i;for(;l.prev!=null;)l=l.prev,o=o.next;const a=o.offset(this.quill.scroll)+Math.min(e.offset,o.length()-1);this.quill.setSelection(a,0,P.sources.USER)}}else{const o=i.table()[r];o!=null&&(n?this.quill.setSelection(o.offset(this.quill.scroll)+o.length()-1,0,P.sources.USER):this.quill.setSelection(o.offset(this.quill.scroll),0,P.sources.USER))}return!1}}}function fd(n){if(typeof n=="string"||typeof n=="number")n={key:n};else if(typeof n=="object")n=Te(n);else return null;return n.shortKey&&(n[ud]=n.shortKey,delete n.shortKey),n}function Yn(n){let{quill:t,range:e}=n;const r=t.getLines(e);let i={};if(r.length>1){const s=r[0].formats(),o=r[r.length-1].formats();i=mt.AttributeMap.diff(o,s)||{}}t.deleteText(e,P.sources.USER),Object.keys(i).length>0&&t.formatLine(e.index,1,i,P.sources.USER),t.setSelection(e.index,P.sources.SILENT)}function dd(n,t,e,r){return t.prev==null&&t.next==null?e.prev==null&&e.next==null?r===0?-1:1:e.prev==null?-1:1:t.prev==null?-1:t.next==null?1:null}const pd=/font-weight:\s*normal/,gd=["P","OL","UL"],fs=n=>n&&gd.includes(n.tagName),md=n=>{Array.from(n.querySelectorAll("br")).filter(t=>fs(t.previousElementSibling)&&fs(t.nextElementSibling)).forEach(t=>{var e;(e=t.parentNode)==null||e.removeChild(t)})},bd=n=>{Array.from(n.querySelectorAll('b[style*="font-weight"]')).filter(t=>{var e;return(e=t.getAttribute("style"))==null?void 0:e.match(pd)}).forEach(t=>{var r;const e=n.createDocumentFragment();e.append(...t.childNodes),(r=t.parentNode)==null||r.replaceChild(e,t)})};function yd(n){n.querySelector('[id^="docs-internal-guid-"]')&&(bd(n),md(n))}const vd=/\bmso-list:[^;]*ignore/i,wd=/\bmso-list:[^;]*\bl(\d+)/i,xd=/\bmso-list:[^;]*\blevel(\d+)/i,Ad=(n,t)=>{const e=n.getAttribute("style"),r=e==null?void 0:e.match(wd);if(!r)return null;const i=Number(r[1]),s=e==null?void 0:e.match(xd),o=s?Number(s[1]):1,l=new RegExp(`@list l${i}:level${o}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),a=t.match(l),c=a&&a[1]==="bullet"?"bullet":"ordered";return{id:i,indent:o,type:c,element:n}},Ed=n=>{var o,l;const t=Array.from(n.querySelectorAll("[style*=mso-list]")),e=[],r=[];t.forEach(a=>{(a.getAttribute("style")||"").match(vd)?e.push(a):r.push(a)}),e.forEach(a=>{var c;return(c=a.parentNode)==null?void 0:c.removeChild(a)});const i=n.documentElement.innerHTML,s=r.map(a=>Ad(a,i)).filter(a=>a);for(;s.length;){const a=[];let c=s.shift();for(;c;)a.push(c),c=s.length&&((o=s[0])==null?void 0:o.element)===c.element.nextElementSibling&&s[0].id===c.id?s.shift():null;const u=document.createElement("ul");a.forEach(d=>{const p=document.createElement("li");p.setAttribute("data-list",d.type),d.indent>1&&p.setAttribute("class",`ql-indent-${d.indent-1}`),p.innerHTML=d.element.innerHTML,u.appendChild(p)});const f=(l=a[0])==null?void 0:l.element,{parentNode:h}=f??{};f&&(h==null||h.replaceChild(u,f)),a.slice(1).forEach(d=>{let{element:p}=d;h==null||h.removeChild(p)})}};function Td(n){n.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&Ed(n)}const Nd=[Td,yd],Od=n=>{n.documentElement&&Nd.forEach(t=>{t(n)})},Sd=Wt("quill:clipboard"),Ld=[[Node.TEXT_NODE,$d],[Node.TEXT_NODE,ps],["br",_d],[Node.ELEMENT_NODE,ps],[Node.ELEMENT_NODE,Id],[Node.ELEMENT_NODE,kd],[Node.ELEMENT_NODE,Bd],["li",Pd],["ol, ul",Md],["pre",Rd],["tr",Dd],["b",hn("bold")],["i",hn("italic")],["strike",hn("strike")],["style",jd]],Cd=[sd,po].reduce((n,t)=>(n[t.keyName]=t,n),{}),ds=[ho,Wn,Gn,mo,vo,xo].reduce((n,t)=>(n[t.keyName]=t,n),{});class Ao extends Nt{constructor(t,e){super(t,e),this.quill.root.addEventListener("copy",r=>this.onCaptureCopy(r,!1)),this.quill.root.addEventListener("cut",r=>this.onCaptureCopy(r,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],Ld.concat(this.options.matchers??[]).forEach(r=>{let[i,s]=r;this.addMatcher(i,s)})}addMatcher(t,e){this.matchers.push([t,e])}convert(t){let{html:e,text:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i[gt.blotName])return new W().insert(r||"",{[gt.blotName]:i[gt.blotName]});if(!e)return new W().insert(r||"",i);const s=this.convertHTML(e);return tr(s,`
`)&&(s.ops[s.ops.length-1].attributes==null||i.table)?s.compose(new W().retain(s.length()-1).delete(1)):s}normalizeHTML(t){Od(t)}convertHTML(t){const e=new DOMParser().parseFromString(t,"text/html");this.normalizeHTML(e);const r=e.body,i=new WeakMap,[s,o]=this.prepareMatching(r,i);return Xn(this.quill.scroll,r,s,o,i)}dangerouslyPasteHTML(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:P.sources.API;if(typeof t=="string"){const i=this.convert({html:t,text:""});this.quill.setContents(i,e),this.quill.setSelection(0,P.sources.SILENT)}else{const i=this.convert({html:e,text:""});this.quill.updateContents(new W().retain(t).concat(i),r),this.quill.setSelection(t+i.length(),P.sources.SILENT)}}onCaptureCopy(t){var o,l;let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t.defaultPrevented)return;t.preventDefault();const[r]=this.quill.selection.getRange();if(r==null)return;const{html:i,text:s}=this.onCopy(r,e);(o=t.clipboardData)==null||o.setData("text/plain",s),(l=t.clipboardData)==null||l.setData("text/html",i),e&&Yn({range:r,quill:this.quill})}normalizeURIList(t){return t.split(/\r?\n/).filter(e=>e[0]!=="#").join(`
`)}onCapturePaste(t){var o,l,a,c,u;if(t.defaultPrevented||!this.quill.isEnabled())return;t.preventDefault();const e=this.quill.getSelection(!0);if(e==null)return;const r=(o=t.clipboardData)==null?void 0:o.getData("text/html");let i=(l=t.clipboardData)==null?void 0:l.getData("text/plain");if(!r&&!i){const f=(a=t.clipboardData)==null?void 0:a.getData("text/uri-list");f&&(i=this.normalizeURIList(f))}const s=Array.from(((c=t.clipboardData)==null?void 0:c.files)||[]);if(!r&&s.length>0){this.quill.uploader.upload(e,s);return}if(r&&s.length>0){const f=new DOMParser().parseFromString(r,"text/html");if(f.body.childElementCount===1&&((u=f.body.firstElementChild)==null?void 0:u.tagName)==="IMG"){this.quill.uploader.upload(e,s);return}}this.onPaste(e,{html:r,text:i})}onCopy(t){const e=this.quill.getText(t);return{html:this.quill.getSemanticHTML(t),text:e}}onPaste(t,e){let{text:r,html:i}=e;const s=this.quill.getFormat(t.index),o=this.convert({text:r,html:i},s);Sd.log("onPaste",o,{text:r,html:i});const l=new W().retain(t.index).delete(t.length).concat(o);this.quill.updateContents(l,P.sources.USER),this.quill.setSelection(l.length()-t.length,P.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(t,e){const r=[],i=[];return this.matchers.forEach(s=>{const[o,l]=s;switch(o){case Node.TEXT_NODE:i.push(l);break;case Node.ELEMENT_NODE:r.push(l);break;default:Array.from(t.querySelectorAll(o)).forEach(a=>{if(e.has(a)){const c=e.get(a);c==null||c.push(l)}else e.set(a,[l])});break}}),[r,i]}}F(Ao,"DEFAULTS",{matchers:[]});function de(n,t,e,r){return r.query(t)?n.reduce((i,s)=>{if(!s.insert)return i;if(s.attributes&&s.attributes[t])return i.push(s);const o=e?{[t]:e}:{};return i.insert(s.insert,{...o,...s.attributes})},new W):n}function tr(n,t){let e="";for(let r=n.ops.length-1;r>=0&&e.length<t.length;--r){const i=n.ops[r];if(typeof i.insert!="string")break;e=i.insert+e}return e.slice(-1*t.length)===t}function Yt(n,t){if(!(n instanceof Element))return!1;const e=t.query(n);return e&&e.prototype instanceof wt?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(n.tagName.toLowerCase())}function qd(n,t){return n.previousElementSibling&&n.nextElementSibling&&!Yt(n.previousElementSibling,t)&&!Yt(n.nextElementSibling,t)}const wr=new WeakMap;function Eo(n){return n==null?!1:(wr.has(n)||(n.tagName==="PRE"?wr.set(n,!0):wr.set(n,Eo(n.parentNode))),wr.get(n))}function Xn(n,t,e,r,i){return t.nodeType===t.TEXT_NODE?r.reduce((s,o)=>o(t,s,n),new W):t.nodeType===t.ELEMENT_NODE?Array.from(t.childNodes||[]).reduce((s,o)=>{let l=Xn(n,o,e,r,i);return o.nodeType===t.ELEMENT_NODE&&(l=e.reduce((a,c)=>c(o,a,n),l),l=(i.get(o)||[]).reduce((a,c)=>c(o,a,n),l)),s.concat(l)},new W):new W}function hn(n){return(t,e,r)=>de(e,n,!0,r)}function kd(n,t,e){const r=Mt.keys(n),i=It.keys(n),s=re.keys(n),o={};return r.concat(i).concat(s).forEach(l=>{let a=e.query(l,K.ATTRIBUTE);a!=null&&(o[a.attrName]=a.value(n),o[a.attrName])||(a=Cd[l],a!=null&&(a.attrName===l||a.keyName===l)&&(o[a.attrName]=a.value(n)||void 0),a=ds[l],a!=null&&(a.attrName===l||a.keyName===l)&&(a=ds[l],o[a.attrName]=a.value(n)||void 0))}),Object.entries(o).reduce((l,a)=>{let[c,u]=a;return de(l,c,u,e)},t)}function Id(n,t,e){const r=e.query(n);if(r==null)return t;if(r.prototype instanceof wt){const i={},s=r.value(n);if(s!=null)return i[r.blotName]=s,new W().insert(i,r.formats(n,e))}else if(r.prototype instanceof Ze&&!tr(t,`
`)&&t.insert(`
`),"blotName"in r&&"formats"in r&&typeof r.formats=="function")return de(t,r.blotName,r.formats(n,e),e);return t}function _d(n,t){return tr(t,`
`)||t.insert(`
`),t}function Rd(n,t,e){const r=e.query("code-block"),i=r&&"formats"in r&&typeof r.formats=="function"?r.formats(n,e):!0;return de(t,"code-block",i,e)}function jd(){return new W}function Pd(n,t,e){const r=e.query(n);if(r==null||r.blotName!=="list"||!tr(t,`
`))return t;let i=-1,s=n.parentNode;for(;s!=null;)["OL","UL"].includes(s.tagName)&&(i+=1),s=s.parentNode;return i<=0?t:t.reduce((o,l)=>l.insert?l.attributes&&typeof l.attributes.indent=="number"?o.push(l):o.insert(l.insert,{indent:i,...l.attributes||{}}):o,new W)}function Md(n,t,e){const r=n;let i=r.tagName==="OL"?"ordered":"bullet";const s=r.getAttribute("data-checked");return s&&(i=s==="true"?"checked":"unchecked"),de(t,"list",i,e)}function ps(n,t,e){if(!tr(t,`
`)){if(Yt(n,e)&&(n.childNodes.length>0||n instanceof HTMLParagraphElement))return t.insert(`
`);if(t.length()>0&&n.nextSibling){let r=n.nextSibling;for(;r!=null;){if(Yt(r,e))return t.insert(`
`);const i=e.query(r);if(i&&i.prototype instanceof Tt)return t.insert(`
`);r=r.firstChild}}}return t}function Bd(n,t,e){var s;const r={},i=n.style||{};return i.fontStyle==="italic"&&(r.italic=!0),i.textDecoration==="underline"&&(r.underline=!0),i.textDecoration==="line-through"&&(r.strike=!0),((s=i.fontWeight)!=null&&s.startsWith("bold")||parseInt(i.fontWeight,10)>=700)&&(r.bold=!0),t=Object.entries(r).reduce((o,l)=>{let[a,c]=l;return de(o,a,c,e)},t),parseFloat(i.textIndent||0)>0?new W().insert("	").concat(t):t}function Dd(n,t,e){var i,s;const r=((i=n.parentElement)==null?void 0:i.tagName)==="TABLE"?n.parentElement:(s=n.parentElement)==null?void 0:s.parentElement;if(r!=null){const l=Array.from(r.querySelectorAll("tr")).indexOf(n)+1;return de(t,"table",l,e)}return t}function $d(n,t,e){var i;let r=n.data;if(((i=n.parentElement)==null?void 0:i.tagName)==="O:P")return t.insert(r.trim());if(!Eo(n)){if(r.trim().length===0&&r.includes(`
`)&&!qd(n,e))return t;r=r.replace(/[^\S\u00a0]/g," "),r=r.replace(/ {2,}/g," "),(n.previousSibling==null&&n.parentElement!=null&&Yt(n.parentElement,e)||n.previousSibling instanceof Element&&Yt(n.previousSibling,e))&&(r=r.replace(/^ /,"")),(n.nextSibling==null&&n.parentElement!=null&&Yt(n.parentElement,e)||n.nextSibling instanceof Element&&Yt(n.nextSibling,e))&&(r=r.replace(/ $/,"")),r=r.replaceAll(" "," ")}return t.insert(r)}class To extends Nt{constructor(e,r){super(e,r);F(this,"lastRecorded",0);F(this,"ignoreChange",!1);F(this,"stack",{undo:[],redo:[]});F(this,"currentRange",null);this.quill.on(P.events.EDITOR_CHANGE,(i,s,o,l)=>{i===P.events.SELECTION_CHANGE?s&&l!==P.sources.SILENT&&(this.currentRange=s):i===P.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||l===P.sources.USER?this.record(s,o):this.transform(s)),this.currentRange=Sn(this.currentRange,s))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",i=>{i.inputType==="historyUndo"?(this.undo(),i.preventDefault()):i.inputType==="historyRedo"&&(this.redo(),i.preventDefault())})}change(e,r){if(this.stack[e].length===0)return;const i=this.stack[e].pop();if(!i)return;const s=this.quill.getContents(),o=i.delta.invert(s);this.stack[r].push({delta:o,range:Sn(i.range,o)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(i.delta,P.sources.USER),this.ignoreChange=!1,this.restoreSelection(i)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(e,r){if(e.ops.length===0)return;this.stack.redo=[];let i=e.invert(r),s=this.currentRange;const o=Date.now();if(this.lastRecorded+this.options.delay>o&&this.stack.undo.length>0){const l=this.stack.undo.pop();l&&(i=i.compose(l.delta),s=l.range)}else this.lastRecorded=o;i.length()!==0&&(this.stack.undo.push({delta:i,range:s}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(e){gs(this.stack.undo,e),gs(this.stack.redo,e)}undo(){this.change("undo","redo")}restoreSelection(e){if(e.range)this.quill.setSelection(e.range,P.sources.USER);else{const r=zd(this.quill.scroll,e.delta);this.quill.setSelection(r,P.sources.USER)}}}F(To,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function gs(n,t){let e=t;for(let r=n.length-1;r>=0;r-=1){const i=n[r];n[r]={delta:e.transform(i.delta,!0),range:i.range&&Sn(i.range,e)},e=i.delta.transform(e),n[r].delta.length()===0&&n.splice(r,1)}}function Ud(n,t){const e=t.ops[t.ops.length-1];return e==null?!1:e.insert!=null?typeof e.insert=="string"&&e.insert.endsWith(`
`):e.attributes!=null?Object.keys(e.attributes).some(r=>n.query(r,K.BLOCK)!=null):!1}function zd(n,t){const e=t.reduce((i,s)=>i+(s.delete||0),0);let r=t.length()-e;return Ud(n,t)&&(r-=1),r}function Sn(n,t){if(!n)return n;const e=t.transformPosition(n.index),r=t.transformPosition(n.index+n.length);return{index:e,length:r-e}}class No extends Nt{constructor(t,e){super(t,e),t.root.addEventListener("drop",r=>{var o;r.preventDefault();let i=null;if(document.caretRangeFromPoint)i=document.caretRangeFromPoint(r.clientX,r.clientY);else if(document.caretPositionFromPoint){const l=document.caretPositionFromPoint(r.clientX,r.clientY);i=document.createRange(),i.setStart(l.offsetNode,l.offset),i.setEnd(l.offsetNode,l.offset)}const s=i&&t.selection.normalizeNative(i);if(s){const l=t.selection.normalizedToRange(s);(o=r.dataTransfer)!=null&&o.files&&this.upload(l,r.dataTransfer.files)}})}upload(t,e){const r=[];Array.from(e).forEach(i=>{var s;i&&((s=this.options.mimetypes)!=null&&s.includes(i.type))&&r.push(i)}),r.length>0&&this.options.handler.call(this,t,r)}}No.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(n,t){if(!this.quill.scroll.query("image"))return;const e=t.map(r=>new Promise(i=>{const s=new FileReader;s.onload=()=>{i(s.result)},s.readAsDataURL(r)}));Promise.all(e).then(r=>{const i=r.reduce((s,o)=>s.insert({image:o}),new W().retain(n.index).delete(n.length));this.quill.updateContents(i,G.sources.USER),this.quill.setSelection(n.index+r.length,G.sources.SILENT)})}};const Hd=["insertText","insertReplacementText"];class Fd extends Nt{constructor(t,e){super(t,e),t.root.addEventListener("beforeinput",r=>{this.handleBeforeInput(r)}),/Android/i.test(navigator.userAgent)||t.on(P.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(t){Yn({range:t,quill:this.quill})}replaceText(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(t.length===0)return!1;if(e){const r=this.quill.getFormat(t.index,1);this.deleteRange(t),this.quill.updateContents(new W().retain(t.index).insert(e,r),P.sources.USER)}else this.deleteRange(t);return this.quill.setSelection(t.index+e.length,0,P.sources.SILENT),!0}handleBeforeInput(t){if(this.quill.composition.isComposing||t.defaultPrevented||!Hd.includes(t.inputType))return;const e=t.getTargetRanges?t.getTargetRanges()[0]:null;if(!e||e.collapsed===!0)return;const r=Vd(t);if(r==null)return;const i=this.quill.selection.normalizeNative(e),s=i?this.quill.selection.normalizedToRange(i):null;s&&this.replaceText(s,r)&&t.preventDefault()}handleCompositionStart(){const t=this.quill.getSelection();t&&this.replaceText(t)}}function Vd(n){var t;return typeof n.data=="string"?n.data:(t=n.dataTransfer)!=null&&t.types.includes("text/plain")?n.dataTransfer.getData("text/plain"):null}const Gd=/Mac/i.test(navigator.platform),Wd=100,Kd=n=>!!(n.key==="ArrowLeft"||n.key==="ArrowRight"||n.key==="ArrowUp"||n.key==="ArrowDown"||n.key==="Home"||Gd&&n.key==="a"&&n.ctrlKey===!0);class Zd extends Nt{constructor(e,r){super(e,r);F(this,"isListening",!1);F(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(e,r){let{line:i,event:s}=r;if(!(i instanceof qt)||!i.uiNode)return!0;const o=getComputedStyle(i.domNode).direction==="rtl";return o&&s.key!=="ArrowRight"||!o&&s.key!=="ArrowLeft"?!0:(this.quill.setSelection(e.index-1,e.length+(s.shiftKey?1:0),P.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",e=>{!e.defaultPrevented&&Kd(e)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+Wd,this.isListening)return;this.isListening=!0;const e=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",e,{once:!0})}handleSelectionChange(){const e=document.getSelection();if(!e)return;const r=e.getRangeAt(0);if(r.collapsed!==!0||r.startOffset!==0)return;const i=this.quill.scroll.find(r.startContainer);if(!(i instanceof qt)||!i.uiNode)return;const s=document.createRange();s.setStartAfter(i.uiNode),s.setEndAfter(i.uiNode),e.removeAllRanges(),e.addRange(s)}}P.register({"blots/block":dt,"blots/block/embed":Tt,"blots/break":_t,"blots/container":he,"blots/cursor":Ce,"blots/embed":Fn,"blots/inline":Bt,"blots/scroll":Ee,"blots/text":kt,"modules/clipboard":Ao,"modules/history":To,"modules/keyboard":Mr,"modules/uploader":No,"modules/input":Fd,"modules/uiNode":Zd});class Yd extends It{add(t,e){let r=0;if(e==="+1"||e==="-1"){const i=this.value(t)||0;r=e==="+1"?i+1:i-1}else typeof e=="number"&&(r=e);return r===0?(this.remove(t),!0):super.add(t,r.toString())}canAdd(t,e){return super.canAdd(t,e)||super.canAdd(t,parseInt(e,10))}value(t){return parseInt(super.value(t),10)||void 0}}const Xd=new Yd("indent","ql-indent",{scope:K.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class Ln extends dt{}F(Ln,"blotName","blockquote"),F(Ln,"tagName","blockquote");class Cn extends dt{static formats(t){return this.tagName.indexOf(t.tagName)+1}}F(Cn,"blotName","header"),F(Cn,"tagName",["H1","H2","H3","H4","H5","H6"]);class er extends he{}er.blotName="list-container";er.tagName="OL";class rr extends dt{static create(t){const e=super.create();return e.setAttribute("data-list",t),e}static formats(t){return t.getAttribute("data-list")||void 0}static register(){P.register(er)}constructor(t,e){super(t,e);const r=e.ownerDocument.createElement("span"),i=s=>{if(!t.isEnabled())return;const o=this.statics.formats(e,t);o==="checked"?(this.format("list","unchecked"),s.preventDefault()):o==="unchecked"&&(this.format("list","checked"),s.preventDefault())};r.addEventListener("mousedown",i),r.addEventListener("touchstart",i),this.attachUI(r)}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-list",e):super.format(t,e)}}rr.blotName="list";rr.tagName="LI";er.allowedChildren=[rr];rr.requiredContainer=er;class Xe extends Bt{static create(){return super.create()}static formats(){return!0}optimize(t){super.optimize(t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}F(Xe,"blotName","bold"),F(Xe,"tagName",["STRONG","B"]);class qn extends Xe{}F(qn,"blotName","italic"),F(qn,"tagName",["EM","I"]);class Xt extends Bt{static create(t){const e=super.create(t);return e.setAttribute("href",this.sanitize(t)),e.setAttribute("rel","noopener noreferrer"),e.setAttribute("target","_blank"),e}static formats(t){return t.getAttribute("href")}static sanitize(t){return Oo(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}format(t,e){t!==this.statics.blotName||!e?super.format(t,e):this.domNode.setAttribute("href",this.constructor.sanitize(e))}}F(Xt,"blotName","link"),F(Xt,"tagName","A"),F(Xt,"SANITIZED_URL","about:blank"),F(Xt,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function Oo(n,t){const e=document.createElement("a");e.href=n;const r=e.href.slice(0,e.href.indexOf(":"));return t.indexOf(r)>-1}class kn extends Bt{static create(t){return t==="super"?document.createElement("sup"):t==="sub"?document.createElement("sub"):super.create(t)}static formats(t){if(t.tagName==="SUB")return"sub";if(t.tagName==="SUP")return"super"}}F(kn,"blotName","script"),F(kn,"tagName",["SUB","SUP"]);class In extends Xe{}F(In,"blotName","strike"),F(In,"tagName",["S","STRIKE"]);class _n extends Bt{}F(_n,"blotName","underline"),F(_n,"tagName","U");class Er extends Fn{static create(t){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const e=super.create(t);return typeof t=="string"&&(window.katex.render(t,e,{throwOnError:!1,errorColor:"#f00"}),e.setAttribute("data-value",t)),e}static value(t){return t.getAttribute("data-value")}html(){const{formula:t}=this.value();return`<span>${t}</span>`}}F(Er,"blotName","formula"),F(Er,"className","ql-formula"),F(Er,"tagName","SPAN");const ms=["alt","height","width"];class Rn extends wt{static create(t){const e=super.create(t);return typeof t=="string"&&e.setAttribute("src",this.sanitize(t)),e}static formats(t){return ms.reduce((e,r)=>(t.hasAttribute(r)&&(e[r]=t.getAttribute(r)),e),{})}static match(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}static sanitize(t){return Oo(t,["http","https","data"])?t:"//:0"}static value(t){return t.getAttribute("src")}format(t,e){ms.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}}F(Rn,"blotName","image"),F(Rn,"tagName","IMG");const bs=["height","width"];class Tr extends Tt{static create(t){const e=super.create(t);return e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen","true"),e.setAttribute("src",this.sanitize(t)),e}static formats(t){return bs.reduce((e,r)=>(t.hasAttribute(r)&&(e[r]=t.getAttribute(r)),e),{})}static sanitize(t){return Xt.sanitize(t)}static value(t){return t.getAttribute("src")}format(t,e){bs.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}html(){const{video:t}=this.value();return`<a href="${t}">${t}</a>`}}F(Tr,"blotName","video"),F(Tr,"className","ql-video"),F(Tr,"tagName","IFRAME");const $e=new It("code-token","hljs",{scope:K.INLINE});class Ft extends Bt{static formats(t,e){for(;t!=null&&t!==e.domNode;){if(t.classList&&t.classList.contains(gt.className))return super.formats(t,e);t=t.parentNode}}constructor(t,e,r){super(t,e,r),$e.add(this.domNode,r)}format(t,e){t!==Ft.blotName?super.format(t,e):e?$e.add(this.domNode,e):($e.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),$e.value(this.domNode)||this.unwrap()}}Ft.blotName="code-token";Ft.className="ql-token";class Et extends gt{static create(t){const e=super.create(t);return typeof t=="string"&&e.setAttribute("data-language",t),e}static formats(t){return t.getAttribute("data-language")||"plain"}static register(){}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-language",e):super.format(t,e)}replaceWith(t,e){return this.formatAt(0,this.length(),Ft.blotName,!1),super.replaceWith(t,e)}}class ze extends fe{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(t,e){t===Et.blotName&&(this.forceNext=!0,this.children.forEach(r=>{r.format(t,e)}))}formatAt(t,e,r,i){r===Et.blotName&&(this.forceNext=!0),super.formatAt(t,e,r,i)}highlight(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const i=`${Array.from(this.domNode.childNodes).filter(o=>o!==this.uiNode).map(o=>o.textContent).join(`
`)}
`,s=Et.formats(this.children.head.domNode);if(e||this.forceNext||this.cachedText!==i){if(i.trim().length>0||this.cachedText==null){const o=this.children.reduce((a,c)=>a.concat(ao(c,!1)),new W),l=t(i,s);o.diff(l).reduce((a,c)=>{let{retain:u,attributes:f}=c;return u?(f&&Object.keys(f).forEach(h=>{[Et.blotName,Ft.blotName].includes(h)&&this.formatAt(a,u,h,f[h])}),a+u):a},0)}this.cachedText=i,this.forceNext=!1}}html(t,e){const[r]=this.children.find(t);return`<pre data-language="${r?Et.formats(r.domNode):"plain"}">
${Pr(this.code(t,e))}
</pre>`}optimize(t){if(super.optimize(t),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const e=Et.formats(this.children.head.domNode);e!==this.uiNode.value&&(this.uiNode.value=e)}}}ze.allowedChildren=[Et];Et.requiredContainer=ze;Et.allowedChildren=[Ft,Ce,kt,_t];const Qd=(n,t,e)=>{if(typeof n.versionString=="string"){const r=n.versionString.split(".")[0];if(parseInt(r,10)>=11)return n.highlight(e,{language:t}).value}return n.highlight(t,e).value};class So extends Nt{static register(){P.register(Ft,!0),P.register(Et,!0),P.register(ze,!0)}constructor(t,e){if(super(t,e),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((r,i)=>{let{key:s}=i;return r[s]=!0,r},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(P.events.SCROLL_BLOT_MOUNT,t=>{if(!(t instanceof ze))return;const e=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(r=>{let{key:i,label:s}=r;const o=e.ownerDocument.createElement("option");o.textContent=s,o.setAttribute("value",i),e.appendChild(o)}),e.addEventListener("change",()=>{t.format(Et.blotName,e.value),this.quill.root.focus(),this.highlight(t,!0)}),t.uiNode==null&&(t.attachUI(e),t.children.head&&(e.value=Et.formats(t.children.head.domNode)))})}initTimer(){let t=null;this.quill.on(P.events.SCROLL_OPTIMIZE,()=>{t&&clearTimeout(t),t=setTimeout(()=>{this.highlight(),t=null},this.options.interval)})}highlight(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(P.sources.USER);const r=this.quill.getSelection();(t==null?this.quill.scroll.descendants(ze):[t]).forEach(s=>{s.highlight(this.highlightBlot,e)}),this.quill.update(P.sources.SILENT),r!=null&&this.quill.setSelection(r,P.sources.SILENT)}highlightBlot(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(e=this.languages[e]?e:"plain",e==="plain")return Pr(t).split(`
`).reduce((i,s,o)=>(o!==0&&i.insert(`
`,{[gt.blotName]:e}),i.insert(s)),new W);const r=this.quill.root.ownerDocument.createElement("div");return r.classList.add(gt.className),r.innerHTML=Qd(this.options.hljs,e,t),Xn(this.quill.scroll,r,[(i,s)=>{const o=$e.value(i);return o?s.compose(new W().retain(s.length(),{[Ft.blotName]:o})):s}],[(i,s)=>i.data.split(`
`).reduce((o,l,a)=>(a!==0&&o.insert(`
`,{[gt.blotName]:e}),o.insert(l)),s)],new WeakMap)}}So.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const Ve=class Ve extends dt{static create(t){const e=super.create();return t?e.setAttribute("data-row",t):e.setAttribute("data-row",Qn()),e}static formats(t){if(t.hasAttribute("data-row"))return t.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(t,e){t===Ve.blotName&&e?this.domNode.setAttribute("data-row",e):super.format(t,e)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};F(Ve,"blotName","table"),F(Ve,"tagName","TD");let Ct=Ve;class Vt extends he{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const t=this.children.head.formats(),e=this.children.tail.formats(),r=this.next.children.head.formats(),i=this.next.children.tail.formats();return t.table===e.table&&t.table===r.table&&t.table===i.table}return!1}optimize(t){super.optimize(t),this.children.forEach(e=>{if(e.next==null)return;const r=e.formats(),i=e.next.formats();if(r.table!==i.table){const s=this.splitAfter(e);s&&s.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}F(Vt,"blotName","table-row"),F(Vt,"tagName","TR");class Pt extends he{}F(Pt,"blotName","table-body"),F(Pt,"tagName","TBODY");class ke extends he{balanceCells(){const t=this.descendants(Vt),e=t.reduce((r,i)=>Math.max(i.children.length,r),0);t.forEach(r=>{new Array(e-r.children.length).fill(0).forEach(()=>{let i;r.children.head!=null&&(i=Ct.formats(r.children.head.domNode));const s=this.scroll.create(Ct.blotName,i);r.appendChild(s),s.optimize()})})}cells(t){return this.rows().map(e=>e.children.at(t))}deleteColumn(t){const[e]=this.descendant(Pt);e==null||e.children.head==null||e.children.forEach(r=>{const i=r.children.at(t);i!=null&&i.remove()})}insertColumn(t){const[e]=this.descendant(Pt);e==null||e.children.head==null||e.children.forEach(r=>{const i=r.children.at(t),s=Ct.formats(r.children.head.domNode),o=this.scroll.create(Ct.blotName,s);r.insertBefore(o,i)})}insertRow(t){const[e]=this.descendant(Pt);if(e==null||e.children.head==null)return;const r=Qn(),i=this.scroll.create(Vt.blotName);e.children.head.children.forEach(()=>{const o=this.scroll.create(Ct.blotName,r);i.appendChild(o)});const s=e.children.at(t);e.insertBefore(i,s)}rows(){const t=this.children.head;return t==null?[]:t.children.map(e=>e)}}F(ke,"blotName","table-container"),F(ke,"tagName","TABLE");ke.allowedChildren=[Pt];Pt.requiredContainer=ke;Pt.allowedChildren=[Vt];Vt.requiredContainer=Pt;Vt.allowedChildren=[Ct];Ct.requiredContainer=Vt;function Qn(){return`row-${Math.random().toString(36).slice(2,6)}`}class Jd extends Nt{static register(){P.register(Ct),P.register(Vt),P.register(Pt),P.register(ke)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(ke).forEach(t=>{t.balanceCells()})}deleteColumn(){const[t,,e]=this.getTable();e!=null&&(t.deleteColumn(e.cellOffset()),this.quill.update(P.sources.USER))}deleteRow(){const[,t]=this.getTable();t!=null&&(t.remove(),this.quill.update(P.sources.USER))}deleteTable(){const[t]=this.getTable();if(t==null)return;const e=t.offset();t.remove(),this.quill.update(P.sources.USER),this.quill.setSelection(e,P.sources.SILENT)}getTable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(t==null)return[null,null,null,-1];const[e,r]=this.quill.getLine(t.index);if(e==null||e.statics.blotName!==Ct.blotName)return[null,null,null,-1];const i=e.parent;return[i.parent.parent,i,e,r]}insertColumn(t){const e=this.quill.getSelection();if(!e)return;const[r,i,s]=this.getTable(e);if(s==null)return;const o=s.cellOffset();r.insertColumn(o+t),this.quill.update(P.sources.USER);let l=i.rowOffset();t===0&&(l+=1),this.quill.setSelection(e.index+l,e.length,P.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(t){const e=this.quill.getSelection();if(!e)return;const[r,i,s]=this.getTable(e);if(s==null)return;const o=i.rowOffset();r.insertRow(o+t),this.quill.update(P.sources.USER),t>0?this.quill.setSelection(e,P.sources.SILENT):this.quill.setSelection(e.index+i.children.length,e.length,P.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(t,e){const r=this.quill.getSelection();if(r==null)return;const i=new Array(t).fill(0).reduce(s=>{const o=new Array(e).fill(`
`).join("");return s.insert(o,{table:Qn()})},new W().retain(r.index));this.quill.updateContents(i,P.sources.USER),this.quill.setSelection(r.index,P.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(P.events.SCROLL_OPTIMIZE,t=>{t.some(e=>["TD","TR","TBODY","TABLE"].includes(e.target.tagName)?(this.quill.once(P.events.TEXT_CHANGE,(r,i,s)=>{s===P.sources.USER&&this.balanceTables()}),!0):!1)})}}const ys=Wt("quill:toolbar");class Jn extends Nt{constructor(t,e){var r,i;if(super(t,e),Array.isArray(this.options.container)){const s=document.createElement("div");s.setAttribute("role","toolbar"),tp(s,this.options.container),(i=(r=t.container)==null?void 0:r.parentNode)==null||i.insertBefore(s,t.container),this.container=s}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){ys.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(s=>{var l;const o=(l=this.options.handlers)==null?void 0:l[s];o&&this.addHandler(s,o)}),Array.from(this.container.querySelectorAll("button, select")).forEach(s=>{this.attach(s)}),this.quill.on(P.events.EDITOR_CHANGE,()=>{const[s]=this.quill.selection.getRange();this.update(s)})}addHandler(t,e){this.handlers[t]=e}attach(t){let e=Array.from(t.classList).find(i=>i.indexOf("ql-")===0);if(!e)return;if(e=e.slice(3),t.tagName==="BUTTON"&&t.setAttribute("type","button"),this.handlers[e]==null&&this.quill.scroll.query(e)==null){ys.warn("ignoring attaching to nonexistent format",e,t);return}const r=t.tagName==="SELECT"?"change":"click";t.addEventListener(r,i=>{let s;if(t.tagName==="SELECT"){if(t.selectedIndex<0)return;const l=t.options[t.selectedIndex];l.hasAttribute("selected")?s=!1:s=l.value||!1}else t.classList.contains("ql-active")?s=!1:s=t.value||!t.hasAttribute("value"),i.preventDefault();this.quill.focus();const[o]=this.quill.selection.getRange();if(this.handlers[e]!=null)this.handlers[e].call(this,s);else if(this.quill.scroll.query(e).prototype instanceof wt){if(s=prompt(`Enter ${e}`),!s)return;this.quill.updateContents(new W().retain(o.index).delete(o.length).insert({[e]:s}),P.sources.USER)}else this.quill.format(e,s,P.sources.USER);this.update(o)}),this.controls.push([e,t])}update(t){const e=t==null?{}:this.quill.getFormat(t);this.controls.forEach(r=>{const[i,s]=r;if(s.tagName==="SELECT"){let o=null;if(t==null)o=null;else if(e[i]==null)o=s.querySelector("option[selected]");else if(!Array.isArray(e[i])){let l=e[i];typeof l=="string"&&(l=l.replace(/"/g,'\\"')),o=s.querySelector(`option[value="${l}"]`)}o==null?(s.value="",s.selectedIndex=-1):o.selected=!0}else if(t==null)s.classList.remove("ql-active"),s.setAttribute("aria-pressed","false");else if(s.hasAttribute("value")){const o=e[i],l=o===s.getAttribute("value")||o!=null&&o.toString()===s.getAttribute("value")||o==null&&!s.getAttribute("value");s.classList.toggle("ql-active",l),s.setAttribute("aria-pressed",l.toString())}else{const o=e[i]!=null;s.classList.toggle("ql-active",o),s.setAttribute("aria-pressed",o.toString())}})}}Jn.DEFAULTS={};function vs(n,t,e){const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add(`ql-${t}`),r.setAttribute("aria-pressed","false"),e!=null?(r.value=e,r.setAttribute("aria-label",`${t}: ${e}`)):r.setAttribute("aria-label",t),n.appendChild(r)}function tp(n,t){Array.isArray(t[0])||(t=[t]),t.forEach(e=>{const r=document.createElement("span");r.classList.add("ql-formats"),e.forEach(i=>{if(typeof i=="string")vs(r,i);else{const s=Object.keys(i)[0],o=i[s];Array.isArray(o)?ep(r,s,o):vs(r,s,o)}}),n.appendChild(r)})}function ep(n,t,e){const r=document.createElement("select");r.classList.add(`ql-${t}`),e.forEach(i=>{const s=document.createElement("option");i!==!1?s.setAttribute("value",String(i)):s.setAttribute("selected","selected"),r.appendChild(s)}),n.appendChild(r)}Jn.DEFAULTS={container:null,handlers:{clean(){const n=this.quill.getSelection();if(n!=null)if(n.length===0){const t=this.quill.getFormat();Object.keys(t).forEach(e=>{this.quill.scroll.query(e,K.INLINE)!=null&&this.quill.format(e,!1,P.sources.USER)})}else this.quill.removeFormat(n.index,n.length,P.sources.USER)},direction(n){const{align:t}=this.quill.getFormat();n==="rtl"&&t==null?this.quill.format("align","right",P.sources.USER):!n&&t==="right"&&this.quill.format("align",!1,P.sources.USER),this.quill.format("direction",n,P.sources.USER)},indent(n){const t=this.quill.getSelection(),e=this.quill.getFormat(t),r=parseInt(e.indent||0,10);if(n==="+1"||n==="-1"){let i=n==="+1"?1:-1;e.direction==="rtl"&&(i*=-1),this.quill.format("indent",r+i,P.sources.USER)}},link(n){n===!0&&(n=prompt("Enter link URL:")),this.quill.format("link",n,P.sources.USER)},list(n){const t=this.quill.getSelection(),e=this.quill.getFormat(t);n==="check"?e.list==="checked"||e.list==="unchecked"?this.quill.format("list",!1,P.sources.USER):this.quill.format("list","unchecked",P.sources.USER):this.quill.format("list",n,P.sources.USER)}}};const rp='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',np='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',ip='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',sp='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',op='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',lp='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',ap='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',cp='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',ws='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',up='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',hp='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',fp='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',dp='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',pp='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',gp='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',mp='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',bp='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',yp='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',vp='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',wp='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',xp='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',Ap='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',Ep='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',Tp='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',Np='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',Op='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',Sp='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',Lp='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',Cp='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',qp='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',kp='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',Ip='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',_p='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',Qe={align:{"":rp,center:np,right:ip,justify:sp},background:op,blockquote:lp,bold:ap,clean:cp,code:ws,"code-block":ws,color:up,direction:{"":hp,rtl:fp},formula:dp,header:{1:pp,2:gp,3:mp,4:bp,5:yp,6:vp},italic:wp,image:xp,indent:{"+1":Ap,"-1":Ep},link:Tp,list:{bullet:Np,check:Op,ordered:Sp},script:{sub:Lp,super:Cp},strike:qp,table:kp,underline:Ip,video:_p},Rp='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let xs=0;function As(n,t){n.setAttribute(t,`${n.getAttribute(t)!=="true"}`)}class Br{constructor(t){this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",e=>{switch(e.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),e.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),As(this.label,"aria-expanded"),As(this.options,"aria-hidden")}buildItem(t){const e=document.createElement("span");e.tabIndex="0",e.setAttribute("role","button"),e.classList.add("ql-picker-item");const r=t.getAttribute("value");return r&&e.setAttribute("data-value",r),t.textContent&&e.setAttribute("data-label",t.textContent),e.addEventListener("click",()=>{this.selectItem(e,!0)}),e.addEventListener("keydown",i=>{switch(i.key){case"Enter":this.selectItem(e,!0),i.preventDefault();break;case"Escape":this.escape(),i.preventDefault();break}}),e}buildLabel(){const t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=Rp,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}buildOptions(){const t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id=`ql-picker-options-${xs}`,xs+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,Array.from(this.select.options).forEach(e=>{const r=this.buildItem(e);t.appendChild(r),e.selected===!0&&this.selectItem(r)}),this.container.appendChild(t)}buildPicker(){Array.from(this.select.attributes).forEach(t=>{this.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.container.querySelector(".ql-selected");t!==r&&(r!=null&&r.classList.remove("ql-selected"),t!=null&&(t.classList.add("ql-selected"),this.select.selectedIndex=Array.from(t.parentNode.children).indexOf(t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let t;if(this.select.selectedIndex>-1){const r=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(r)}else this.selectItem(null);const e=t!=null&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",e)}}class Lo extends Br{constructor(t,e){super(t),this.label.innerHTML=e,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(r=>{r.classList.add("ql-primary")})}buildItem(t){const e=super.buildItem(t);return e.style.backgroundColor=t.getAttribute("value")||"",e}selectItem(t,e){super.selectItem(t,e);const r=this.label.querySelector(".ql-color-label"),i=t&&t.getAttribute("data-value")||"";r&&(r.tagName==="line"?r.style.stroke=i:r.style.fill=i)}}class Co extends Br{constructor(t,e){super(t),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(r=>{r.innerHTML=e[r.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(t,e){super.selectItem(t,e);const r=t||this.defaultItem;if(r!=null){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}}const jp=n=>{const{overflowY:t}=getComputedStyle(n,null);return t!=="visible"&&t!=="clip"};class qo{constructor(t,e){this.quill=t,this.boundsContainer=e||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,jp(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(t){const e=t.left+t.width/2-this.root.offsetWidth/2,r=t.bottom+this.quill.root.scrollTop;this.root.style.left=`${e}px`,this.root.style.top=`${r}px`,this.root.classList.remove("ql-flip");const i=this.boundsContainer.getBoundingClientRect(),s=this.root.getBoundingClientRect();let o=0;if(s.right>i.right&&(o=i.right-s.right,this.root.style.left=`${e+o}px`),s.left<i.left&&(o=i.left-s.left,this.root.style.left=`${e+o}px`),s.bottom>i.bottom){const l=s.bottom-s.top,a=t.bottom-t.top+l;this.root.style.top=`${r-a}px`,this.root.classList.add("ql-flip")}return o}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const Pp=[!1,"center","right","justify"],Mp=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Bp=[!1,"serif","monospace"],Dp=["1","2","3",!1],$p=["small",!1,"large","huge"];class nr extends qe{constructor(t,e){super(t,e);const r=i=>{if(!document.body.contains(t.root)){document.body.removeEventListener("click",r);return}this.tooltip!=null&&!this.tooltip.root.contains(i.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(s=>{s.container.contains(i.target)||s.close()})};t.emitter.listenDOM("click",document.body,r)}addModule(t){const e=super.addModule(t);return t==="toolbar"&&this.extendToolbar(e),e}buildButtons(t,e){Array.from(t).forEach(r=>{(r.getAttribute("class")||"").split(/\s+/).forEach(s=>{if(s.startsWith("ql-")&&(s=s.slice(3),e[s]!=null))if(s==="direction")r.innerHTML=e[s][""]+e[s].rtl;else if(typeof e[s]=="string")r.innerHTML=e[s];else{const o=r.value||"";o!=null&&e[s][o]&&(r.innerHTML=e[s][o])}})})}buildPickers(t,e){this.pickers=Array.from(t).map(i=>{if(i.classList.contains("ql-align")&&(i.querySelector("option")==null&&Pe(i,Pp),typeof e.align=="object"))return new Co(i,e.align);if(i.classList.contains("ql-background")||i.classList.contains("ql-color")){const s=i.classList.contains("ql-background")?"background":"color";return i.querySelector("option")==null&&Pe(i,Mp,s==="background"?"#ffffff":"#000000"),new Lo(i,e[s])}return i.querySelector("option")==null&&(i.classList.contains("ql-font")?Pe(i,Bp):i.classList.contains("ql-header")?Pe(i,Dp):i.classList.contains("ql-size")&&Pe(i,$p)),new Br(i)});const r=()=>{this.pickers.forEach(i=>{i.update()})};this.quill.on(G.events.EDITOR_CHANGE,r)}}nr.DEFAULTS=Qt({},qe.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let n=this.container.querySelector("input.ql-image[type=file]");n==null&&(n=document.createElement("input"),n.setAttribute("type","file"),n.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),n.classList.add("ql-image"),n.addEventListener("change",()=>{const t=this.quill.getSelection(!0);this.quill.uploader.upload(t,n.files),n.value=""}),this.container.appendChild(n)),n.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class ko extends qo{constructor(t,e){super(t,e),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",t=>{t.key==="Enter"?(this.save(),t.preventDefault()):t.key==="Escape"&&(this.cancel(),t.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;e!=null?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const r=this.quill.getBounds(this.quill.selection.savedRange);r!=null&&this.position(r),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${t}`)||""),this.root.setAttribute("data-mode",t)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:t}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:e}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,G.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,G.sources.USER)),this.quill.root.scrollTop=e;break}case"video":t=Up(t);case"formula":{if(!t)break;const e=this.quill.getSelection(!0);if(e!=null){const r=e.index+e.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),t,G.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(r+1," ",G.sources.USER),this.quill.setSelection(r+2,G.sources.USER)}break}}this.textbox.value="",this.hide()}}function Up(n){let t=n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?`${t[1]||"https"}://www.youtube.com/embed/${t[2]}?showinfo=0`:(t=n.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${t[1]||"https"}://player.vimeo.com/video/${t[2]}/`:n}function Pe(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;t.forEach(r=>{const i=document.createElement("option");r===e?i.setAttribute("selected","selected"):i.setAttribute("value",String(r)),n.appendChild(i)})}const zp=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class Io extends ko{constructor(t,e){super(t,e),this.quill.on(G.events.EDITOR_CHANGE,(r,i,s,o)=>{if(r===G.events.SELECTION_CHANGE)if(i!=null&&i.length>0&&o===G.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const l=this.quill.getLines(i.index,i.length);if(l.length===1){const a=this.quill.getBounds(i);a!=null&&this.position(a)}else{const a=l[l.length-1],c=this.quill.getIndex(a),u=Math.min(a.length()-1,i.index+i.length-c),f=this.quill.getBounds(new te(c,u));f!=null&&this.position(f)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(G.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const t=this.quill.getSelection();if(t!=null){const e=this.quill.getBounds(t);e!=null&&this.position(e)}},1)})}cancel(){this.show()}position(t){const e=super.position(t),r=this.root.querySelector(".ql-tooltip-arrow");return r.style.marginLeft="",e!==0&&(r.style.marginLeft=`${-1*e-r.offsetWidth/2}px`),e}}F(Io,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class _o extends nr{constructor(t,e){e.modules.toolbar!=null&&e.modules.toolbar.container==null&&(e.modules.toolbar.container=zp),super(t,e),this.quill.container.classList.add("ql-bubble")}extendToolbar(t){this.tooltip=new Io(this.quill,this.options.bounds),t.container!=null&&(this.tooltip.root.appendChild(t.container),this.buildButtons(t.container.querySelectorAll("button"),Qe),this.buildPickers(t.container.querySelectorAll("select"),Qe))}}_o.DEFAULTS=Qt({},nr.DEFAULTS,{modules:{toolbar:{handlers:{link(n){n?this.quill.theme.tooltip.edit():this.quill.format("link",!1,P.sources.USER)}}}}});const Hp=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class Ro extends ko{constructor(){super(...arguments);F(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",e=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),e.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",e=>{if(this.linkRange!=null){const r=this.linkRange;this.restoreFocus(),this.quill.formatText(r,"link",!1,G.sources.USER),delete this.linkRange}e.preventDefault(),this.hide()}),this.quill.on(G.events.SELECTION_CHANGE,(e,r,i)=>{if(e!=null){if(e.length===0&&i===G.sources.USER){const[s,o]=this.quill.scroll.descendant(Xt,e.index);if(s!=null){this.linkRange=new te(e.index-o,s.length());const l=Xt.formats(s.domNode);this.preview.textContent=l,this.preview.setAttribute("href",l),this.show();const a=this.quill.getBounds(this.linkRange);a!=null&&this.position(a);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}F(Ro,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class jo extends nr{constructor(t,e){e.modules.toolbar!=null&&e.modules.toolbar.container==null&&(e.modules.toolbar.container=Hp),super(t,e),this.quill.container.classList.add("ql-snow")}extendToolbar(t){t.container!=null&&(t.container.classList.add("ql-snow"),this.buildButtons(t.container.querySelectorAll("button"),Qe),this.buildPickers(t.container.querySelectorAll("select"),Qe),this.tooltip=new Ro(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(e,r)=>{t.handlers.link.call(t,!r.format.link)}))}}jo.DEFAULTS=Qt({},nr.DEFAULTS,{modules:{toolbar:{handlers:{link(n){if(n){const t=this.quill.getSelection();if(t==null||t.length===0)return;let e=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(e)&&e.indexOf("mailto:")!==0&&(e=`mailto:${e}`);const{tooltip:r}=this.quill.theme;r.edit("link",e)}else this.quill.format("link",!1,P.sources.USER)}}}}});P.register({"attributors/attribute/direction":po,"attributors/class/align":uo,"attributors/class/background":ld,"attributors/class/color":od,"attributors/class/direction":go,"attributors/class/font":yo,"attributors/class/size":wo,"attributors/style/align":ho,"attributors/style/background":Wn,"attributors/style/color":Gn,"attributors/style/direction":mo,"attributors/style/font":vo,"attributors/style/size":xo},!0);P.register({"formats/align":uo,"formats/direction":go,"formats/indent":Xd,"formats/background":Wn,"formats/color":Gn,"formats/font":yo,"formats/size":wo,"formats/blockquote":Ln,"formats/code-block":gt,"formats/header":Cn,"formats/list":rr,"formats/bold":Xe,"formats/code":Kn,"formats/italic":qn,"formats/link":Xt,"formats/script":kn,"formats/strike":In,"formats/underline":_n,"formats/formula":Er,"formats/image":Rn,"formats/video":Tr,"modules/syntax":So,"modules/table":Jd,"modules/toolbar":Jn,"themes/bubble":_o,"themes/snow":jo,"ui/icons":Qe,"ui/picker":Br,"ui/icon-picker":Co,"ui/color-picker":Lo,"ui/tooltip":qo},!0);const Fp=Object.freeze(Object.defineProperty({__proto__:null,AttributeMap:mt.AttributeMap,Delta:W,Module:Nt,Op:mt.Op,OpIterator:mt.OpIterator,Parchment:so,Range:te,default:P},Symbol.toStringTag,{value:"Module"})),Vp=Kl(Fp),Es="snow",Ts={toolbar:[["bold","italic","underline","strike"],[{align:[]}],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],["link","image","video"],[{color:[]},{background:[]}],["clean"]],clipboard:{matchVisual:!1}},Ns=["bold","italic","underline","strike","align","list","indent","size","header","link","image","video","color","background"];function Me(n,t){if(n==null)throw new TypeError("Cannot convert undefined or null to object");const e=Object(n);for(let r=1;r<arguments.length;r++){const i=arguments[r];if(i!=null)for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e}const Gp=(n={theme:Es,modules:Ts,formats:Ns})=>{const t=Be.useRef(null),[e,r]=Be.useState(!1),[i,s]=Be.useState({Quill:void 0,quillRef:t,quill:void 0,editorRef:t,editor:void 0});return Be.useEffect(()=>{if(i.Quill||s(o=>Me(o,{Quill:Vp.default})),i.Quill&&!i.quill&&t&&t.current&&e){const o=Me(n,{modules:Me(Ts,n.modules),formats:n.formats||Ns,theme:n.theme||Es}),l=new i.Quill(t.current,o);s(Me(Me({},i),{quill:l,editor:l}))}r(!0)},[e,i,n]),i};var Wp=function(){function n(){}return n.prototype.getAllStyles=function(t){return window.getComputedStyle(t)},n.prototype.getStyle=function(t,e){return this.getAllStyles(t)[e]},n.prototype.isStaticPositioned=function(t){return(this.getStyle(t,"position")||"static")==="static"},n.prototype.offsetParent=function(t){for(var e=t.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement},n.prototype.position=function(t,e){e===void 0&&(e=!0);var r,i={top:0,left:0};if(this.getStyle(t,"position")==="fixed")r=t.getBoundingClientRect(),r={top:r.top,bottom:r.bottom,left:r.left,right:r.right,height:r.height,width:r.width};else{var s=this.offsetParent(t);r=this.offset(t,!1),s!==document.documentElement&&(i=this.offset(s,!1)),i.top+=s.clientTop,i.left+=s.clientLeft}return r.top-=i.top,r.bottom-=i.top,r.left-=i.left,r.right-=i.left,e&&(r.top=Math.round(r.top),r.bottom=Math.round(r.bottom),r.left=Math.round(r.left),r.right=Math.round(r.right)),r},n.prototype.offset=function(t,e){e===void 0&&(e=!0);var r=t.getBoundingClientRect(),i={top:window.pageYOffset-document.documentElement.clientTop,left:window.pageXOffset-document.documentElement.clientLeft},s={height:r.height||t.offsetHeight,width:r.width||t.offsetWidth,top:r.top+i.top,bottom:r.bottom+i.top,left:r.left+i.left,right:r.right+i.left};return e&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s},n.prototype.positionElements=function(t,e,r,i){var s=r.split("-"),o=s[0],l=o===void 0?"top":o,a=s[1],c=a===void 0?"center":a,u=i?this.offset(t,!1):this.position(t,!1),f=this.getAllStyles(e),h=parseFloat(f.marginTop),d=parseFloat(f.marginBottom),p=parseFloat(f.marginLeft),g=parseFloat(f.marginRight),y=0,w=0;switch(l){case"top":y=u.top-(e.offsetHeight+h+d);break;case"bottom":y=u.top+u.height;break;case"left":w=u.left-(e.offsetWidth+p+g);break;case"right":w=u.left+u.width;break}switch(c){case"top":y=u.top;break;case"bottom":y=u.top+u.height-e.offsetHeight;break;case"left":w=u.left;break;case"right":w=u.left+u.width-e.offsetWidth;break;case"center":l==="top"||l==="bottom"?w=u.left+u.width/2-e.offsetWidth/2:y=u.top+u.height/2-e.offsetHeight/2;break}e.style.transform="translate("+Math.round(w)+"px, "+Math.round(y)+"px)";var v=e.getBoundingClientRect(),N=document.documentElement,x=window.innerHeight||N.clientHeight,S=window.innerWidth||N.clientWidth;return v.left>=0&&v.top>=0&&v.right<=S&&v.bottom<=x},n}(),Kp=/\s+/,Os=new Wp;function Zp(n,t,e,r,i){var s=Array.isArray(e)?e:e.split(Kp),o=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"];t.classList;var l=function(p){var g=p.split("-");g[0],g[1];var y=[];return y},a=s.findIndex(function(p){return p==="auto"});a>=0&&o.forEach(function(p){s.find(function(g){return g.search("^"+p)!==-1})==null&&s.splice(a++,1,p)});var c=t.style;c.position="absolute",c.top="0",c.left="0",c["will-change"]="transform";for(var u,f=!1,h=0,d=s;h<d.length;h++)if(u=d[h],l(u),Os.positionElements(n,t,u,r)){f=!0;break}return f||(u=s[0],l(u),Os.positionElements(n,t,u,r)),u}var Cr=function(){return Cr=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Cr.apply(this,arguments)},He;(function(n){n.EDITOR_CHANGE="editor-change",n.SCROLL_BEFORE_UPDATE="scroll-before-update",n.SCROLL_BLOT_MOUNT="scroll-blot-mount",n.SCROLL_BLOT_UNMOUNT="scroll-blot-unmount",n.SCROLL_OPTIMIZE="scroll-optimize",n.SCROLL_UPDATE="scroll-update",n.SELECTION_CHANGE="selection-change",n.TEXT_CHANGE="text-change"})(He||(He={}));var Ss;(function(n){n.API="api",n.SILENT="silent",n.USER="user"})(Ss||(Ss={}));var Yp=["bottom-left","bottom-right","top-left","top-right","auto"],Xp='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg class="icon" width="20px" height="20px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path fill="#595959" d="M73.142857 336.64h526.628572v43.885714H73.142857zM73.142857 643.657143h526.628572v43.885714H73.142857zM336.457143 117.028571h43.885714v789.942858h-43.885714zM204.8 73.142857h614.4a131.657143 131.657143 0 0 1 131.657143 131.657143v614.4a131.657143 131.657143 0 0 1-131.657143 131.657143H204.8A131.657143 131.657143 0 0 1 73.142857 819.2V204.8A131.84 131.84 0 0 1 204.8 73.142857z m0 43.885714a87.771429 87.771429 0 0 0-87.771429 87.771429v614.4a87.771429 87.771429 0 0 0 87.771429 87.771429h614.4a87.771429 87.771429 0 0 0 87.771429-87.771429V204.8a87.771429 87.771429 0 0 0-87.771429-87.771429zM819.2 73.142857h-219.428571v877.714286h219.428571a131.657143 131.657143 0 0 0 131.657143-131.657143V204.8A131.84 131.84 0 0 0 819.2 73.142857z m44.068571 460.982857h-65.828571v65.828572H753.371429v-65.828572h-65.828572V490.057143h65.828572v-65.828572h44.068571v65.828572h65.828571z" /></svg>',Qp='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg class="icon" width="20px" height="20.00px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path fill="#595959" d="M380.342857 336.457143h526.811429v43.885714H380.342857z m0 307.2h526.811429v43.885714H380.342857zM643.657143 117.028571h43.885714v789.942858h-43.885714zM204.8 73.142857h614.582857A131.474286 131.474286 0 0 1 950.857143 204.8v614.4a131.657143 131.657143 0 0 1-131.657143 131.657143H204.8A131.657143 131.657143 0 0 1 73.142857 819.2V204.8A131.657143 131.657143 0 0 1 204.8 73.142857z m0 43.885714a87.588571 87.588571 0 0 0-87.588571 87.771429v614.4a87.588571 87.588571 0 0 0 87.588571 87.771429h614.582857a87.771429 87.771429 0 0 0 87.771429-87.771429V204.8a87.771429 87.771429 0 0 0-87.771429-87.771429zM204.8 73.142857A131.657143 131.657143 0 0 0 73.142857 204.8v614.4a131.657143 131.657143 0 0 0 131.657143 131.657143h219.428571V73.142857z m131.84 460.8h-65.828571v65.828572h-43.885715v-65.828572h-65.828571v-43.885714h65.828571v-65.828572h43.885715v65.828572h65.828571z" /></svg>',Jp='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg class="icon" width="20px" height="20.00px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path fill="#595959" d="M73.142857 599.771429h877.714286v43.885714H73.142857zM336.457143 380.342857h43.885714v526.628572h-43.885714z m307.2 0h43.885714v526.628572h-43.885714zM204.8 73.142857h614.4a131.657143 131.657143 0 0 1 131.657143 131.657143v614.4a131.657143 131.657143 0 0 1-131.657143 131.657143H204.8A131.657143 131.657143 0 0 1 73.142857 819.2V204.8A131.657143 131.657143 0 0 1 204.8 73.142857z m0 43.885714a87.771429 87.771429 0 0 0-87.771429 87.771429v614.4a87.588571 87.588571 0 0 0 87.771429 87.771429h614.4a87.588571 87.588571 0 0 0 87.771429-87.771429V204.8a87.771429 87.771429 0 0 0-87.771429-87.771429zM819.2 73.142857H204.8A131.657143 131.657143 0 0 0 73.142857 204.8v219.428571h877.714286v-219.428571A131.657143 131.657143 0 0 0 819.2 73.142857z m-219.428571 197.485714h-65.828572v65.828572h-43.885714v-65.828572h-65.828572v-43.885714h65.828572V160.914286h43.885714v65.828571h65.828572z" /></svg>',t1='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg class="icon" width="20px" height="20.00px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path fill="#595959" d="M204.8 73.142857h614.4a131.657143 131.657143 0 0 1 131.657143 131.657143v614.4a131.657143 131.657143 0 0 1-131.657143 131.657143H204.8A131.657143 131.657143 0 0 1 73.142857 819.2V204.8A131.84 131.84 0 0 1 204.8 73.142857z m0 43.885714a87.771429 87.771429 0 0 0-87.771429 87.771429v614.4a87.771429 87.771429 0 0 0 87.771429 87.771429h614.4a87.771429 87.771429 0 0 0 87.771429-87.771429V204.8a87.771429 87.771429 0 0 0-87.771429-87.771429zM73.142857 336.457143h877.714286v44.068571H73.142857zM336.64 117.028571h43.885714v526.628572h-43.885714z m307.017143 0h44.068571v526.628572H643.657143zM73.142857 599.771429v219.428571a131.657143 131.657143 0 0 0 131.657143 131.657143h614.4a131.657143 131.657143 0 0 0 131.657143-131.657143v-219.428571z m526.628572 197.485714h-65.645715v65.828571H490.057143v-65.828571h-65.828572v-43.885714h65.828572v-65.828572h44.068571v65.828572h65.645715z" /></svg>',e1='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg class="icon" width="20px" height="20.00px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path fill="#595959" d="M925.996 99.038c-25.47-25.6-60.121-39.822-96.323-39.822H194.198c-75.12 0.13-136.016 61.026-136.145 136.146v635.345c0 36.073 14.351 70.723 39.822 96.323 25.6 25.73 60.25 40.081 96.323 40.081h635.475c36.072 0 70.723-14.351 96.323-39.951 25.6-25.6 39.951-60.122 39.951-96.324V195.362c0-36.073-14.351-70.724-39.951-96.324z m-365.77 494.287L512 545.228l-48.226 48.097-32.194-31.935 48.355-48.226-48.226-48.097 32.194-32.194L512 480.97l48.097-48.097 32.194 32.194-48.097 48.097 48.226 48.226-32.194 31.935zM103.434 195.362c0-24.049 9.568-47.192 26.635-64.13 17.066-17.066 40.08-26.634 64.129-26.634h136.145v226.91H103.434V195.361z m0 181.656h226.91V649.31h-226.91V377.02z m90.764 544.84c-24.049 0-47.192-9.567-64.13-26.634-17.066-17.066-26.634-40.08-26.634-64.258V694.69h226.91v227.168H194.197z m726.238-90.763c0 24.048-9.438 47.192-26.505 64.259-17.066 17.066-40.21 26.634-64.258 26.505H693.527V694.69h226.91v136.404z m0-181.786H693.527V377.02h226.91v272.29zM693.527 331.507V104.598h136.146c24.048 0 47.192 9.438 64.258 26.505 17.067 17.067 26.635 40.21 26.505 64.259v136.145H693.527z" /></svg>',r1='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg class="icon" width="20px" height="20.00px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path fill="#595959" d="M925.99596 99.038384c-25.470707-25.6-60.121212-39.822222-96.323233-39.822222H194.19798c-36.072727 0-70.723232 14.351515-96.323233 39.822222-25.6 25.6-39.822222 60.121212-39.822222 96.323232v635.474748c0 36.072727 14.351515 70.723232 39.822222 96.323232C123.474747 952.759596 158.125253 967.111111 194.19798 967.111111h635.474747c36.072727 0 70.723232-14.351515 96.323233-39.951515 25.6-25.6 39.951515-60.121212 39.951515-96.323232V195.361616c0-36.072727-14.351515-70.723232-39.951515-96.323232z m-550.270707 5.559596h272.290909v227.167677H375.725253V104.59798z m56.242424 360.468687l31.935353-32.19394 48.09697 48.226263 48.09697-48.226263 32.193939 32.19394-48.09697 48.096969 48.226263 48.226263-32.193939 31.935354-48.226263-48.09697-48.226263 48.09697-31.935353-31.935354 48.226262-48.226263-48.096969-48.096969zM103.434343 195.361616c0-24.048485 9.567677-47.191919 26.634344-64.129293 17.066667-17.066667 40.080808-26.634343 64.129293-26.634343h136.145454v227.167677H103.434343V195.361616z m817.002021 635.733333c0 24.048485-9.567677 47.191919-26.634344 64.258586-17.066667 17.066667-40.080808 26.634343-64.129293 26.634344H194.19798c-24.048485 0-47.191919-9.567677-64.258586-26.634344C112.872727 878.157576 103.434343 855.014141 103.434343 830.836364V694.690909h226.909091v226.909091h45.381819V694.690909h272.290909v226.909091h45.381818V694.690909h226.909091v136.40404z m0-499.329292H693.527273V104.59798h136.145454c24.048485 0 47.191919 9.567677 64.129293 26.634343 17.066667 17.066667 26.634343 40.080808 26.634344 64.129293v136.404041z" /></svg>',n1='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg class="icon" width="20px" height="20.00px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path fill="#595959" d="M764.42168889 830.5152c0 30.23530667-24.61013333 54.84430222-54.84316444 54.84430222H314.42147555c-30.23416889 0-54.84316445-24.61013333-54.84316444-54.84430222V248.32796445h504.84337778v582.18723555zM369.26577778 149.89084445c0-6.32832 4.92202667-11.25034667 11.25034667-11.25034667H644.18702222c6.32832 0 11.25034667 4.92202667 11.25034667 11.25034667v33.04675555H369.26577778V149.89084445z m559.68768 33.04675555H720.82773333V149.89084445c0-42.1888-34.45191111-76.64071111-76.64071111-76.64071112H380.51612445c-42.1888 0-76.64071111 34.45191111-76.64071112 76.64071112v33.04675555h-208.82773333c-18.28181333 0-33.04789333 14.76608-33.04789333 33.04675555s14.76608 33.04675555 33.04675555 33.04675556h98.43825778v581.48408889c0 66.79779555 54.14001778 120.93781333 120.93667555 120.93781333h395.1570489c66.79665778 0 120.93667555-54.14001778 120.93667555-120.93781333V248.32796445h98.43825778c18.28067555 0 33.04675555-14.76494222 33.04675555-33.04675556s-14.76608-32.34360889-33.04675555-32.34360889zM512 786.21923555c18.28181333 0 33.04675555-14.76608 33.04675555-33.04789333v-351.56195555c0-18.28181333-14.76494222-33.04675555-33.04675555-33.04675556s-33.04675555 14.76494222-33.04675555 33.04675556v351.56195555c0 18.28181333 14.76494222 33.04789333 33.04675555 33.04789333m-153.98456889 0c18.28181333 0 33.04675555-14.76608 33.04675556-33.04789333v-351.56195555c0-18.28181333-14.76494222-33.04675555-33.04675556-33.04675556s-33.04675555 14.76494222-33.04675556 33.04675556v351.56195555c0.70314667 18.28181333 15.46922667 33.04789333 33.04675556 33.04789333m307.96913778 0c18.28067555 0 33.04675555-14.76608 33.04675556-33.04789333v-351.56195555c0-18.28181333-14.76608-33.04675555-33.04675556-33.04675556s-33.04675555 14.76494222-33.04675556 33.04675556v351.56195555c0 18.28181333 14.76494222 33.04789333 33.04675556 33.04789333" /></svg>',i1=function(){function n(t,e){var r=this;if(this.TOGGLE_TEMPLATE='<svg width="9" height="9" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"><g><path d="M8,22c-4.411,0-8,3.589-8,8s3.589,8,8,8s8-3.589,8-8S12.411,22,8,22z"/><path d="M52,22c-4.411,0-8,3.589-8,8s3.589,8,8,8s8-3.589,8-8S56.411,22,52,22z"/><path d="M30,22c-4.411,0-8,3.589-8,8s3.589,8,8,8s8-3.589,8-8S34.411,22,30,22z"/></g></svg>',this.DEFAULTS={maxRowCount:-1},this.menuItems=[{title:"Insert column right",icon:Xp,handler:function(){(!(r.options.maxRowCount>0)||r.getColCount()<r.options.maxRowCount)&&r.table.insertColumnRight()}},{title:"Insert column left",icon:Qp,handler:function(){(!(r.options.maxRowCount>0)||r.getColCount()<r.options.maxRowCount)&&r.table.insertColumnLeft()}},{title:"Insert row above",icon:Jp,handler:function(){r.table.insertRowAbove()}},{title:"Insert row below",icon:t1,handler:function(){r.table.insertRowBelow()}},{title:"Delete column",icon:e1,handler:function(){r.table.deleteColumn()}},{title:"Delete row",icon:r1,handler:function(){r.table.deleteRow()}},{title:"Delete table",icon:n1,handler:function(){r.table.deleteTable()}}],this.editorChangeHandler=function(i,s,o,l){i===He.SELECTION_CHANGE&&r.detectButton(s)},this.contextMenuHandler=function(i){if(!r.isTable())return!0;i.preventDefault(),r.showMenu()},this.toggleClickHandler=function(i){r.toggleMenu(),i.preventDefault(),i.stopPropagation()},this.docClickHandler=function(){return r.hideMenu},this.quill=t,this.options=Cr(Cr({},this.DEFAULTS),e),this.table=t.getModule("table"),!this.table){console.error('"table" module not found');return}this.toggle=t.addContainer("ql-table-toggle"),this.toggle.classList.add("ql-table-toggle_hidden"),this.toggle.innerHTML=this.TOGGLE_TEMPLATE,this.toggle.addEventListener("click",this.toggleClickHandler),this.quill.on(He.EDITOR_CHANGE,this.editorChangeHandler),this.quill.root.addEventListener("contextmenu",this.contextMenuHandler)}return n.prototype.isTable=function(t){if(t||(t=this.quill.getSelection()),!t)return!1;var e=this.quill.getFormat(t.index);return!!(e.table&&!t.length)},n.prototype.getColCount=function(t){if(t===void 0&&(t=null),t||(t=this.quill.getSelection()),!t)return 0;var e=this.table.getTable(t)[0];if(!e)return 0;var r=e.rows().reduce(function(i,s){return Math.max(s.children.length,i)},0);return r},n.prototype.showMenu=function(){var t=this;this.hideMenu(),this.menu=this.quill.addContainer("ql-table-menu"),this.menuItems.forEach(function(e){t.menu.appendChild(t.createMenuItem(e))}),Zp(this.toggle,this.menu,Yp,!1),document.addEventListener("click",this.docClickHandler)},n.prototype.hideMenu=function(){this.menu&&(this.menu.remove(),this.menu=null,document.removeEventListener("click",this.docClickHandler))},n.prototype.createMenuItem=function(t){var e=this,r=document.createElement("div");r.classList.add("ql-table-menu__item");var i=document.createElement("span");i.classList.add("ql-table-menu__item-icon"),i.innerHTML=t.icon;var s=document.createElement("span");return s.classList.add("ql-table-menu__item-text"),s.innerText=t.title,r.appendChild(i),r.appendChild(s),r.addEventListener("click",function(o){o.preventDefault(),o.stopPropagation(),e.quill.focus(),t.handler(),e.hideMenu(),e.detectButton(e.quill.getSelection())},!1),r},n.prototype.detectButton=function(t){if(t!=null){var e=this.isTable(t);if(e){var r=this.quill.getLine(t.index),i=r[0];r[1];var s=this.quill.container.getBoundingClientRect(),o=i.domNode.getBoundingClientRect();o={bottom:o.bottom-s.top,height:o.height,left:o.left-s.left,right:o.right-s.left,top:o.top-s.top,width:o.width},this.showToggle(o)}else this.hideToggle(),this.hideMenu()}},n.prototype.showToggle=function(t){this.position=t,this.toggle.classList.remove("ql-table-toggle_hidden"),this.toggle.style.top=t.top+"px",this.toggle.style.left=t.left+"px"},n.prototype.hideToggle=function(){this.toggle.classList.add("ql-table-toggle_hidden")},n.prototype.toggleMenu=function(){this.menu?this.hideToggle():this.showMenu()},n.prototype.destroy=function(){this.hideMenu(),this.quill.off(He.EDITOR_CHANGE,this.editorChangeHandler),this.quill.root.removeEventListener("contextmenu",this.contextMenuHandler),this.toggle.removeEventListener("click",this.toggleClickHandler),this.toggle.remove(),this.toggle=null,this.options=this.DEFAULTS,this.menu=null,this.table=null,this.quill=null},n}();function g1({value:n,onContent:t,label:e}){const{quill:r,quillRef:i,Quill:s}=Gp({modules:{table:!0,tableUI:!0,toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{align:[]}],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],["link","image","video"],["clean"],["blockquote","code-block"],[{color:[]},{background:[]}],["table"]],resize:{locale:{}},magicUrl:!0},formats:["header","bold","italic","underline","strike","align","list","bullet","indent","link","image","video","clean","blockquote","color","background","table","code-block"]});s&&(s.register("modules/resize",ea),s.register("modules/magicUrl",Xl),s.register("modules/tableUI",i1));const o=c=>{const u=r.getSelection();r.insertEmbed(u.index,"image",c)},l=async c=>{const u=new FormData;u.append("file",c);const{data:f}=await Wl.post(route("file.store"),u,{headers:{"Content-Type":"multipart/form-data"}});o(f.url)},a=()=>{const c=document.createElement("input");c.setAttribute("type","file"),c.setAttribute("accept","image/*"),c.click(),c.onchange=()=>{const u=c.files[0];l(u)}};return Be.useEffect(()=>{r&&(r.getModule("toolbar").addHandler("image",a),r.on("text-change",()=>{t(r.root.innerHTML)}),r.clipboard.dangerouslyPasteHTML(n))},[r]),Zr.jsxs("div",{className:"w-full min-h-[400px]",children:[e&&Zr.jsx("p",{className:"text-sm mb-1",children:e}),Zr.jsx("div",{ref:i})]})}export{g1 as Q};
